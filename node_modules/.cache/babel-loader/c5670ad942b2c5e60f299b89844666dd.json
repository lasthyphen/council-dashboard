{"ast":null,"code":"import _styled9 from\"styled-components\";import _styled8 from\"styled-components\";import _styled7 from\"styled-components\";import _styled6 from\"styled-components\";import _styled5 from\"styled-components\";import _styled4 from\"styled-components\";import _styled3 from\"styled-components\";import _styled2 from\"styled-components\";import _styled from\"styled-components\";import React,{useMemo}from'react';import{GU,IconCheck,IconCross,textStyle,useTheme}from'@aragon/ui';import MultiStepRequest from'./MultiStepRequest';import SingleStepRequest from'./SingleStepRequest';import TransactionProgress from'../TransactionProgress';import{REQUEST_STATUS_CONFIRMED,REQUEST_STATUS_FAILED,REQUEST_STATUS_PENDING,REQUEST_STATUS_PROCESSED,REQUEST_STATUS_PROCESSING_FAILED}from'../request-statuses';import{numberToOrdinal}from'../../../lib/math-utils';import{hasRequestFailed,hasRequestSucceeded,getRequestLabelText}from'./helper';var capitalize=function capitalize(str){return str.charAt(0).toUpperCase()+str.slice(1);};var _StyledDiv=_styled(\"div\").withConfig({displayName:\"RequestSteps___StyledDiv\",componentId:\"sc-84w31m-0\"})([\"background:\",\";display:grid;grid-row-gap:\",\"px;justify-content:space-evenly;padding:\",\"px 0;height:\",\"px;overflow-y:auto;\"],function(p){return p._css;},function(p){return p._css2;},function(p){return p._css3;},function(p){return p._css4;});function RequestSteps(_ref){var lastProcessedAt=_ref.lastProcessedAt,multipleRequests=_ref.multipleRequests,requests=_ref.requests,requestStatus=_ref.requestStatus;var theme=useTheme();return React.createElement(_StyledDiv,{_css:theme.feedbackSurface,_css2:4*GU,_css3:3*GU,_css4:44*GU},multipleRequests?React.createElement(MultiStepRequest,{lastProcessedAt:lastProcessedAt,requests:requests,requestStatus:requestStatus}):React.createElement(SingleStepRequest,{request:requests[0],status:requestStatus[0]}));}var _StyledDiv2=_styled(\"div\").withConfig({displayName:\"RequestSteps___StyledDiv2\",componentId:\"sc-84w31m-1\"})([\"align-self:center;\"]);var _StyledDiv3=_styled(\"div\").withConfig({displayName:\"RequestSteps___StyledDiv3\",componentId:\"sc-84w31m-2\"})([\"display:grid;grid-template-columns:20% 80%;grid-gap:\",\"px;width:\",\"px;\"],function(p){return p._css5;},function(p){return p._css6;});var _StyledDiv4=_styled(\"div\").withConfig({displayName:\"RequestSteps___StyledDiv4\",componentId:\"sc-84w31m-3\"})([\"background:\",\";color:\",\";display:flex;align-items:center;justify-content:center;width:\",\"px;height:\",\"px;border-radius:50%;margin-top:\",\"px;\",\";\"],function(p){return p._css7;},function(p){return p._css8;},function(p){return p._css9;},function(p){return p._css10;},function(p){return p._css11;},function(p){return p._css12;});var _StyledIconCross=_styled(IconCross).withConfig({displayName:\"RequestSteps___StyledIconCross\",componentId:\"sc-84w31m-4\"})([\"color:\",\";transition:color 150ms ease-in-out;\"],function(p){return p._css13;});var _StyledIconCheck=_styled(IconCheck).withConfig({displayName:\"RequestSteps___StyledIconCheck\",componentId:\"sc-84w31m-5\"})([\"color:\",\";transition:color 150ms ease-in-out;\"],function(p){return p._css14;});var _StyledSpan=_styled(\"span\").withConfig({displayName:\"RequestSteps___StyledSpan\",componentId:\"sc-84w31m-6\"})([\"\",\";\"],function(p){return p._css15;});var _StyledH=_styled(\"h3\").withConfig({displayName:\"RequestSteps___StyledH\",componentId:\"sc-84w31m-7\"})([\"\",\"\"],function(p){return p._css16;});var _StyledP=_styled(\"p\").withConfig({displayName:\"RequestSteps___StyledP\",componentId:\"sc-84w31m-8\"})([\"color:\",\";\",\";\"],function(p){return p._css17;},function(p){return p._css18;});export function RequestStepItem(_ref2){var lastProcessedAt=_ref2.lastProcessedAt,request=_ref2.request,status=_ref2.status,stepNumber=_ref2.stepNumber;var theme=useTheme();var _useMemo=useMemo(function(){var labelText=getRequestLabelText(request,status);if(status===REQUEST_STATUS_PROCESSING_FAILED||status===REQUEST_STATUS_FAILED){return{background:theme.negative,iconColor:theme.accentContent,labelColor:theme.negative,labelText:labelText};}if(status===REQUEST_STATUS_CONFIRMED){return{iconColor:theme.positive,labelColor:theme.positive,labelText:labelText};}if(status===REQUEST_STATUS_PENDING){return{background:theme.info,iconColor:theme.accentContent,labelColor:theme.contentSecondary.alpha(0.6),labelText:labelText,showProgress:true};}if(status===REQUEST_STATUS_PROCESSED){return{iconColor:theme.positive,labelColor:theme.positive,labelText:labelText};}return{background:theme.surfaceContentSecondary.alpha(0.2),iconColor:theme.contentSecondary,labelColor:theme.contentSecondary.alpha(0.6),labelText:labelText};},[request,status,theme]),background=_useMemo.background,iconColor=_useMemo.iconColor,labelColor=_useMemo.labelColor,labelText=_useMemo.labelText,showProgress=_useMemo.showProgress;var success=hasRequestSucceeded(request,status);var error=!success&&hasRequestFailed(status);return React.createElement(_StyledDiv2,null,React.createElement(_StyledDiv3,{_css5:2*GU,_css6:35*GU},React.createElement(_StyledDiv4,{_css7:background,_css8:iconColor,_css9:6*GU,_css10:6*GU,_css11:0.5*GU,_css12:success&&\"border: 2px solid \".concat(iconColor)},function(){if(error){return React.createElement(_StyledIconCross,{size:\"medium\",_css13:iconColor});}if(success){return React.createElement(_StyledIconCheck,{size:\"medium\",_css14:iconColor});}return React.createElement(_StyledSpan,{_css15:textStyle('body1')},stepNumber);}()),React.createElement(\"div\",null,React.createElement(_StyledH,{_css16:textStyle('title4')},capitalize(numberToOrdinal(stepNumber)),\" step\"),React.createElement(_StyledP,{_css17:labelColor,_css18:textStyle('body3')},labelText),showProgress&&React.createElement(TransactionProgress,{createdAt:lastProcessedAt}))));}export default RequestSteps;","map":{"version":3,"sources":["/Users/saleemfareed/oneds/court-dashboard/src/components/RequestPanel/Steps/RequestSteps.js"],"names":["React","useMemo","GU","IconCheck","IconCross","textStyle","useTheme","MultiStepRequest","SingleStepRequest","TransactionProgress","REQUEST_STATUS_CONFIRMED","REQUEST_STATUS_FAILED","REQUEST_STATUS_PENDING","REQUEST_STATUS_PROCESSED","REQUEST_STATUS_PROCESSING_FAILED","numberToOrdinal","hasRequestFailed","hasRequestSucceeded","getRequestLabelText","capitalize","str","charAt","toUpperCase","slice","RequestSteps","lastProcessedAt","multipleRequests","requests","requestStatus","theme","feedbackSurface","RequestStepItem","request","status","stepNumber","labelText","background","negative","iconColor","accentContent","labelColor","positive","info","contentSecondary","alpha","showProgress","surfaceContentSecondary","success","error"],"mappings":"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","sourcesContent":["import React, { useMemo } from 'react'\nimport { GU, IconCheck, IconCross, textStyle, useTheme } from '@aragon/ui'\nimport MultiStepRequest from './MultiStepRequest'\nimport SingleStepRequest from './SingleStepRequest'\nimport TransactionProgress from '../TransactionProgress'\nimport {\n  REQUEST_STATUS_CONFIRMED,\n  REQUEST_STATUS_FAILED,\n  REQUEST_STATUS_PENDING,\n  REQUEST_STATUS_PROCESSED,\n  REQUEST_STATUS_PROCESSING_FAILED,\n} from '../request-statuses'\nimport { numberToOrdinal } from '../../../lib/math-utils'\nimport {\n  hasRequestFailed,\n  hasRequestSucceeded,\n  getRequestLabelText,\n} from './helper'\n\nconst capitalize = str => str.charAt(0).toUpperCase() + str.slice(1)\n\nfunction RequestSteps({\n  lastProcessedAt,\n  multipleRequests,\n  requests,\n  requestStatus,\n}) {\n  const theme = useTheme()\n  return (\n    <div\n      css={`\n        background: ${theme.feedbackSurface};\n        display: grid;\n        grid-row-gap: ${4 * GU}px;\n        justify-content: space-evenly;\n        padding: ${3 * GU}px 0;\n        height: ${44 * GU}px;\n        overflow-y: auto;\n      `}\n    >\n      {multipleRequests ? (\n        <MultiStepRequest\n          lastProcessedAt={lastProcessedAt}\n          requests={requests}\n          requestStatus={requestStatus}\n        />\n      ) : (\n        <SingleStepRequest request={requests[0]} status={requestStatus[0]} />\n      )}\n    </div>\n  )\n}\n\nexport function RequestStepItem({\n  lastProcessedAt,\n  request,\n  status,\n  stepNumber,\n}) {\n  const theme = useTheme()\n\n  const {\n    background,\n    iconColor,\n    labelColor,\n    labelText,\n    showProgress,\n  } = useMemo(() => {\n    const labelText = getRequestLabelText(request, status)\n\n    if (\n      status === REQUEST_STATUS_PROCESSING_FAILED ||\n      status === REQUEST_STATUS_FAILED\n    ) {\n      return {\n        background: theme.negative,\n        iconColor: theme.accentContent,\n        labelColor: theme.negative,\n        labelText,\n      }\n    }\n\n    if (status === REQUEST_STATUS_CONFIRMED) {\n      return {\n        iconColor: theme.positive,\n        labelColor: theme.positive,\n        labelText,\n      }\n    }\n\n    if (status === REQUEST_STATUS_PENDING) {\n      return {\n        background: theme.info,\n        iconColor: theme.accentContent,\n        labelColor: theme.contentSecondary.alpha(0.6),\n        labelText,\n        showProgress: true,\n      }\n    }\n    if (status === REQUEST_STATUS_PROCESSED) {\n      return {\n        iconColor: theme.positive,\n        labelColor: theme.positive,\n        labelText,\n      }\n    }\n\n    return {\n      background: theme.surfaceContentSecondary.alpha(0.2),\n      iconColor: theme.contentSecondary,\n      labelColor: theme.contentSecondary.alpha(0.6),\n      labelText,\n    }\n  }, [request, status, theme])\n\n  const success = hasRequestSucceeded(request, status)\n  const error = !success && hasRequestFailed(status)\n\n  return (\n    <div\n      css={`\n        align-self: center;\n      `}\n    >\n      <div\n        css={`\n          display: grid;\n          grid-template-columns: 20% 80%;\n          grid-gap: ${2 * GU}px;\n          width: ${35 * GU}px;\n        `}\n      >\n        <div\n          css={`\n            background: ${background};\n            color: ${iconColor};\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            width: ${6 * GU}px;\n            height: ${6 * GU}px;\n            border-radius: 50%;\n            margin-top: ${0.5 * GU}px;\n\n            ${success && `border: 2px solid ${iconColor}`};\n          `}\n        >\n          {(() => {\n            if (error) {\n              return (\n                <IconCross\n                  size=\"medium\"\n                  css={`\n                    color: ${iconColor};\n                    transition: color 150ms ease-in-out;\n                  `}\n                />\n              )\n            }\n\n            if (success) {\n              return (\n                <IconCheck\n                  size=\"medium\"\n                  css={`\n                    color: ${iconColor};\n                    transition: color 150ms ease-in-out;\n                  `}\n                />\n              )\n            }\n\n            return (\n              <span\n                css={`\n                  ${textStyle('body1')};\n                `}\n              >\n                {stepNumber}\n              </span>\n            )\n          })()}\n        </div>\n        <div>\n          <h3\n            css={`\n              ${textStyle('title4')}\n            `}\n          >\n            {capitalize(numberToOrdinal(stepNumber))} step\n          </h3>\n          <p\n            css={`\n              color: ${labelColor};\n              ${textStyle('body3')};\n            `}\n          >\n            {labelText}\n          </p>\n          {showProgress && <TransactionProgress createdAt={lastProcessedAt} />}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default RequestSteps\n"]},"metadata":{},"sourceType":"module"}