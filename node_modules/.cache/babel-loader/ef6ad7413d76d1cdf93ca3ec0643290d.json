{"ast":null,"code":"import _toConsumableArray from\"/Users/saleemfareed/oneds/court-dashboard/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/saleemfareed/oneds/court-dashboard/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/saleemfareed/oneds/court-dashboard/node_modules/@babel/runtime/helpers/esm/createClass\";var StoredList=/*#__PURE__*/function(){// name: the key used by StoredList to save the list in localStorage.\n// preStringify: use this to transform an item of the list before being saved.\n// postParse: use this to transform an item of the list after it got loaded.\nfunction StoredList(name){var _ref=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},_ref$preStringify=_ref.preStringify,preStringify=_ref$preStringify===void 0?function(v){return v;}:_ref$preStringify,_ref$postParse=_ref.postParse,postParse=_ref$postParse===void 0?function(v){return v;}:_ref$postParse;_classCallCheck(this,StoredList);this.options={preStringify:preStringify,postParse:postParse};this.name=name;this.items=this.loadItems();}_createClass(StoredList,[{key:\"loadItems\",value:function loadItems(){var items=null;var value=localStorage.getItem(this.name);if(value===null){return[];}try{items=JSON.parse(value);}catch(err){console.error(\"StoredList (\".concat(this.name,\") couldn\\u2019t parse the loaded items\"),err);}if(!Array.isArray(items)){items=null;console.error(\"The data loaded by StoredList (\".concat(this.name,\") is not an array\"),items);}return items===null?[]:items.map(this.options.postParse);}},{key:\"saveItems\",value:function saveItems(){localStorage.setItem(this.name,JSON.stringify(this.items.map(this.options.preStringify)));}},{key:\"getItems\",value:function getItems(){return this.items;}},{key:\"update\",value:function update(){var items=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];this.items=items;this.saveItems();return items;}},{key:\"add\",value:function add(value){return this.update([].concat(_toConsumableArray(this.items),[value]));}},{key:\"remove\",value:function remove(index){return this.update([].concat(_toConsumableArray(this.items.slice(0,index)),_toConsumableArray(this.items.slice(index+1))));}},{key:\"has\",value:function has(cond){return this.items.some(cond);}}]);return StoredList;}();export default StoredList;","map":{"version":3,"sources":["/Users/saleemfareed/oneds/court-dashboard/src/StoredList.js"],"names":["StoredList","name","preStringify","v","postParse","options","items","loadItems","value","localStorage","getItem","JSON","parse","err","console","error","Array","isArray","map","setItem","stringify","saveItems","update","index","slice","cond","some"],"mappings":"6XAAMA,CAAAA,U,yBACJ;AACA;AACA;AACA,oBAAYC,IAAZ,CAAsE,oEAAJ,EAAI,wBAAlDC,YAAkD,CAAlDA,YAAkD,4BAAnC,SAAAC,CAAC,QAAIA,CAAAA,CAAJ,EAAkC,uCAA3BC,SAA2B,CAA3BA,SAA2B,yBAAf,SAAAD,CAAC,QAAIA,CAAAA,CAAJ,EAAc,iDACpE,KAAKE,OAAL,CAAe,CAAEH,YAAY,CAAZA,YAAF,CAAgBE,SAAS,CAATA,SAAhB,CAAf,CACA,KAAKH,IAAL,CAAYA,IAAZ,CACA,KAAKK,KAAL,CAAa,KAAKC,SAAL,EAAb,CACD,C,oEAEW,CACV,GAAID,CAAAA,KAAK,CAAG,IAAZ,CACA,GAAME,CAAAA,KAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,KAAKT,IAA1B,CAAd,CAEA,GAAIO,KAAK,GAAK,IAAd,CAAoB,CAClB,MAAO,EAAP,CACD,CAED,GAAI,CACFF,KAAK,CAAGK,IAAI,CAACC,KAAL,CAAWJ,KAAX,CAAR,CACD,CAAC,MAAOK,GAAP,CAAY,CACZC,OAAO,CAACC,KAAR,uBACiB,KAAKd,IADtB,2CAEEY,GAFF,EAID,CAED,GAAI,CAACG,KAAK,CAACC,OAAN,CAAcX,KAAd,CAAL,CAA2B,CACzBA,KAAK,CAAG,IAAR,CACAQ,OAAO,CAACC,KAAR,0CACoC,KAAKd,IADzC,sBAEEK,KAFF,EAID,CAED,MAAOA,CAAAA,KAAK,GAAK,IAAV,CAAiB,EAAjB,CAAsBA,KAAK,CAACY,GAAN,CAAU,KAAKb,OAAL,CAAaD,SAAvB,CAA7B,CACD,C,6CAEW,CACVK,YAAY,CAACU,OAAb,CACE,KAAKlB,IADP,CAEEU,IAAI,CAACS,SAAL,CAAe,KAAKd,KAAL,CAAWY,GAAX,CAAe,KAAKb,OAAL,CAAaH,YAA5B,CAAf,CAFF,EAID,C,2CAEU,CACT,MAAO,MAAKI,KAAZ,CACD,C,uCAEkB,IAAZA,CAAAA,KAAY,2DAAJ,EAAI,CACjB,KAAKA,KAAL,CAAaA,KAAb,CACA,KAAKe,SAAL,GACA,MAAOf,CAAAA,KAAP,CACD,C,gCAEGE,K,CAAO,CACT,MAAO,MAAKc,MAAL,8BAAgB,KAAKhB,KAArB,GAA4BE,KAA5B,GAAP,CACD,C,sCAEMe,K,CAAO,CACZ,MAAO,MAAKD,MAAL,8BACF,KAAKhB,KAAL,CAAWkB,KAAX,CAAiB,CAAjB,CAAoBD,KAApB,CADE,qBAEF,KAAKjB,KAAL,CAAWkB,KAAX,CAAiBD,KAAK,CAAG,CAAzB,CAFE,GAAP,CAID,C,gCAEGE,I,CAAM,CACR,MAAO,MAAKnB,KAAL,CAAWoB,IAAX,CAAgBD,IAAhB,CAAP,CACD,C,0BAGH,cAAezB,CAAAA,UAAf","sourcesContent":["class StoredList {\n  // name: the key used by StoredList to save the list in localStorage.\n  // preStringify: use this to transform an item of the list before being saved.\n  // postParse: use this to transform an item of the list after it got loaded.\n  constructor(name, { preStringify = v => v, postParse = v => v } = {}) {\n    this.options = { preStringify, postParse }\n    this.name = name\n    this.items = this.loadItems()\n  }\n\n  loadItems() {\n    let items = null\n    const value = localStorage.getItem(this.name)\n\n    if (value === null) {\n      return []\n    }\n\n    try {\n      items = JSON.parse(value)\n    } catch (err) {\n      console.error(\n        `StoredList (${this.name}) couldnâ€™t parse the loaded items`,\n        err\n      )\n    }\n\n    if (!Array.isArray(items)) {\n      items = null\n      console.error(\n        `The data loaded by StoredList (${this.name}) is not an array`,\n        items\n      )\n    }\n\n    return items === null ? [] : items.map(this.options.postParse)\n  }\n\n  saveItems() {\n    localStorage.setItem(\n      this.name,\n      JSON.stringify(this.items.map(this.options.preStringify))\n    )\n  }\n\n  getItems() {\n    return this.items\n  }\n\n  update(items = []) {\n    this.items = items\n    this.saveItems()\n    return items\n  }\n\n  add(value) {\n    return this.update([...this.items, value])\n  }\n\n  remove(index) {\n    return this.update([\n      ...this.items.slice(0, index),\n      ...this.items.slice(index + 1),\n    ])\n  }\n\n  has(cond) {\n    return this.items.some(cond)\n  }\n}\n\nexport default StoredList\n"]},"metadata":{},"sourceType":"module"}