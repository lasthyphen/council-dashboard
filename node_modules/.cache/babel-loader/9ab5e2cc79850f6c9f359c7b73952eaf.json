{"ast":null,"code":"import _objectWithoutProperties from\"/Users/saleemfareed/oneds/court-dashboard/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _styled from\"styled-components\";import React from'react';import{GU,SidePanel,Split,useLayout}from'@aragon/ui';import Welcome from'./Welcome';import Tasks from'../Tasks/Tasks';import TitleHeader from'../TitleHeader';import ErrorLoading from'../Errors/ErrorLoading';import BalanceModule from'./BalanceModule';import RewardsModule from'./RewardsModule';import ActivateANJ from'./panels/ActivateANJ';import WithdrawANJ from'./panels/WithdrawANJ';import DeactivateANJ from'./panels/DeactivateANJ';import AppealColateralModule from'./AppealColateralModule';import CourtStats from'./CourtStats';import{useWallet}from'../../providers/Wallet';import{DashboardStateProvider}from'./DashboardStateProvider';import{getRequestModeString,useDashboardLogic,REQUEST_MODE}from'../../hooks/dashboard-logic';import{getTotalUnlockedActiveBalance,getTotalEffectiveInactiveBalance}from'../../utils/balance-utils';var _StyledDiv=_styled(\"div\").withConfig({displayName:\"Dashboard___StyledDiv\",componentId:\"sc-1u2boq1-0\"})([\"margin-top:\",\"px;\"],function(p){return p._css;});function Dashboard(){var wallet=useWallet();var _useDashboardLogic=useDashboardLogic(),actions=_useDashboardLogic.actions,anjBalances=_useDashboardLogic.anjBalances,appealCollaterals=_useDashboardLogic.appealCollaterals,errorsFetching=_useDashboardLogic.errorsFetching,fetchingData=_useDashboardLogic.fetchingData,mode=_useDashboardLogic.mode,panelState=_useDashboardLogic.panelState,requests=_useDashboardLogic.requests,rewards=_useDashboardLogic.rewards,treasury=_useDashboardLogic.treasury;var _useLayout=useLayout(),layout=_useLayout.name;var oneColumn=layout==='small'||layout==='medium';return React.createElement(React.Fragment,null,React.createElement(TitleHeader,{title:\"Councillor's Dashboard\",onlyTitle:!wallet.account}),(errorsFetching===null||errorsFetching===void 0?void 0:errorsFetching.length)>0?React.createElement(ErrorLoading,{subject:\"dashboard\",errors:errorsFetching.map(function(error){return error.message;})}):React.createElement(React.Fragment,null,wallet.account?React.createElement(BalanceModule,{balances:anjBalances,loading:fetchingData,onRequestActivate:requests.activateANJ,onRequestDeactivate:requests.deactivateANJ,onRequestStakeActivate:requests.stakeActivateANJ,onRequestWithdraw:requests.withdrawANJ}):React.createElement(Welcome,null),!wallet.account?React.createElement(Split,{primary:React.createElement(Tasks,{onlyTable:true}),secondary:React.createElement(CourtStats,null),invert:\"horizontal\"}):React.createElement(Split,{primary:React.createElement(Tasks,{onlyTable:true}),secondary:React.createElement(React.Fragment,null,React.createElement(RewardsModule,{rewards:rewards,treasury:treasury,loading:fetchingData,onClaimRewards:actions.claimRewards}),React.createElement(AppealColateralModule,{appeals:appealCollaterals,loading:fetchingData})),invert:oneColumn?'vertical':'horizontal'})),React.createElement(SidePanel,{title:\"\".concat(getRequestModeString(mode),\" ANJ\"),opened:panelState.visible,onClose:panelState.requestClose,onTransitionEnd:panelState.endTransition},React.createElement(_StyledDiv,{_css:2*GU}),React.createElement(PanelComponent,{mode:mode,actions:actions,balances:anjBalances,onDone:panelState.requestClose})));}function PanelComponent(_ref){var mode=_ref.mode,actions=_ref.actions,balances=_ref.balances,props=_objectWithoutProperties(_ref,[\"mode\",\"actions\",\"balances\"]);var activateANJ=actions.activateANJ,deactivateANJ=actions.deactivateANJ,withdrawANJ=actions.withdrawANJ;var walletBalance=balances.walletBalance,activeBalance=balances.activeBalance;var unlockedActiveBalance=getTotalUnlockedActiveBalance(balances);var effectiveInactiveBalance=getTotalEffectiveInactiveBalance(balances);switch(mode){case REQUEST_MODE.DEACTIVATE:return React.createElement(DeactivateANJ,Object.assign({activeBalance:unlockedActiveBalance,onDeactivateANJ:deactivateANJ},props));case REQUEST_MODE.WITHDRAW:return React.createElement(WithdrawANJ,Object.assign({inactiveBalance:effectiveInactiveBalance,onWithdrawANJ:withdrawANJ},props));default:return React.createElement(ActivateANJ,Object.assign({activeBalance:activeBalance.amount,inactiveBalance:effectiveInactiveBalance,walletBalance:walletBalance.amount,onActivateANJ:activateANJ,fromWallet:mode===REQUEST_MODE.STAKE_ACTIVATE},props));}}export default function DashboardWithSubscritpion(props){return React.createElement(DashboardStateProvider,null,React.createElement(Dashboard,props));}","map":{"version":3,"sources":["/Users/saleemfareed/oneds/court-dashboard/src/components/Dashboard/Dashboard.js"],"names":["React","GU","SidePanel","Split","useLayout","Welcome","Tasks","TitleHeader","ErrorLoading","BalanceModule","RewardsModule","ActivateANJ","WithdrawANJ","DeactivateANJ","AppealColateralModule","CourtStats","useWallet","DashboardStateProvider","getRequestModeString","useDashboardLogic","REQUEST_MODE","getTotalUnlockedActiveBalance","getTotalEffectiveInactiveBalance","Dashboard","wallet","actions","anjBalances","appealCollaterals","errorsFetching","fetchingData","mode","panelState","requests","rewards","treasury","layout","name","oneColumn","account","length","map","error","message","activateANJ","deactivateANJ","stakeActivateANJ","withdrawANJ","claimRewards","visible","requestClose","endTransition","PanelComponent","balances","props","walletBalance","activeBalance","unlockedActiveBalance","effectiveInactiveBalance","DEACTIVATE","WITHDRAW","amount","STAKE_ACTIVATE","DashboardWithSubscritpion"],"mappings":"uLAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,EAAT,CAAaC,SAAb,CAAwBC,KAAxB,CAA+BC,SAA/B,KAAgD,YAAhD,CAEA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,gBAAlB,CACA,MAAOC,CAAAA,WAAP,KAAwB,gBAAxB,CACA,MAAOC,CAAAA,YAAP,KAAyB,wBAAzB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,MAAOC,CAAAA,WAAP,KAAwB,sBAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,sBAAxB,CACA,MAAOC,CAAAA,aAAP,KAA0B,wBAA1B,CACA,MAAOC,CAAAA,qBAAP,KAAkC,yBAAlC,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CAEA,OAASC,SAAT,KAA0B,wBAA1B,CACA,OAASC,sBAAT,KAAuC,0BAAvC,CACA,OACEC,oBADF,CAEEC,iBAFF,CAGEC,YAHF,KAIO,6BAJP,CAKA,OACEC,6BADF,CAEEC,gCAFF,KAGO,2BAHP,C,8JAKA,QAASC,CAAAA,SAAT,EAAqB,CACnB,GAAMC,CAAAA,MAAM,CAAGR,SAAS,EAAxB,CADmB,uBAafG,iBAAiB,EAbF,CAGjBM,OAHiB,oBAGjBA,OAHiB,CAIjBC,WAJiB,oBAIjBA,WAJiB,CAKjBC,iBALiB,oBAKjBA,iBALiB,CAMjBC,cANiB,oBAMjBA,cANiB,CAOjBC,YAPiB,oBAOjBA,YAPiB,CAQjBC,IARiB,oBAQjBA,IARiB,CASjBC,UATiB,oBASjBA,UATiB,CAUjBC,QAViB,oBAUjBA,QAViB,CAWjBC,OAXiB,oBAWjBA,OAXiB,CAYjBC,QAZiB,oBAYjBA,QAZiB,gBAeM9B,SAAS,EAff,CAeL+B,MAfK,YAeXC,IAfW,CAgBnB,GAAMC,CAAAA,SAAS,CAAGF,MAAM,GAAK,OAAX,EAAsBA,MAAM,GAAK,QAAnD,CAEA,MACE,qBAAC,KAAD,CAAO,QAAP,MACE,oBAAC,WAAD,EAAa,KAAK,CAAC,wBAAnB,CAA4C,SAAS,CAAE,CAACX,MAAM,CAACc,OAA/D,EADF,CAEG,CAAAV,cAAc,OAAd,EAAAA,cAAc,SAAd,QAAAA,cAAc,CAAEW,MAAhB,EAAyB,CAAzB,CACC,oBAAC,YAAD,EACE,OAAO,CAAC,WADV,CAEE,MAAM,CAAEX,cAAc,CAACY,GAAf,CAAmB,SAAAC,KAAK,QAAIA,CAAAA,KAAK,CAACC,OAAV,EAAxB,CAFV,EADD,CAMC,wCACGlB,MAAM,CAACc,OAAP,CACC,oBAAC,aAAD,EACE,QAAQ,CAAEZ,WADZ,CAEE,OAAO,CAAEG,YAFX,CAGE,iBAAiB,CAAEG,QAAQ,CAACW,WAH9B,CAIE,mBAAmB,CAAEX,QAAQ,CAACY,aAJhC,CAKE,sBAAsB,CAAEZ,QAAQ,CAACa,gBALnC,CAME,iBAAiB,CAAEb,QAAQ,CAACc,WAN9B,EADD,CAUC,oBAAC,OAAD,MAXJ,CAcG,CAACtB,MAAM,CAACc,OAAR,CACC,oBAAC,KAAD,EACE,OAAO,CAAE,oBAAC,KAAD,EAAO,SAAS,KAAhB,EADX,CAEE,SAAS,CAAE,oBAAC,UAAD,MAFb,CAGE,MAAM,CAAC,YAHT,EADD,CAOC,oBAAC,KAAD,EACE,OAAO,CAAE,oBAAC,KAAD,EAAO,SAAS,KAAhB,EADX,CAEE,SAAS,CACP,wCACE,oBAAC,aAAD,EACE,OAAO,CAAEL,OADX,CAEE,QAAQ,CAAEC,QAFZ,CAGE,OAAO,CAAEL,YAHX,CAIE,cAAc,CAAEJ,OAAO,CAACsB,YAJ1B,EADF,CAOE,oBAAC,qBAAD,EACE,OAAO,CAAEpB,iBADX,CAEE,OAAO,CAAEE,YAFX,EAPF,CAHJ,CAgBE,MAAM,CAAEQ,SAAS,CAAG,UAAH,CAAgB,YAhBnC,EArBJ,CARJ,CAkDE,oBAAC,SAAD,EACE,KAAK,WAAKnB,oBAAoB,CAACY,IAAD,CAAzB,QADP,CAEE,MAAM,CAAEC,UAAU,CAACiB,OAFrB,CAGE,OAAO,CAAEjB,UAAU,CAACkB,YAHtB,CAIE,eAAe,CAAElB,UAAU,CAACmB,aAJ9B,EAME,qCAEkB,EAAIjD,EAFtB,EANF,CAWE,oBAAC,cAAD,EACE,IAAI,CAAE6B,IADR,CAEE,OAAO,CAAEL,OAFX,CAGE,QAAQ,CAAEC,WAHZ,CAIE,MAAM,CAAEK,UAAU,CAACkB,YAJrB,EAXF,CAlDF,CADF,CAuED,CAED,QAASE,CAAAA,cAAT,MAA+D,IAArCrB,CAAAA,IAAqC,MAArCA,IAAqC,CAA/BL,OAA+B,MAA/BA,OAA+B,CAAtB2B,QAAsB,MAAtBA,QAAsB,CAATC,KAAS,iEACrDV,CAAAA,WADqD,CACTlB,OADS,CACrDkB,WADqD,CACxCC,aADwC,CACTnB,OADS,CACxCmB,aADwC,CACzBE,WADyB,CACTrB,OADS,CACzBqB,WADyB,IAErDQ,CAAAA,aAFqD,CAEpBF,QAFoB,CAErDE,aAFqD,CAEtCC,aAFsC,CAEpBH,QAFoB,CAEtCG,aAFsC,CAI7D,GAAMC,CAAAA,qBAAqB,CAAGnC,6BAA6B,CAAC+B,QAAD,CAA3D,CACA,GAAMK,CAAAA,wBAAwB,CAAGnC,gCAAgC,CAAC8B,QAAD,CAAjE,CAEA,OAAQtB,IAAR,EACE,IAAKV,CAAAA,YAAY,CAACsC,UAAlB,CACE,MACE,qBAAC,aAAD,gBACE,aAAa,CAAEF,qBADjB,CAEE,eAAe,CAAEZ,aAFnB,EAGMS,KAHN,EADF,CAOF,IAAKjC,CAAAA,YAAY,CAACuC,QAAlB,CACE,MACE,qBAAC,WAAD,gBACE,eAAe,CAAEF,wBADnB,CAEE,aAAa,CAAEX,WAFjB,EAGMO,KAHN,EADF,CAOF,QACE,MACE,qBAAC,WAAD,gBACE,aAAa,CAAEE,aAAa,CAACK,MAD/B,CAEE,eAAe,CAAEH,wBAFnB,CAGE,aAAa,CAAEH,aAAa,CAACM,MAH/B,CAIE,aAAa,CAAEjB,WAJjB,CAKE,UAAU,CAAEb,IAAI,GAAKV,YAAY,CAACyC,cALpC,EAMMR,KANN,EADF,CAlBJ,CA6BD,CAED,cAAe,SAASS,CAAAA,yBAAT,CAAmCT,KAAnC,CAA0C,CACvD,MACE,qBAAC,sBAAD,MACE,oBAAC,SAAD,CAAeA,KAAf,CADF,CADF,CAKD","sourcesContent":["import React from 'react'\nimport { GU, SidePanel, Split, useLayout } from '@aragon/ui'\n\nimport Welcome from './Welcome'\nimport Tasks from '../Tasks/Tasks'\nimport TitleHeader from '../TitleHeader'\nimport ErrorLoading from '../Errors/ErrorLoading'\nimport BalanceModule from './BalanceModule'\nimport RewardsModule from './RewardsModule'\nimport ActivateANJ from './panels/ActivateANJ'\nimport WithdrawANJ from './panels/WithdrawANJ'\nimport DeactivateANJ from './panels/DeactivateANJ'\nimport AppealColateralModule from './AppealColateralModule'\nimport CourtStats from './CourtStats'\n\nimport { useWallet } from '../../providers/Wallet'\nimport { DashboardStateProvider } from './DashboardStateProvider'\nimport {\n  getRequestModeString,\n  useDashboardLogic,\n  REQUEST_MODE,\n} from '../../hooks/dashboard-logic'\nimport {\n  getTotalUnlockedActiveBalance,\n  getTotalEffectiveInactiveBalance,\n} from '../../utils/balance-utils'\n\nfunction Dashboard() {\n  const wallet = useWallet()\n  const {\n    actions,\n    anjBalances,\n    appealCollaterals,\n    errorsFetching,\n    fetchingData,\n    mode,\n    panelState,\n    requests,\n    rewards,\n    treasury,\n  } = useDashboardLogic()\n\n  const { name: layout } = useLayout()\n  const oneColumn = layout === 'small' || layout === 'medium'\n\n  return (\n    <React.Fragment>\n      <TitleHeader title=\"Councillor's Dashboard\" onlyTitle={!wallet.account} />\n      {errorsFetching?.length > 0 ? (\n        <ErrorLoading\n          subject=\"dashboard\"\n          errors={errorsFetching.map(error => error.message)}\n        />\n      ) : (\n        <>\n          {wallet.account ? (\n            <BalanceModule\n              balances={anjBalances}\n              loading={fetchingData}\n              onRequestActivate={requests.activateANJ}\n              onRequestDeactivate={requests.deactivateANJ}\n              onRequestStakeActivate={requests.stakeActivateANJ}\n              onRequestWithdraw={requests.withdrawANJ}\n            />\n          ) : (\n            <Welcome />\n          )}\n\n          {!wallet.account ? (\n            <Split\n              primary={<Tasks onlyTable />}\n              secondary={<CourtStats />}\n              invert=\"horizontal\"\n            />\n          ) : (\n            <Split\n              primary={<Tasks onlyTable />}\n              secondary={\n                <>\n                  <RewardsModule\n                    rewards={rewards}\n                    treasury={treasury}\n                    loading={fetchingData}\n                    onClaimRewards={actions.claimRewards}\n                  />\n                  <AppealColateralModule\n                    appeals={appealCollaterals}\n                    loading={fetchingData}\n                  />\n                </>\n              }\n              invert={oneColumn ? 'vertical' : 'horizontal'}\n            />\n          )}\n        </>\n      )}\n      <SidePanel\n        title={`${getRequestModeString(mode)} ANJ`}\n        opened={panelState.visible}\n        onClose={panelState.requestClose}\n        onTransitionEnd={panelState.endTransition}\n      >\n        <div\n          css={`\n            margin-top: ${2 * GU}px;\n          `}\n        />\n        <PanelComponent\n          mode={mode}\n          actions={actions}\n          balances={anjBalances}\n          onDone={panelState.requestClose}\n        />\n      </SidePanel>\n    </React.Fragment>\n  )\n}\n\nfunction PanelComponent({ mode, actions, balances, ...props }) {\n  const { activateANJ, deactivateANJ, withdrawANJ } = actions\n  const { walletBalance, activeBalance } = balances\n\n  const unlockedActiveBalance = getTotalUnlockedActiveBalance(balances)\n  const effectiveInactiveBalance = getTotalEffectiveInactiveBalance(balances)\n\n  switch (mode) {\n    case REQUEST_MODE.DEACTIVATE:\n      return (\n        <DeactivateANJ\n          activeBalance={unlockedActiveBalance}\n          onDeactivateANJ={deactivateANJ}\n          {...props}\n        />\n      )\n    case REQUEST_MODE.WITHDRAW:\n      return (\n        <WithdrawANJ\n          inactiveBalance={effectiveInactiveBalance}\n          onWithdrawANJ={withdrawANJ}\n          {...props}\n        />\n      )\n    default:\n      return (\n        <ActivateANJ\n          activeBalance={activeBalance.amount}\n          inactiveBalance={effectiveInactiveBalance}\n          walletBalance={walletBalance.amount}\n          onActivateANJ={activateANJ}\n          fromWallet={mode === REQUEST_MODE.STAKE_ACTIVATE}\n          {...props}\n        />\n      )\n  }\n}\n\nexport default function DashboardWithSubscritpion(props) {\n  return (\n    <DashboardStateProvider>\n      <Dashboard {...props} />\n    </DashboardStateProvider>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}