{"ast":null,"code":"import _slicedToArray from\"/Users/saleemfareed/oneds/court-dashboard/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"/Users/saleemfareed/oneds/court-dashboard/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _styled10 from\"styled-components\";import _styled9 from\"styled-components\";import _styled8 from\"styled-components\";import _styled7 from\"styled-components\";import _styled6 from\"styled-components\";import _styled5 from\"styled-components\";import _styled4 from\"styled-components\";import _styled3 from\"styled-components\";import _styled2 from\"styled-components\";import _styled from\"styled-components\";import React,{useCallback,useEffect,useState}from'react';import{useHistory,useRouteMatch}from'react-router-dom';import{ButtonBase,GU,springs,textStyle,useTheme}from'@aragon/ui';import{Spring,animated}from'react-spring/renderprops';import HeaderLogo from'./Header/HeaderLogo';import dashboardMenuIcon from\"../assets/dashboardMenuIcon.svg\";import tasksMenuIcon from\"../assets/tasksMenuIcon.svg\";import disputesMenuIcon from\"../assets/disputesMenuIcon.svg\";import{lerp}from'../lib/math-utils';export var MENU_PANEL_SHADOW_WIDTH=3;export var MENU_PANEL_WIDTH=25*GU;var AnimDiv=animated.div;var _StyledAnimDiv2=_styled(AnimDiv).withConfig({displayName:\"MenuPanel___StyledAnimDiv2\",componentId:\"sc-1p066ck-0\"})([\"width:\",\"px;height:100%;flex:none;\"],MENU_PANEL_WIDTH);var _StyledAnimDiv=_styled(AnimDiv).withConfig({displayName:\"MenuPanel___StyledAnimDiv\",componentId:\"sc-1p066ck-1\"})([\"position:absolute;height:100%;width:100%;background:\",\";\",\"\"],function(p){return p._css21;},function(p){return p._css22;});var _StyledNav=_styled(\"nav\").withConfig({displayName:\"MenuPanel___StyledNav\",componentId:\"sc-1p066ck-2\"})([\"display:flex;flex-direction:column;width:100%;height:100%;background:\",\";margin-top:2px;box-shadow:rgba(0,0,0,0.05) 2px 0px 3px;\"],function(p){return p._css;});var _StyledDiv=_styled(\"div\").withConfig({displayName:\"MenuPanel___StyledDiv\",componentId:\"sc-1p066ck-3\"})([\"padding:\",\"px \",\"px;\"],function(p){return p._css2;},function(p){return p._css3;});var _StyledDiv2=_styled(\"div\").withConfig({displayName:\"MenuPanel___StyledDiv2\",componentId:\"sc-1p066ck-4\"})([\"padding:\",\"px 0;\"],function(p){return p._css4;});var _StyledH=_styled(\"h2\").withConfig({displayName:\"MenuPanel___StyledH\",componentId:\"sc-1p066ck-5\"})([\"color:\",\";margin-bottom:\",\"px;padding:0 \",\"px;\",\";\"],function(p){return p._css5;},function(p){return p._css6;},function(p){return p._css7;},function(p){return p._css8;});function MenuPanel(_ref){var showHeaderLogo=_ref.showHeaderLogo,onOpenPage=_ref.onOpenPage;var theme=useTheme();return React.createElement(_StyledNav,{_css:theme.surface},showHeaderLogo&&React.createElement(_StyledDiv,{_css2:2*GU,_css3:3*GU},React.createElement(HeaderLogo,null)),React.createElement(_StyledDiv2,{_css4:2*GU},React.createElement(_StyledH,{_css5:theme.surfaceContentSecondary,_css6:1*GU,_css7:3*GU,_css8:textStyle('label2')},\"Menu\"),React.createElement(MenuItem,{to:\"/dashboard\",icon:dashboardMenuIcon,label:\"Dashboard\",onActivate:onOpenPage}),React.createElement(MenuItem,{to:\"/tasks\",icon:tasksMenuIcon,label:\"Tasks\",onActivate:onOpenPage}),React.createElement(MenuItem,{to:\"/disputes\",icon:disputesMenuIcon,label:\"Proposals\",onActivate:onOpenPage})));}var _StyledButtonBase=_styled(ButtonBase).withConfig({displayName:\"MenuPanel___StyledButtonBase\",componentId:\"sc-1p066ck-6\"})([\"display:flex;align-items:center;width:100%;height:\",\"px;padding:0 \",\"px 0 \",\"px;border-radius:0;text-align:left;background:\",\";&:active{background:\",\";}\"],function(p){return p._css9;},function(p){return p._css10;},function(p){return p._css11;},function(p){return p._css12;},function(p){return p._css13;});var _StyledDiv3=_styled(\"div\").withConfig({displayName:\"MenuPanel___StyledDiv3\",componentId:\"sc-1p066ck-7\"})([\"position:absolute;left:0;width:3px;height:100%;background:\",\";opacity:\",\";transform:translate3d(\",\",0,0);transform-position:0 0;transition-property:transform,opacity;transition-duration:150ms;transition-timing-function:ease-in-out;\"],function(p){return p._css14;},function(p){return p._css15;},function(p){return p._css16;});var _StyledSpan=_styled(\"span\").withConfig({displayName:\"MenuPanel___StyledSpan\",componentId:\"sc-1p066ck-8\"})([\"margin-left:\",\"px;overflow:hidden;text-overflow:ellipsis;\",\";font-weight:\",\";\"],function(p){return p._css17;},function(p){return p._css18;},function(p){return p._css19;});function MenuItem(_ref2){var to=_ref2.to,icon=_ref2.icon,label=_ref2.label,onActivate=_ref2.onActivate;var history=useHistory();var theme=useTheme();var active=useRouteMatch(to)!==null;var handlePageRequest=useCallback(function(){onActivate();history.push(to);},[history,onActivate,to]);return React.createElement(_StyledButtonBase,{onClick:handlePageRequest,_css9:5*GU,_css10:2*GU,_css11:3*GU,_css12:active?theme.surfacePressed:'transparent',_css13:theme.surfacePressed},React.createElement(_StyledDiv3,{_css14:theme.accent,_css15:Number(active),_css16:active?'0%':'-100%'}),React.createElement(\"img\",{src:icon,alt:\"\"}),React.createElement(_StyledSpan,{_css17:1*GU,_css18:textStyle('body2'),_css19:active?'600':'400'},label));}var _StyledDiv4=_styled(\"div\").withConfig({displayName:\"MenuPanel___StyledDiv4\",componentId:\"sc-1p066ck-9\"})([\"height:100%;\",\"\"],function(p){return p._css20;});function AnimatedMenuPanel(_ref3){var autoClosing=_ref3.autoClosing,opened=_ref3.opened,onMenuPanelClose=_ref3.onMenuPanelClose,props=_objectWithoutProperties(_ref3,[\"autoClosing\",\"opened\",\"onMenuPanelClose\"]);var theme=useTheme();var _useState=useState(autoClosing),_useState2=_slicedToArray(_useState,2),animate=_useState2[0],setAnimate=_useState2[1];useEffect(function(){// If autoClosing has changed, it means we are switching from autoClosing\n// to fixed or the opposite, and we should stop animating the panel for a\n// short period of time.\nsetAnimate(false);var animateTimer=setTimeout(function(){return setAnimate(true);},0);return function(){return clearTimeout(animateTimer);};},[autoClosing]);return React.createElement(Spring,{from:{menuPanelProgress:0},to:{menuPanelProgress:Number(opened)},config:springs.lazy,immediate:!animate,native:true},function(_ref4){var menuPanelProgress=_ref4.menuPanelProgress;return React.createElement(_StyledDiv4,{_css20:autoClosing?\"\\n              position: absolute;\\n              width: 100%;\\n              top: 0;\\n              \".concat(!opened?'pointer-events: none':'',\"\\n            \"):''},autoClosing&&React.createElement(_StyledAnimDiv,{onClick:onMenuPanelClose,style:{opacity:menuPanelProgress},_css21:theme.overlay.alpha(0.9),_css22:!opened?'pointer-events: none':''}),React.createElement(_StyledAnimDiv2,{style:{position:autoClosing?'absolute':'relative',transform:menuPanelProgress.interpolate(function(v){return\"translate3d(\\n                  \".concat(lerp(v,-(MENU_PANEL_WIDTH+MENU_PANEL_SHADOW_WIDTH),0),\"px, 0, 0)\");})}},React.createElement(MenuPanel,Object.assign({showHeaderLogo:autoClosing},props))));});}export default AnimatedMenuPanel;","map":{"version":3,"sources":["/Users/saleemfareed/oneds/court-dashboard/src/components/MenuPanel.js"],"names":["React","useCallback","useEffect","useState","useHistory","useRouteMatch","ButtonBase","GU","springs","textStyle","useTheme","Spring","animated","HeaderLogo","lerp","MENU_PANEL_SHADOW_WIDTH","MENU_PANEL_WIDTH","AnimDiv","div","MenuPanel","showHeaderLogo","onOpenPage","theme","surface","surfaceContentSecondary","dashboardMenuIcon","tasksMenuIcon","disputesMenuIcon","MenuItem","to","icon","label","onActivate","history","active","handlePageRequest","push","surfacePressed","accent","Number","AnimatedMenuPanel","autoClosing","opened","onMenuPanelClose","props","animate","setAnimate","animateTimer","setTimeout","clearTimeout","menuPanelProgress","lazy","opacity","overlay","alpha","position","transform","interpolate","v"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useState } from 'react'\nimport { useHistory, useRouteMatch } from 'react-router-dom'\nimport { ButtonBase, GU, springs, textStyle, useTheme } from '@aragon/ui'\n\nimport { Spring, animated } from 'react-spring/renderprops'\nimport HeaderLogo from './Header/HeaderLogo'\n\nimport dashboardMenuIcon from '../assets/dashboardMenuIcon.svg'\nimport tasksMenuIcon from '../assets/tasksMenuIcon.svg'\nimport disputesMenuIcon from '../assets/disputesMenuIcon.svg'\nimport { lerp } from '../lib/math-utils'\n\nexport const MENU_PANEL_SHADOW_WIDTH = 3\nexport const MENU_PANEL_WIDTH = 25 * GU\n\nconst { div: AnimDiv } = animated\n\nfunction MenuPanel({ showHeaderLogo, onOpenPage }) {\n  const theme = useTheme()\n\n  return (\n    <nav\n      css={`\n        display: flex;\n        flex-direction: column;\n        width: 100%;\n        height: 100%;\n        background: ${theme.surface};\n        margin-top: 2px;\n        box-shadow: rgba(0, 0, 0, 0.05) 2px 0px 3px;\n      `}\n    >\n      {showHeaderLogo && (\n        <div\n          css={`\n            padding: ${2 * GU}px ${3 * GU}px;\n          `}\n        >\n          <HeaderLogo />\n        </div>\n      )}\n      <div\n        css={`\n          padding: ${2 * GU}px 0;\n        `}\n      >\n        <h2\n          css={`\n            color: ${theme.surfaceContentSecondary};\n            margin-bottom: ${1 * GU}px;\n            padding: 0 ${3 * GU}px;\n            ${textStyle('label2')};\n          `}\n        >\n          Menu\n        </h2>\n        <MenuItem\n          to=\"/dashboard\"\n          icon={dashboardMenuIcon}\n          label=\"Dashboard\"\n          onActivate={onOpenPage}\n        />\n        <MenuItem\n          to=\"/tasks\"\n          icon={tasksMenuIcon}\n          label=\"Tasks\"\n          onActivate={onOpenPage}\n        />\n        <MenuItem\n          to=\"/disputes\"\n          icon={disputesMenuIcon}\n          label=\"Proposals\"\n          onActivate={onOpenPage}\n        />\n      </div>\n    </nav>\n  )\n}\n\nfunction MenuItem({ to, icon, label, onActivate }) {\n  const history = useHistory()\n  const theme = useTheme()\n  const active = useRouteMatch(to) !== null\n\n  const handlePageRequest = useCallback(() => {\n    onActivate()\n    history.push(to)\n  }, [history, onActivate, to])\n\n  return (\n    <ButtonBase\n      onClick={handlePageRequest}\n      css={`\n        display: flex;\n        align-items: center;\n        width: 100%;\n        height: ${5 * GU}px;\n        padding: 0 ${2 * GU}px 0 ${3 * GU}px;\n        border-radius: 0;\n        text-align: left;\n        background: ${active ? theme.surfacePressed : 'transparent'};\n        &:active {\n          background: ${theme.surfacePressed};\n        }\n      `}\n    >\n      <div\n        css={`\n          position: absolute;\n          left: 0;\n          width: 3px;\n          height: 100%;\n          background: ${theme.accent};\n          opacity: ${Number(active)};\n          transform: translate3d(${active ? '0%' : '-100%'}, 0, 0);\n          transform-position: 0 0;\n          transition-property: transform, opacity;\n          transition-duration: 150ms;\n          transition-timing-function: ease-in-out;\n        `}\n      />\n\n      <img src={icon} alt=\"\" />\n      <span\n        css={`\n          margin-left: ${1 * GU}px;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          ${textStyle('body2')};\n          font-weight: ${active ? '600' : '400'};\n        `}\n      >\n        {label}\n      </span>\n    </ButtonBase>\n  )\n}\n\nfunction AnimatedMenuPanel({\n  autoClosing,\n  opened,\n  onMenuPanelClose,\n  ...props\n}) {\n  const theme = useTheme()\n  const [animate, setAnimate] = useState(autoClosing)\n\n  useEffect(() => {\n    // If autoClosing has changed, it means we are switching from autoClosing\n    // to fixed or the opposite, and we should stop animating the panel for a\n    // short period of time.\n    setAnimate(false)\n    const animateTimer = setTimeout(() => setAnimate(true), 0)\n    return () => clearTimeout(animateTimer)\n  }, [autoClosing])\n\n  return (\n    <Spring\n      from={{ menuPanelProgress: 0 }}\n      to={{ menuPanelProgress: Number(opened) }}\n      config={springs.lazy}\n      immediate={!animate}\n      native\n    >\n      {({ menuPanelProgress }) => (\n        <div\n          css={`\n            height: 100%;\n            /* When the panel is autoclosing, we want it over the top bar as well */\n            ${autoClosing\n              ? `\n              position: absolute;\n              width: 100%;\n              top: 0;\n              ${!opened ? 'pointer-events: none' : ''}\n            `\n              : ''}\n          `}\n        >\n          {autoClosing && (\n            <AnimDiv\n              onClick={onMenuPanelClose}\n              css={`\n                position: absolute;\n                height: 100%;\n                width: 100%;\n                background: ${theme.overlay.alpha(0.9)};\n                ${!opened ? 'pointer-events: none' : ''}\n              `}\n              style={{\n                opacity: menuPanelProgress,\n              }}\n            />\n          )}\n          <AnimDiv\n            css={`\n              width: ${MENU_PANEL_WIDTH}px;\n              height: 100%;\n              flex: none;\n            `}\n            style={{\n              position: autoClosing ? 'absolute' : 'relative',\n              transform: menuPanelProgress.interpolate(\n                v =>\n                  `translate3d(\n                  ${lerp(\n                    v,\n                    -(MENU_PANEL_WIDTH + MENU_PANEL_SHADOW_WIDTH),\n                    0\n                  )}px, 0, 0)`\n              ),\n            }}\n          >\n            <MenuPanel showHeaderLogo={autoClosing} {...props} />\n          </AnimDiv>\n        </div>\n      )}\n    </Spring>\n  )\n}\n\nexport default AnimatedMenuPanel\n"]},"metadata":{},"sourceType":"module"}