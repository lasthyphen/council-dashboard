{"ast":null,"code":"import _styled from \"styled-components\";\nvar _jsxFileName = \"/Users/saleemfareed/oneds/court-dashboard/src/components/Dashboard/Dashboard.js\";\nimport React from 'react';\nimport { GU, SidePanel, Split, useLayout } from '@aragon/ui';\nimport Welcome from './Welcome';\nimport Tasks from '../Tasks/Tasks';\nimport TitleHeader from '../TitleHeader';\nimport ErrorLoading from '../Errors/ErrorLoading';\nimport BalanceModule from './BalanceModule';\nimport RewardsModule from './RewardsModule';\nimport ActivateANJ from './panels/ActivateANJ';\nimport WithdrawANJ from './panels/WithdrawANJ';\nimport DeactivateANJ from './panels/DeactivateANJ';\nimport AppealColateralModule from './AppealColateralModule';\nimport CourtStats from './CourtStats';\nimport { useWallet } from '../../providers/Wallet';\nimport { DashboardStateProvider } from './DashboardStateProvider';\nimport { getRequestModeString, useDashboardLogic, REQUEST_MODE } from '../../hooks/dashboard-logic';\nimport { getTotalUnlockedActiveBalance, getTotalEffectiveInactiveBalance } from '../../utils/balance-utils';\n\nvar _StyledDiv = _styled(\"div\").withConfig({\n  displayName: \"Dashboard___StyledDiv\",\n  componentId: \"sc-1u2boq1-0\"\n})([\"margin-top:\", \"px;\"], p => p._css);\n\nfunction Dashboard() {\n  const wallet = useWallet();\n  const {\n    actions,\n    anjBalances,\n    appealCollaterals,\n    errorsFetching,\n    fetchingData,\n    mode,\n    panelState,\n    requests,\n    rewards,\n    treasury\n  } = useDashboardLogic();\n  const {\n    name: layout\n  } = useLayout();\n  const oneColumn = layout === 'small' || layout === 'medium';\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(TitleHeader, {\n    title: \"Dashboard\",\n    onlyTitle: !wallet.account,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }), (errorsFetching === null || errorsFetching === void 0 ? void 0 : errorsFetching.length) > 0 ? React.createElement(ErrorLoading, {\n    subject: \"dashboard\",\n    errors: errorsFetching.map(error => error.message),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }) : React.createElement(React.Fragment, null, wallet.account ? React.createElement(BalanceModule, {\n    balances: anjBalances,\n    loading: fetchingData,\n    onRequestActivate: requests.activateANJ,\n    onRequestDeactivate: requests.deactivateANJ,\n    onRequestStakeActivate: requests.stakeActivateANJ,\n    onRequestWithdraw: requests.withdrawANJ,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }) : React.createElement(Welcome, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }), !wallet.account ? React.createElement(Split, {\n    primary: React.createElement(Tasks, {\n      onlyTable: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }),\n    secondary: React.createElement(CourtStats, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }),\n    invert: \"horizontal\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }) : React.createElement(Split, {\n    primary: React.createElement(Tasks, {\n      onlyTable: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }),\n    secondary: React.createElement(React.Fragment, null, React.createElement(RewardsModule, {\n      rewards: rewards,\n      treasury: treasury,\n      loading: fetchingData,\n      onClaimRewards: actions.claimRewards,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(AppealColateralModule, {\n      appeals: appealCollaterals,\n      loading: fetchingData,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    })),\n    invert: oneColumn ? 'vertical' : 'horizontal',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  })), React.createElement(SidePanel, {\n    title: `${getRequestModeString(mode)} ANJ`,\n    opened: panelState.visible,\n    onClose: panelState.requestClose,\n    onTransitionEnd: panelState.endTransition,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(_StyledDiv, {\n    _css: 2 * GU,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }), React.createElement(PanelComponent, {\n    mode: mode,\n    actions: actions,\n    balances: anjBalances,\n    onDone: panelState.requestClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  })));\n}\n\nfunction PanelComponent({\n  mode,\n  actions,\n  balances,\n  ...props\n}) {\n  const {\n    activateANJ,\n    deactivateANJ,\n    withdrawANJ\n  } = actions;\n  const {\n    walletBalance,\n    activeBalance\n  } = balances;\n  const unlockedActiveBalance = getTotalUnlockedActiveBalance(balances);\n  const effectiveInactiveBalance = getTotalEffectiveInactiveBalance(balances);\n\n  switch (mode) {\n    case REQUEST_MODE.DEACTIVATE:\n      return React.createElement(DeactivateANJ, Object.assign({\n        activeBalance: unlockedActiveBalance,\n        onDeactivateANJ: deactivateANJ\n      }, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }));\n\n    case REQUEST_MODE.WITHDRAW:\n      return React.createElement(WithdrawANJ, Object.assign({\n        inactiveBalance: effectiveInactiveBalance,\n        onWithdrawANJ: withdrawANJ\n      }, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }));\n\n    default:\n      return React.createElement(ActivateANJ, Object.assign({\n        activeBalance: activeBalance.amount,\n        inactiveBalance: effectiveInactiveBalance,\n        walletBalance: walletBalance.amount,\n        onActivateANJ: activateANJ,\n        fromWallet: mode === REQUEST_MODE.STAKE_ACTIVATE\n      }, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }));\n  }\n}\n\nexport default function DashboardWithSubscritpion(props) {\n  return React.createElement(DashboardStateProvider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, React.createElement(Dashboard, Object.assign({}, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  })));\n}","map":{"version":3,"sources":["/Users/saleemfareed/oneds/court-dashboard/src/components/Dashboard/Dashboard.js"],"names":["React","GU","SidePanel","Split","useLayout","Welcome","Tasks","TitleHeader","ErrorLoading","BalanceModule","RewardsModule","ActivateANJ","WithdrawANJ","DeactivateANJ","AppealColateralModule","CourtStats","useWallet","DashboardStateProvider","getRequestModeString","useDashboardLogic","REQUEST_MODE","getTotalUnlockedActiveBalance","getTotalEffectiveInactiveBalance","Dashboard","wallet","actions","anjBalances","appealCollaterals","errorsFetching","fetchingData","mode","panelState","requests","rewards","treasury","name","layout","oneColumn","account","length","map","error","message","activateANJ","deactivateANJ","stakeActivateANJ","withdrawANJ","claimRewards","visible","requestClose","endTransition","PanelComponent","balances","props","walletBalance","activeBalance","unlockedActiveBalance","effectiveInactiveBalance","DEACTIVATE","WITHDRAW","amount","STAKE_ACTIVATE","DashboardWithSubscritpion"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { GU, SidePanel, Split, useLayout } from '@aragon/ui'\n\nimport Welcome from './Welcome'\nimport Tasks from '../Tasks/Tasks'\nimport TitleHeader from '../TitleHeader'\nimport ErrorLoading from '../Errors/ErrorLoading'\nimport BalanceModule from './BalanceModule'\nimport RewardsModule from './RewardsModule'\nimport ActivateANJ from './panels/ActivateANJ'\nimport WithdrawANJ from './panels/WithdrawANJ'\nimport DeactivateANJ from './panels/DeactivateANJ'\nimport AppealColateralModule from './AppealColateralModule'\nimport CourtStats from './CourtStats'\n\nimport { useWallet } from '../../providers/Wallet'\nimport { DashboardStateProvider } from './DashboardStateProvider'\nimport {\n  getRequestModeString,\n  useDashboardLogic,\n  REQUEST_MODE,\n} from '../../hooks/dashboard-logic'\nimport {\n  getTotalUnlockedActiveBalance,\n  getTotalEffectiveInactiveBalance,\n} from '../../utils/balance-utils'\n\nfunction Dashboard() {\n  const wallet = useWallet()\n  const {\n    actions,\n    anjBalances,\n    appealCollaterals,\n    errorsFetching,\n    fetchingData,\n    mode,\n    panelState,\n    requests,\n    rewards,\n    treasury,\n  } = useDashboardLogic()\n\n  const { name: layout } = useLayout()\n  const oneColumn = layout === 'small' || layout === 'medium'\n\n  return (\n    <React.Fragment>\n      <TitleHeader title=\"Dashboard\" onlyTitle={!wallet.account} />\n      {errorsFetching?.length > 0 ? (\n        <ErrorLoading\n          subject=\"dashboard\"\n          errors={errorsFetching.map(error => error.message)}\n        />\n      ) : (\n        <>\n          {wallet.account ? (\n            <BalanceModule\n              balances={anjBalances}\n              loading={fetchingData}\n              onRequestActivate={requests.activateANJ}\n              onRequestDeactivate={requests.deactivateANJ}\n              onRequestStakeActivate={requests.stakeActivateANJ}\n              onRequestWithdraw={requests.withdrawANJ}\n            />\n          ) : (\n            <Welcome />\n          )}\n\n          {!wallet.account ? (\n            <Split\n              primary={<Tasks onlyTable />}\n              secondary={<CourtStats />}\n              invert=\"horizontal\"\n            />\n          ) : (\n            <Split\n              primary={<Tasks onlyTable />}\n              secondary={\n                <>\n                  <RewardsModule\n                    rewards={rewards}\n                    treasury={treasury}\n                    loading={fetchingData}\n                    onClaimRewards={actions.claimRewards}\n                  />\n                  <AppealColateralModule\n                    appeals={appealCollaterals}\n                    loading={fetchingData}\n                  />\n                </>\n              }\n              invert={oneColumn ? 'vertical' : 'horizontal'}\n            />\n          )}\n        </>\n      )}\n      <SidePanel\n        title={`${getRequestModeString(mode)} ANJ`}\n        opened={panelState.visible}\n        onClose={panelState.requestClose}\n        onTransitionEnd={panelState.endTransition}\n      >\n        <div\n          css={`\n            margin-top: ${2 * GU}px;\n          `}\n        />\n        <PanelComponent\n          mode={mode}\n          actions={actions}\n          balances={anjBalances}\n          onDone={panelState.requestClose}\n        />\n      </SidePanel>\n    </React.Fragment>\n  )\n}\n\nfunction PanelComponent({ mode, actions, balances, ...props }) {\n  const { activateANJ, deactivateANJ, withdrawANJ } = actions\n  const { walletBalance, activeBalance } = balances\n\n  const unlockedActiveBalance = getTotalUnlockedActiveBalance(balances)\n  const effectiveInactiveBalance = getTotalEffectiveInactiveBalance(balances)\n\n  switch (mode) {\n    case REQUEST_MODE.DEACTIVATE:\n      return (\n        <DeactivateANJ\n          activeBalance={unlockedActiveBalance}\n          onDeactivateANJ={deactivateANJ}\n          {...props}\n        />\n      )\n    case REQUEST_MODE.WITHDRAW:\n      return (\n        <WithdrawANJ\n          inactiveBalance={effectiveInactiveBalance}\n          onWithdrawANJ={withdrawANJ}\n          {...props}\n        />\n      )\n    default:\n      return (\n        <ActivateANJ\n          activeBalance={activeBalance.amount}\n          inactiveBalance={effectiveInactiveBalance}\n          walletBalance={walletBalance.amount}\n          onActivateANJ={activateANJ}\n          fromWallet={mode === REQUEST_MODE.STAKE_ACTIVATE}\n          {...props}\n        />\n      )\n  }\n}\n\nexport default function DashboardWithSubscritpion(props) {\n  return (\n    <DashboardStateProvider>\n      <Dashboard {...props} />\n    </DashboardStateProvider>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}