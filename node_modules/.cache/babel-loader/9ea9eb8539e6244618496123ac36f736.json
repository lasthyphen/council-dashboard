{"ast":null,"code":"import React,{useCallback}from'react';import ANJForm from'./ANJForm';import{formatUnits}from'../../../lib/math-utils';import{useCourtConfig}from'../../../providers/CourtConfig';var DeactivateANJ=React.memo(function DeactivateANJ(_ref){var onDeactivateANJ=_ref.onDeactivateANJ,activeBalance=_ref.activeBalance,onDone=_ref.onDone;var _useCourtConfig=useCourtConfig(),anjToken=_useCourtConfig.anjToken,minActiveBalance=_useCourtConfig.minActiveBalance;var maxAmount=activeBalance;var minActiveBalanceFormatted=formatUnits(minActiveBalance,{digits:anjToken.decimals});var maxAmountFormatted=formatUnits(maxAmount,{digits:anjToken.decimals,precision:anjToken.decimals});var validation=useCallback(function(amountBN){var activeBalanceAfter=activeBalance.sub(amountBN);if(amountBN.gt(maxAmount)){return\"Insufficient funds, you cannnot deactivate more than \".concat(maxAmountFormatted,\" \").concat(anjToken.symbol);}if(activeBalanceAfter.lt(minActiveBalance)&&activeBalanceAfter.gt(0)){return\"Your resulting active balance must be 0 or at least the minimum to be a juror (\".concat(minActiveBalanceFormatted,\" \").concat(anjToken.symbol,\")\");}return null;},[activeBalance,anjToken.symbol,maxAmount,maxAmountFormatted,minActiveBalance,minActiveBalanceFormatted]);return React.createElement(ANJForm,{actionLabel:\"Deactivate\",maxAmount:maxAmount,onSubmit:onDeactivateANJ,onDone:onDone,runParentValidation:validation});});export default DeactivateANJ;","map":{"version":3,"sources":["/Users/saleemfareed/oneds/court-dashboard/src/components/Dashboard/panels/DeactivateANJ.js"],"names":["React","useCallback","ANJForm","formatUnits","useCourtConfig","DeactivateANJ","memo","onDeactivateANJ","activeBalance","onDone","anjToken","minActiveBalance","maxAmount","minActiveBalanceFormatted","digits","decimals","maxAmountFormatted","precision","validation","amountBN","activeBalanceAfter","sub","gt","symbol","lt"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,WAAhB,KAAmC,OAAnC,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,OAASC,WAAT,KAA4B,yBAA5B,CACA,OAASC,cAAT,KAA+B,gCAA/B,CAEA,GAAMC,CAAAA,aAAa,CAAGL,KAAK,CAACM,IAAN,CAAW,QAASD,CAAAA,aAAT,MAI9B,IAHDE,CAAAA,eAGC,MAHDA,eAGC,CAFDC,aAEC,MAFDA,aAEC,CADDC,MACC,MADDA,MACC,qBACsCL,cAAc,EADpD,CACOM,QADP,iBACOA,QADP,CACiBC,gBADjB,iBACiBA,gBADjB,CAED,GAAMC,CAAAA,SAAS,CAAGJ,aAAlB,CAEA,GAAMK,CAAAA,yBAAyB,CAAGV,WAAW,CAACQ,gBAAD,CAAmB,CAC9DG,MAAM,CAAEJ,QAAQ,CAACK,QAD6C,CAAnB,CAA7C,CAGA,GAAMC,CAAAA,kBAAkB,CAAGb,WAAW,CAACS,SAAD,CAAY,CAChDE,MAAM,CAAEJ,QAAQ,CAACK,QAD+B,CAEhDE,SAAS,CAAEP,QAAQ,CAACK,QAF4B,CAAZ,CAAtC,CAKA,GAAMG,CAAAA,UAAU,CAAGjB,WAAW,CAC5B,SAAAkB,QAAQ,CAAI,CACV,GAAMC,CAAAA,kBAAkB,CAAGZ,aAAa,CAACa,GAAd,CAAkBF,QAAlB,CAA3B,CAEA,GAAIA,QAAQ,CAACG,EAAT,CAAYV,SAAZ,CAAJ,CAA4B,CAC1B,qEAA+DI,kBAA/D,aAAqFN,QAAQ,CAACa,MAA9F,EACD,CAED,GAAIH,kBAAkB,CAACI,EAAnB,CAAsBb,gBAAtB,GAA2CS,kBAAkB,CAACE,EAAnB,CAAsB,CAAtB,CAA/C,CAAyE,CACvE,+FAAyFT,yBAAzF,aAAsHH,QAAQ,CAACa,MAA/H,MACD,CAED,MAAO,KAAP,CACD,CAb2B,CAc5B,CACEf,aADF,CAEEE,QAAQ,CAACa,MAFX,CAGEX,SAHF,CAIEI,kBAJF,CAKEL,gBALF,CAMEE,yBANF,CAd4B,CAA9B,CAwBA,MACE,qBAAC,OAAD,EACE,WAAW,CAAC,YADd,CAEE,SAAS,CAAED,SAFb,CAGE,QAAQ,CAAEL,eAHZ,CAIE,MAAM,CAAEE,MAJV,CAKE,mBAAmB,CAAES,UALvB,EADF,CASD,CAjDqB,CAAtB,CAmDA,cAAeb,CAAAA,aAAf","sourcesContent":["import React, { useCallback } from 'react'\nimport ANJForm from './ANJForm'\nimport { formatUnits } from '../../../lib/math-utils'\nimport { useCourtConfig } from '../../../providers/CourtConfig'\n\nconst DeactivateANJ = React.memo(function DeactivateANJ({\n  onDeactivateANJ,\n  activeBalance,\n  onDone,\n}) {\n  const { anjToken, minActiveBalance } = useCourtConfig()\n  const maxAmount = activeBalance\n\n  const minActiveBalanceFormatted = formatUnits(minActiveBalance, {\n    digits: anjToken.decimals,\n  })\n  const maxAmountFormatted = formatUnits(maxAmount, {\n    digits: anjToken.decimals,\n    precision: anjToken.decimals,\n  })\n\n  const validation = useCallback(\n    amountBN => {\n      const activeBalanceAfter = activeBalance.sub(amountBN)\n\n      if (amountBN.gt(maxAmount)) {\n        return `Insufficient funds, you cannnot deactivate more than ${maxAmountFormatted} ${anjToken.symbol}`\n      }\n\n      if (activeBalanceAfter.lt(minActiveBalance) && activeBalanceAfter.gt(0)) {\n        return `Your resulting active balance must be 0 or at least the minimum to be a juror (${minActiveBalanceFormatted} ${anjToken.symbol})`\n      }\n\n      return null\n    },\n    [\n      activeBalance,\n      anjToken.symbol,\n      maxAmount,\n      maxAmountFormatted,\n      minActiveBalance,\n      minActiveBalanceFormatted,\n    ]\n  )\n\n  return (\n    <ANJForm\n      actionLabel=\"Deactivate\"\n      maxAmount={maxAmount}\n      onSubmit={onDeactivateANJ}\n      onDone={onDone}\n      runParentValidation={validation}\n    />\n  )\n})\n\nexport default DeactivateANJ\n"]},"metadata":{},"sourceType":"module"}