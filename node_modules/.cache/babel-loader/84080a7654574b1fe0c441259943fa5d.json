{"ast":null,"code":"import _slicedToArray from\"/Users/saleemfareed/oneds/court-dashboard/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Users/saleemfareed/oneds/court-dashboard/node_modules/@babel/runtime/helpers/esm/defineProperty\";var _stringMapping;import{useCallback,useState}from'react';import{useANJBalances}from'./useANJ';import{useSidePanel}from'./useSidePanel';import useJurorRewards from'./useJurorRewards';import useJurorAppealCollaterals from'./useJurorAppealCollaterals';import{useANJActions,useRewardActions}from'./useCourtContracts';import{useDashboardState}from'../components/Dashboard/DashboardStateProvider';export var REQUEST_MODE={ACTIVATE:Symbol('ACTIVATE'),DEACTIVATE:Symbol('DEACTIVATE'),STAKE_ACTIVATE:Symbol('STAKE_ACTIVATE'),WITHDRAW:Symbol('WITHDRAW')};var stringMapping=(_stringMapping={},_defineProperty(_stringMapping,REQUEST_MODE.ACTIVATE,'Activate'),_defineProperty(_stringMapping,REQUEST_MODE.STAKE_ACTIVATE,'Activate'),_defineProperty(_stringMapping,REQUEST_MODE.DEACTIVATE,'Deactivate'),_defineProperty(_stringMapping,REQUEST_MODE.WITHDRAW,'Withdraw'),_stringMapping);export function getRequestModeString(mode){return stringMapping[mode];}export function usePanelRequestMode(requestPanelOpen){var _useState=useState(REQUEST_MODE.ACTIVATE),_useState2=_slicedToArray(_useState,2),requestMode=_useState2[0],setRequestMode=_useState2[1];var updateMode=useCallback(function(newMode){setRequestMode(newMode);requestPanelOpen();},[requestPanelOpen]);return[requestMode,updateMode];}// Requests to set new mode and open side panel\nexport function usePanelRequestActions(request){// TODO: Should we implement only one request function to recieve the request mode ?\nvar activateANJ=useCallback(function(){request(REQUEST_MODE.ACTIVATE);},[request]);var deactivateANJ=useCallback(function(){request(REQUEST_MODE.DEACTIVATE);},[request]);var stakeActivateANJ=useCallback(function(){request(REQUEST_MODE.STAKE_ACTIVATE);},[request]);var withdrawANJ=useCallback(function(){request(REQUEST_MODE.WITHDRAW);},[request]);return{activateANJ:activateANJ,deactivateANJ:deactivateANJ,stakeActivateANJ:stakeActivateANJ,withdrawANJ:withdrawANJ};}export function useDashboardLogic(){var _useANJActions=useANJActions(),activateANJ=_useANJActions.activateANJ,deactivateANJ=_useANJActions.deactivateANJ,stakeActivateANJ=_useANJActions.stakeActivateANJ,withdrawANJ=_useANJActions.withdrawANJ;var rewards=useJurorRewards();var anjBalances=useANJBalances();var panelState=useSidePanel();var appealCollaterals=useJurorAppealCollaterals();var _useDashboardState=useDashboardState(),treasury=_useDashboardState.treasury,fetchingData=_useDashboardState.fetching,errorsFetching=_useDashboardState.errors;var _usePanelRequestMode=usePanelRequestMode(panelState.requestOpen),_usePanelRequestMode2=_slicedToArray(_usePanelRequestMode,2),mode=_usePanelRequestMode2[0],setMode=_usePanelRequestMode2[1];var requests=usePanelRequestActions(setMode);var _useRewardActions=useRewardActions(),claimRewards=_useRewardActions.claimRewards;var actions={activateANJ:mode===REQUEST_MODE.STAKE_ACTIVATE?stakeActivateANJ:activateANJ,deactivateANJ:deactivateANJ,withdrawANJ:withdrawANJ,claimRewards:claimRewards};return{actions:actions,anjBalances:anjBalances,appealCollaterals:appealCollaterals,errorsFetching:errorsFetching,fetchingData:fetchingData,mode:mode,panelState:panelState,requests:requests,rewards:rewards,treasury:treasury};}","map":{"version":3,"sources":["/Users/saleemfareed/oneds/court-dashboard/src/hooks/dashboard-logic.js"],"names":["useCallback","useState","useANJBalances","useSidePanel","useJurorRewards","useJurorAppealCollaterals","useANJActions","useRewardActions","useDashboardState","REQUEST_MODE","ACTIVATE","Symbol","DEACTIVATE","STAKE_ACTIVATE","WITHDRAW","stringMapping","getRequestModeString","mode","usePanelRequestMode","requestPanelOpen","requestMode","setRequestMode","updateMode","newMode","usePanelRequestActions","request","activateANJ","deactivateANJ","stakeActivateANJ","withdrawANJ","useDashboardLogic","rewards","anjBalances","panelState","appealCollaterals","treasury","fetchingData","fetching","errorsFetching","errors","requestOpen","setMode","requests","claimRewards","actions"],"mappings":"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","sourcesContent":["import { useCallback, useState } from 'react'\n\nimport { useANJBalances } from './useANJ'\nimport { useSidePanel } from './useSidePanel'\nimport useJurorRewards from './useJurorRewards'\nimport useJurorAppealCollaterals from './useJurorAppealCollaterals'\nimport { useANJActions, useRewardActions } from './useCourtContracts'\nimport { useDashboardState } from '../components/Dashboard/DashboardStateProvider'\n\nexport const REQUEST_MODE = {\n  ACTIVATE: Symbol('ACTIVATE'),\n  DEACTIVATE: Symbol('DEACTIVATE'),\n  STAKE_ACTIVATE: Symbol('STAKE_ACTIVATE'),\n  WITHDRAW: Symbol('WITHDRAW'),\n}\n\nconst stringMapping = {\n  [REQUEST_MODE.ACTIVATE]: 'Activate',\n  [REQUEST_MODE.STAKE_ACTIVATE]: 'Activate',\n  [REQUEST_MODE.DEACTIVATE]: 'Deactivate',\n  [REQUEST_MODE.WITHDRAW]: 'Withdraw',\n}\n\nexport function getRequestModeString(mode) {\n  return stringMapping[mode]\n}\n\nexport function usePanelRequestMode(requestPanelOpen) {\n  const [requestMode, setRequestMode] = useState(REQUEST_MODE.ACTIVATE)\n\n  const updateMode = useCallback(\n    newMode => {\n      setRequestMode(newMode)\n      requestPanelOpen()\n    },\n    [requestPanelOpen]\n  )\n\n  return [requestMode, updateMode]\n}\n\n// Requests to set new mode and open side panel\nexport function usePanelRequestActions(request) {\n  // TODO: Should we implement only one request function to recieve the request mode ?\n  const activateANJ = useCallback(() => {\n    request(REQUEST_MODE.ACTIVATE)\n  }, [request])\n\n  const deactivateANJ = useCallback(() => {\n    request(REQUEST_MODE.DEACTIVATE)\n  }, [request])\n\n  const stakeActivateANJ = useCallback(() => {\n    request(REQUEST_MODE.STAKE_ACTIVATE)\n  }, [request])\n\n  const withdrawANJ = useCallback(() => {\n    request(REQUEST_MODE.WITHDRAW)\n  }, [request])\n\n  return { activateANJ, deactivateANJ, stakeActivateANJ, withdrawANJ }\n}\n\nexport function useDashboardLogic() {\n  const {\n    activateANJ,\n    deactivateANJ,\n    stakeActivateANJ,\n    withdrawANJ,\n  } = useANJActions()\n\n  const rewards = useJurorRewards()\n  const anjBalances = useANJBalances()\n  const panelState = useSidePanel()\n\n  const appealCollaterals = useJurorAppealCollaterals()\n  const {\n    treasury,\n    fetching: fetchingData,\n    errors: errorsFetching,\n  } = useDashboardState()\n\n  const [mode, setMode] = usePanelRequestMode(panelState.requestOpen)\n  const requests = usePanelRequestActions(setMode)\n\n  const { claimRewards } = useRewardActions()\n  const actions = {\n    activateANJ:\n      mode === REQUEST_MODE.STAKE_ACTIVATE ? stakeActivateANJ : activateANJ,\n    deactivateANJ,\n    withdrawANJ,\n    claimRewards,\n  }\n\n  return {\n    actions,\n    anjBalances,\n    appealCollaterals,\n    errorsFetching,\n    fetchingData,\n    mode,\n    panelState,\n    requests,\n    rewards,\n    treasury,\n  }\n}\n"]},"metadata":{},"sourceType":"module"}