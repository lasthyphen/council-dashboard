{"ast":null,"code":"import _slicedToArray from\"/Users/saleemfareed/oneds/court-dashboard/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{getLastPackageVersion,getPackageVersion,setPackageVersion}from'../local-settings';import{clearActivities}from'./migrations';import{isNewVersion,satisifesRange}from'./helper';var MIGRATIONS=[['1.0.0',function(){return clearActivities();}]];export function checkMigrations(){var packageVersion=getPackageVersion();var lastPackageVersion=getLastPackageVersion();if(isNewVersion(lastPackageVersion,packageVersion)){// Save the current package version\nsetPackageVersion(packageVersion);// Run each migration which falls in the range (lastPackageVersion, packageVersion]\nvar _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=MIGRATIONS[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var _step$value=_slicedToArray(_step.value,2),version=_step$value[0],migration=_step$value[1];if(satisifesRange(version,lastPackageVersion,packageVersion)){// Run migration\nmigration();}}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}}}","map":{"version":3,"sources":["/Users/saleemfareed/oneds/court-dashboard/src/migrations/index.js"],"names":["getLastPackageVersion","getPackageVersion","setPackageVersion","clearActivities","isNewVersion","satisifesRange","MIGRATIONS","checkMigrations","packageVersion","lastPackageVersion","version","migration"],"mappings":"4HAAA,OACEA,qBADF,CAEEC,iBAFF,CAGEC,iBAHF,KAIO,mBAJP,CAKA,OAASC,eAAT,KAAgC,cAAhC,CACA,OAASC,YAAT,CAAuBC,cAAvB,KAA6C,UAA7C,CAEA,GAAMC,CAAAA,UAAU,CAAG,CAAC,CAAC,OAAD,CAAU,iBAAMH,CAAAA,eAAe,EAArB,EAAV,CAAD,CAAnB,CAEA,MAAO,SAASI,CAAAA,eAAT,EAA2B,CAChC,GAAMC,CAAAA,cAAc,CAAGP,iBAAiB,EAAxC,CACA,GAAMQ,CAAAA,kBAAkB,CAAGT,qBAAqB,EAAhD,CAEA,GAAII,YAAY,CAACK,kBAAD,CAAqBD,cAArB,CAAhB,CAAsD,CACpD;AACAN,iBAAiB,CAACM,cAAD,CAAjB,CAEA;AAJoD,gGAKpD,kBAAmCF,UAAnC,oHAA+C,+CAAnCI,OAAmC,gBAA1BC,SAA0B,gBAC7C,GAAIN,cAAc,CAACK,OAAD,CAAUD,kBAAV,CAA8BD,cAA9B,CAAlB,CAAiE,CAC/D;AACAG,SAAS,GACV,CACF,CAVmD,qMAWrD,CACF","sourcesContent":["import {\n  getLastPackageVersion,\n  getPackageVersion,\n  setPackageVersion,\n} from '../local-settings'\nimport { clearActivities } from './migrations'\nimport { isNewVersion, satisifesRange } from './helper'\n\nconst MIGRATIONS = [['1.0.0', () => clearActivities()]]\n\nexport function checkMigrations() {\n  const packageVersion = getPackageVersion()\n  const lastPackageVersion = getLastPackageVersion()\n\n  if (isNewVersion(lastPackageVersion, packageVersion)) {\n    // Save the current package version\n    setPackageVersion(packageVersion)\n\n    // Run each migration which falls in the range (lastPackageVersion, packageVersion]\n    for (const [version, migration] of MIGRATIONS) {\n      if (satisifesRange(version, lastPackageVersion, packageVersion)) {\n        // Run migration\n        migration()\n      }\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}