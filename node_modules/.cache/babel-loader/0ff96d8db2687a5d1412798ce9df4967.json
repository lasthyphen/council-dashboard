{"ast":null,"code":"import{useMemo}from'react';import{Contract as EthersContract,providers as Providers}from'ethers';import{useWallet}from'./providers/Wallet';import{defaultEthNode}from'./endpoints';var DEFAULT_PROVIDER=new Providers.JsonRpcProvider(defaultEthNode);export function useContract(address,abi){var signer=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var _useWallet=useWallet(),account=_useWallet.account,ethers=_useWallet.ethers;return useMemo(function(){// Apparently .getSigner() returns a new object every time, so we use the\n// connected account as memo dependency.\nif(!address||!ethers||!account){return null;}return getContract(address,abi,signer?ethers.getSigner():ethers);},[abi,account,address,ethers,signer]);}export function useContractReadOnly(address,abi){return useMemo(function(){if(!address){return null;}return getContract(address,abi);},[abi,address]);}export function getContract(address,abi){var provider=arguments.length>2&&arguments[2]!==undefined?arguments[2]:DEFAULT_PROVIDER;return new EthersContract(address,abi,provider);}","map":{"version":3,"sources":["/Users/saleemfareed/oneds/court-dashboard/src/web3-contracts.js"],"names":["useMemo","Contract","EthersContract","providers","Providers","useWallet","defaultEthNode","DEFAULT_PROVIDER","JsonRpcProvider","useContract","address","abi","signer","account","ethers","getContract","getSigner","useContractReadOnly","provider"],"mappings":"AAAA,OAASA,OAAT,KAAwB,OAAxB,CACA,OAASC,QAAQ,GAAIC,CAAAA,cAArB,CAAqCC,SAAS,GAAIC,CAAAA,SAAlD,KAAmE,QAAnE,CACA,OAASC,SAAT,KAA0B,oBAA1B,CACA,OAASC,cAAT,KAA+B,aAA/B,CAEA,GAAMC,CAAAA,gBAAgB,CAAG,GAAIH,CAAAA,SAAS,CAACI,eAAd,CAA8BF,cAA9B,CAAzB,CAEA,MAAO,SAASG,CAAAA,WAAT,CAAqBC,OAArB,CAA8BC,GAA9B,CAAkD,IAAfC,CAAAA,MAAe,2DAAN,IAAM,gBAC3BP,SAAS,EADkB,CAC/CQ,OAD+C,YAC/CA,OAD+C,CACtCC,MADsC,YACtCA,MADsC,CAGvD,MAAOd,CAAAA,OAAO,CAAC,UAAM,CACnB;AACA;AAEA,GAAI,CAACU,OAAD,EAAY,CAACI,MAAb,EAAuB,CAACD,OAA5B,CAAqC,CACnC,MAAO,KAAP,CACD,CAED,MAAOE,CAAAA,WAAW,CAACL,OAAD,CAAUC,GAAV,CAAeC,MAAM,CAAGE,MAAM,CAACE,SAAP,EAAH,CAAwBF,MAA7C,CAAlB,CACD,CATa,CASX,CAACH,GAAD,CAAME,OAAN,CAAeH,OAAf,CAAwBI,MAAxB,CAAgCF,MAAhC,CATW,CAAd,CAUD,CAED,MAAO,SAASK,CAAAA,mBAAT,CAA6BP,OAA7B,CAAsCC,GAAtC,CAA2C,CAChD,MAAOX,CAAAA,OAAO,CAAC,UAAM,CACnB,GAAI,CAACU,OAAL,CAAc,CACZ,MAAO,KAAP,CACD,CACD,MAAOK,CAAAA,WAAW,CAACL,OAAD,CAAUC,GAAV,CAAlB,CACD,CALa,CAKX,CAACA,GAAD,CAAMD,OAAN,CALW,CAAd,CAMD,CAED,MAAO,SAASK,CAAAA,WAAT,CAAqBL,OAArB,CAA8BC,GAA9B,CAAgE,IAA7BO,CAAAA,QAA6B,2DAAlBX,gBAAkB,CACrE,MAAO,IAAIL,CAAAA,cAAJ,CAAmBQ,OAAnB,CAA4BC,GAA5B,CAAiCO,QAAjC,CAAP,CACD","sourcesContent":["import { useMemo } from 'react'\nimport { Contract as EthersContract, providers as Providers } from 'ethers'\nimport { useWallet } from './providers/Wallet'\nimport { defaultEthNode } from './endpoints'\n\nconst DEFAULT_PROVIDER = new Providers.JsonRpcProvider(defaultEthNode)\n\nexport function useContract(address, abi, signer = true) {\n  const { account, ethers } = useWallet()\n\n  return useMemo(() => {\n    // Apparently .getSigner() returns a new object every time, so we use the\n    // connected account as memo dependency.\n\n    if (!address || !ethers || !account) {\n      return null\n    }\n\n    return getContract(address, abi, signer ? ethers.getSigner() : ethers)\n  }, [abi, account, address, ethers, signer])\n}\n\nexport function useContractReadOnly(address, abi) {\n  return useMemo(() => {\n    if (!address) {\n      return null\n    }\n    return getContract(address, abi)\n  }, [abi, address])\n}\n\nexport function getContract(address, abi, provider = DEFAULT_PROVIDER) {\n  return new EthersContract(address, abi, provider)\n}\n"]},"metadata":{},"sourceType":"module"}