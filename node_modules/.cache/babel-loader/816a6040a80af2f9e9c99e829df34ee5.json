{"ast":null,"code":"import _regeneratorRuntime from \"/Users/saleemfareed/oneds/court-dashboard/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/saleemfareed/oneds/court-dashboard/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/saleemfareed/oneds/court-dashboard/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/saleemfareed/oneds/court-dashboard/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { resolveArtifact } from '../utils/metadata';\nimport Permission from './Permission';\n\nvar Role =\n/*#__PURE__*/\nfunction () {\n  function Role(data, metadata, organization) {\n    _classCallCheck(this, Role);\n\n    var _a;\n\n    var roles = metadata[0].roles;\n    var role = roles === null || roles === void 0 ? void 0 : roles.find(function (role) {\n      return role.bytes === data.hash;\n    });\n    this.appAddress = data.appAddress;\n    this.description = role === null || role === void 0 ? void 0 : role.name;\n    this.hash = data.hash;\n    this.manager = data.manager;\n    this.name = role === null || role === void 0 ? void 0 : role.id;\n    this.params = role === null || role === void 0 ? void 0 : role.params;\n    this.permissions = (_a = data.grantees) === null || _a === void 0 ? void 0 : _a.map(function (grantee) {\n      return new Permission(grantee, organization);\n    });\n  }\n\n  _createClass(Role, null, [{\n    key: \"create\",\n    value: function () {\n      var _create = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(data, organization) {\n        var artifact, metadata;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return resolveArtifact(data);\n\n              case 2:\n                artifact = _context.sent;\n                metadata = [artifact];\n                return _context.abrupt(\"return\", new Role(data, metadata, organization));\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function create(_x, _x2) {\n        return _create.apply(this, arguments);\n      }\n\n      return create;\n    }()\n  }]);\n\n  return Role;\n}();\n\nexport { Role as default };","map":null,"metadata":{},"sourceType":"module"}