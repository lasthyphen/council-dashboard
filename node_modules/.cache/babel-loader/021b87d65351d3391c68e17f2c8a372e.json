{"ast":null,"code":"import _objectWithoutProperties from\"/Users/saleemfareed/oneds/court-dashboard/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _slicedToArray from\"/Users/saleemfareed/oneds/court-dashboard/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _styled12 from\"styled-components\";import _styled11 from\"styled-components\";import _styled10 from\"styled-components\";import _styled9 from\"styled-components\";import _styled8 from\"styled-components\";import _styled7 from\"styled-components\";import _styled6 from\"styled-components\";import _styled5 from\"styled-components\";import _styled4 from\"styled-components\";import _styled3 from\"styled-components\";import _styled2 from\"styled-components\";import _styled from\"styled-components\";import React,{useCallback,useEffect,useState}from'react';import{Button,Checkbox,GU,Link,textStyle,useInside,useTheme}from'@aragon/ui';import EmailInput from'./EmailInput';import{useInput}from'../../hooks/useInput';import{validateEmail}from'../../utils/validate-utils';import emailIllustration from\"../../assets/emailIllustration.svg\";var _StyledDiv=_styled(\"div\").withConfig({displayName:\"VerifyEmailAddress___StyledDiv\",componentId:\"sc-14saxyp-0\"})([\"padding-top:\",\"px;display:flex;flex-direction:column;text-align:center;\"],function(p){return p._css;});var _StyledDiv2=_styled(\"div\").withConfig({displayName:\"VerifyEmailAddress___StyledDiv2\",componentId:\"sc-14saxyp-1\"})([\"align-items:center;\"]);var _StyledH=_styled(\"h3\").withConfig({displayName:\"VerifyEmailAddress___StyledH\",componentId:\"sc-14saxyp-2\"})([\"\",\";margin-top:\",\"px;\"],function(p){return p._css2;},function(p){return p._css3;});var _StyledSpan=_styled(\"span\").withConfig({displayName:\"VerifyEmailAddress___StyledSpan\",componentId:\"sc-14saxyp-3\"})([\"\",\";color:\",\";margin-top:\",\"px;\"],function(p){return p._css4;},function(p){return p._css5;},function(p){return p._css6;});var _StyledButton=_styled(Button).withConfig({displayName:\"VerifyEmailAddress___StyledButton\",componentId:\"sc-14saxyp-4\"})([\"margin-top:\",\"px;\"],function(p){return p._css7;});var _StyledDiv3=_styled(\"div\").withConfig({displayName:\"VerifyEmailAddress___StyledDiv3\",componentId:\"sc-14saxyp-5\"})([\"margin-top:\",\"px;\"],function(p){return p._css8;});var _StyledP=_styled(\"p\").withConfig({displayName:\"VerifyEmailAddress___StyledP\",componentId:\"sc-14saxyp-6\"})([\"color:\",\";\",\";text-align:left;height:0;margin-top:\",\"px;\"],function(p){return p._css9;},function(p){return p._css10;},function(p){return p._css11;});var _StyledDiv4=_styled(\"div\").withConfig({displayName:\"VerifyEmailAddress___StyledDiv4\",componentId:\"sc-14saxyp-7\"})([\"display:flex;justify-content:space-between;flex-direction:\",\";width:100%;margin-bottom:\",\"px;margin-top:\",\"px;\"],function(p){return p._css12;},function(p){return p._css13;},function(p){return p._css14;});var VerifyEmailAddress=React.memo(function VerifyEmailAddress(_ref){var updateMode=_ref.updateMode,compactMode=_ref.compactMode,email=_ref.email,onSubscribe=_ref.onSubscribe,onResendEmail=_ref.onResendEmail,onDeleteEmail=_ref.onDeleteEmail;var theme=useTheme();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),termsAccepted=_useState4[0],setTermsAccepted=_useState4[1];var _useInside=useInside('NotificationsModal'),_useInside2=_slicedToArray(_useInside,1),insideModal=_useInside2[0];var _useInput=useInput(validateEmail),inputProps=_useInput.inputProps,status=_useInput.status;var emailInvalid=status==='invalid';var handleOnTermsChange=useCallback(function(checked){setTermsAccepted(checked);},[setTermsAccepted]);var handleOnSubscribe=useCallback(function(){if(inputProps.value===email){return setError('Email already exists.');}onSubscribe(inputProps.value);},[inputProps.value,onSubscribe,email]);useEffect(function(){if(inputProps.value!==email){return setError('');}},[inputProps.value,email]);return React.createElement(_StyledDiv,{_css:(insideModal?3:0)*GU},React.createElement(_StyledDiv2,null,React.createElement(\"img\",{src:emailIllustration,width:141,height:141,alt:\"\"})),React.createElement(_StyledH,{_css2:textStyle('title2'),_css3:4*GU},\"Verify your email address\"),React.createElement(_StyledSpan,{_css4:textStyle('body2'),_css5:theme.surfaceContentSecondary,_css6:1.5*GU},\"Almost there! We\\u2019ve sent a verification email to\",' ',React.createElement(\"strong\",null,email),\". Kindly check your inbox and click the link to verify your account.\",updateMode&&'Alternatively, you can update this email or delete it, if you wish to unsubscribe'),function(){if(!updateMode){return React.createElement(_StyledButton,{mode:\"strong\",onClick:onResendEmail,_css7:3*GU},\"Resend verification email\");}return React.createElement(React.Fragment,null,React.createElement(_StyledDiv3,{_css8:5*GU},React.createElement(EmailInput,Object.assign({existingEmail:true,status:status},inputProps)),error&&React.createElement(\"div\",null,React.createElement(_StyledP,{_css9:theme.negative,_css10:textStyle('body4'),_css11:0.5*GU},error))),React.createElement(LegalTermsAndPolicy,{termsAccepted:termsAccepted,onChange:handleOnTermsChange}),React.createElement(_StyledDiv4,{_css12:compactMode?'column':'row',_css13:1.5*GU,_css14:3*GU},React.createElement(ActionButton,{compactMode:compactMode,onClick:onDeleteEmail},\"Delete email\"),React.createElement(ActionButton,{compactMode:compactMode,mode:\"strong\",disabled:emailInvalid||!termsAccepted,onClick:handleOnSubscribe},\"Send verification email\")));}());});var _StyledDiv5=_styled(\"div\").withConfig({displayName:\"VerifyEmailAddress___StyledDiv5\",componentId:\"sc-14saxyp-8\"})([\"margin-top:\",\"px;\"],function(p){return p._css15;});var _StyledDiv6=_styled(\"div\").withConfig({displayName:\"VerifyEmailAddress___StyledDiv6\",componentId:\"sc-14saxyp-9\"})([\"display:flex;\"]);var _StyledSpan2=_styled(\"span\").withConfig({displayName:\"VerifyEmailAddress___StyledSpan2\",componentId:\"sc-14saxyp-10\"})([\"\",\";color:\",\";margin-left:\",\"px;text-align:left;\"],function(p){return p._css16;},function(p){return p._css17;},function(p){return p._css18;});function LegalTermsAndPolicy(_ref2){var termsAccepted=_ref2.termsAccepted,onChange=_ref2.onChange;var theme=useTheme();return React.createElement(_StyledDiv5,{_css15:3*GU},React.createElement(_StyledDiv6,null,React.createElement(\"div\",null,React.createElement(Checkbox,{checked:termsAccepted,onChange:onChange})),React.createElement(_StyledSpan2,{_css16:textStyle('body2'),_css17:theme.surfaceContentSecondary,_css18:1.5*GU},\"By continuing with your email, you agree to Dijets Council's\",' ',React.createElement(Link,{href:\"https://anj.aragon.org/legal/terms-general.pdf\"},\"legal terms\"),' ',\"and\",' ',React.createElement(Link,{href:\"https://portal.dijets.io/email-collection.md\"},\"email collection policy\"),\".\")));}var _StyledButton2=_styled(Button).withConfig({displayName:\"VerifyEmailAddress___StyledButton2\",componentId:\"sc-14saxyp-11\"})([\"width:\",\";\"],function(p){return p._css19;});function ActionButton(_ref3){var compactMode=_ref3.compactMode,props=_objectWithoutProperties(_ref3,[\"compactMode\"]);return React.createElement(_StyledButton2,Object.assign({},props,{_css19:compactMode?'100%':\"calc((100% - \".concat(2*GU,\"px) /  2)\")}));}export default VerifyEmailAddress;","map":{"version":3,"sources":["/Users/saleemfareed/oneds/court-dashboard/src/components/EmailNotifications/VerifyEmailAddress.js"],"names":["React","useCallback","useEffect","useState","Button","Checkbox","GU","Link","textStyle","useInside","useTheme","EmailInput","useInput","validateEmail","VerifyEmailAddress","memo","updateMode","compactMode","email","onSubscribe","onResendEmail","onDeleteEmail","theme","error","setError","termsAccepted","setTermsAccepted","insideModal","inputProps","status","emailInvalid","handleOnTermsChange","checked","handleOnSubscribe","value","emailIllustration","surfaceContentSecondary","negative","LegalTermsAndPolicy","onChange","ActionButton","props"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useState } from 'react'\nimport {\n  Button,\n  Checkbox,\n  GU,\n  Link,\n  textStyle,\n  useInside,\n  useTheme,\n} from '@aragon/ui'\nimport EmailInput from './EmailInput'\nimport { useInput } from '../../hooks/useInput'\nimport { validateEmail } from '../../utils/validate-utils'\nimport emailIllustration from '../../assets/emailIllustration.svg'\n\nconst VerifyEmailAddress = React.memo(function VerifyEmailAddress({\n  updateMode,\n  compactMode,\n  email,\n  onSubscribe,\n  onResendEmail,\n  onDeleteEmail,\n}) {\n  const theme = useTheme()\n  const [error, setError] = useState('')\n  const [termsAccepted, setTermsAccepted] = useState(false)\n\n  const [insideModal] = useInside('NotificationsModal')\n\n  const { inputProps, status } = useInput(validateEmail)\n\n  const emailInvalid = status === 'invalid'\n\n  const handleOnTermsChange = useCallback(\n    checked => {\n      setTermsAccepted(checked)\n    },\n    [setTermsAccepted]\n  )\n\n  const handleOnSubscribe = useCallback(() => {\n    if (inputProps.value === email) {\n      return setError('Email already exists.')\n    }\n    onSubscribe(inputProps.value)\n  }, [inputProps.value, onSubscribe, email])\n\n  useEffect(() => {\n    if (inputProps.value !== email) {\n      return setError('')\n    }\n  }, [inputProps.value, email])\n\n  return (\n    <div\n      css={`\n        padding-top: ${(insideModal ? 3 : 0) * GU}px;\n        display: flex;\n        flex-direction: column;\n        text-align: center;\n      `}\n    >\n      <div\n        css={`\n          align-items: center;\n        `}\n      >\n        <img src={emailIllustration} width={141} height={141} alt=\"\" />\n      </div>\n      <h3\n        css={`\n          ${textStyle('title2')};\n          margin-top: ${4 * GU}px;\n        `}\n      >\n        Verify your email address\n      </h3>\n\n      <span\n        css={`\n          ${textStyle('body2')};\n          color: ${theme.surfaceContentSecondary};\n          margin-top: ${1.5 * GU}px;\n        `}\n      >\n        Almost there! We’ve sent a verification email to{' '}\n        <strong>{email}</strong>. Kindly check your inbox and click the link to\n        verify your account.\n        {updateMode &&\n          'Alternatively, you can update this email or delete it, if you wish to unsubscribe'}\n      </span>\n      {(() => {\n        if (!updateMode) {\n          return (\n            <Button\n              mode=\"strong\"\n              onClick={onResendEmail}\n              css={`\n                margin-top: ${3 * GU}px;\n              `}\n            >\n              Resend verification email\n            </Button>\n          )\n        }\n        return (\n          <>\n            <div\n              css={`\n                margin-top: ${5 * GU}px;\n              `}\n            >\n              <EmailInput existingEmail status={status} {...inputProps} />\n              {error && (\n                <div>\n                  <p\n                    css={`\n                      color: ${theme.negative};\n                      ${textStyle('body4')};\n                      text-align: left;\n                      height: 0;\n                      margin-top: ${0.5 * GU}px;\n                    `}\n                  >\n                    {error}\n                  </p>\n                </div>\n              )}\n            </div>\n            <LegalTermsAndPolicy\n              termsAccepted={termsAccepted}\n              onChange={handleOnTermsChange}\n            />\n            <div\n              css={`\n                display: flex;\n                justify-content: space-between;\n                flex-direction: ${compactMode ? 'column' : 'row'};\n                width: 100%;\n                margin-bottom: ${1.5 * GU}px;\n                margin-top: ${3 * GU}px;\n              `}\n            >\n              <ActionButton compactMode={compactMode} onClick={onDeleteEmail}>\n                Delete email\n              </ActionButton>\n              <ActionButton\n                compactMode={compactMode}\n                mode=\"strong\"\n                disabled={emailInvalid || !termsAccepted}\n                onClick={handleOnSubscribe}\n              >\n                Send verification email\n              </ActionButton>\n            </div>\n          </>\n        )\n      })()}\n    </div>\n  )\n})\n\nfunction LegalTermsAndPolicy({ termsAccepted, onChange }) {\n  const theme = useTheme()\n\n  return (\n    <div\n      css={`\n        margin-top: ${3 * GU}px;\n      `}\n    >\n      <div\n        css={`\n          display: flex;\n        `}\n      >\n        <div>\n          <Checkbox checked={termsAccepted} onChange={onChange} />\n        </div>\n        <span\n          css={`\n            ${textStyle('body2')};\n            color: ${theme.surfaceContentSecondary};\n            margin-left: ${1.5 * GU}px;\n            text-align: left;\n          `}\n        >\n          By continuing with your email, you agree to Dijets Council's{' '}\n          <Link href=\"https://anj.aragon.org/legal/terms-general.pdf\">\n            legal terms\n          </Link>{' '}\n          and{' '}\n          <Link href=\"https://portal.dijets.io/email-collection.md\">\n            email collection policy\n          </Link>\n          .\n        </span>\n      </div>\n    </div>\n  )\n}\n\nfunction ActionButton({ compactMode, ...props }) {\n  return (\n    <Button\n      css={`\n        width: ${compactMode ? '100%' : `calc((100% - ${2 * GU}px) /  2)`};\n      `}\n      {...props}\n    />\n  )\n}\n\nexport default VerifyEmailAddress\n"]},"metadata":{},"sourceType":"module"}