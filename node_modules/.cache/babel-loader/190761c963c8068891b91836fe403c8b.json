{"ast":null,"code":"import _styled from \"styled-components\";\nvar _jsxFileName = \"/Users/saleemfareed/oneds/court-dashboard/src/components/EmailNotificationsLoader.js\";\nimport React, { useEffect, useCallback, useState } from 'react';\nimport { GU, Inside, useViewport, Modal } from '@aragon/ui';\nimport { useWallet } from '../providers/Wallet';\nimport { useSubscriptionDetails } from '../hooks/useEmailNotifications';\nimport EmailNotificationsManager from './EmailNotifications/EmailNotificationsManager';\n\nvar _StyledModal = _styled(Modal).withConfig({\n  displayName: \"EmailNotificationsLoader___StyledModal\",\n  componentId: \"slq1yg-0\"\n})([\"z-index:4\"]);\n\nfunction EmailNotificationsLoader({\n  children\n}) {\n  const {\n    width\n  } = useViewport();\n  const [modalVisible, setModalVisible] = useState(false);\n  const wallet = useWallet();\n  const {\n    addressVerified,\n    emailExists,\n    fetching\n  } = useSubscriptionDetails(wallet.account);\n  useEffect(() => {\n    const visible = wallet.account && !addressVerified;\n    setModalVisible(visible);\n  }, [wallet.account, addressVerified]);\n  const handleOnClose = useCallback(() => {\n    setModalVisible(false);\n  }, []);\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, !fetching && React.createElement(_StyledModal, {\n    width: Math.min(76 * GU, width - 40),\n    visible: modalVisible,\n    onClose: handleOnClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, React.createElement(Inside, {\n    name: \"NotificationsModal\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(EmailNotificationsManager, {\n    emailExists: emailExists,\n    addressVerified: addressVerified,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }))), children);\n}\n\nexport default EmailNotificationsLoader;","map":{"version":3,"sources":["/Users/saleemfareed/oneds/court-dashboard/src/components/EmailNotificationsLoader.js"],"names":["React","useEffect","useCallback","useState","GU","Inside","useViewport","Modal","useWallet","useSubscriptionDetails","EmailNotificationsManager","EmailNotificationsLoader","children","width","modalVisible","setModalVisible","wallet","addressVerified","emailExists","fetching","account","visible","handleOnClose","Math","min"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,WAA3B,EAAwCC,QAAxC,QAAwD,OAAxD;AACA,SAASC,EAAT,EAAaC,MAAb,EAAqBC,WAArB,EAAkCC,KAAlC,QAA+C,YAA/C;AACA,SAASC,SAAT,QAA0B,qBAA1B;AACA,SAASC,sBAAT,QAAuC,gCAAvC;AACA,OAAOC,yBAAP,MAAsC,gDAAtC;;;;;;;AAEA,SAASC,wBAAT,CAAkC;AAAEC,EAAAA;AAAF,CAAlC,EAAgD;AAC9C,QAAM;AAAEC,IAAAA;AAAF,MAAYP,WAAW,EAA7B;AACA,QAAM,CAACQ,YAAD,EAAeC,eAAf,IAAkCZ,QAAQ,CAAC,KAAD,CAAhD;AACA,QAAMa,MAAM,GAAGR,SAAS,EAAxB;AACA,QAAM;AAAES,IAAAA,eAAF;AAAmBC,IAAAA,WAAnB;AAAgCC,IAAAA;AAAhC,MAA6CV,sBAAsB,CACvEO,MAAM,CAACI,OADgE,CAAzE;AAIAnB,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMoB,OAAO,GAAGL,MAAM,CAACI,OAAP,IAAkB,CAACH,eAAnC;AACAF,IAAAA,eAAe,CAACM,OAAD,CAAf;AACD,GAHQ,EAGN,CAACL,MAAM,CAACI,OAAR,EAAiBH,eAAjB,CAHM,CAAT;AAKA,QAAMK,aAAa,GAAGpB,WAAW,CAAC,MAAM;AACtCa,IAAAA,eAAe,CAAC,KAAD,CAAf;AACD,GAFgC,EAE9B,EAF8B,CAAjC;AAIA,SACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAACI,QAAD,IACC;AACE,IAAA,KAAK,EAAEI,IAAI,CAACC,GAAL,CAAS,KAAKpB,EAAd,EAAkBS,KAAK,GAAG,EAA1B,CADT;AAEE,IAAA,OAAO,EAAEC,YAFX;AAGE,IAAA,OAAO,EAAEQ,aAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAME,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,oBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,yBAAD;AACE,IAAA,WAAW,EAAEJ,WADf;AAEE,IAAA,eAAe,EAAED,eAFnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CANF,CAFJ,EAgBGL,QAhBH,CADF;AAoBD;;AAED,eAAeD,wBAAf","sourcesContent":["import React, { useEffect, useCallback, useState } from 'react'\nimport { GU, Inside, useViewport, Modal } from '@aragon/ui'\nimport { useWallet } from '../providers/Wallet'\nimport { useSubscriptionDetails } from '../hooks/useEmailNotifications'\nimport EmailNotificationsManager from './EmailNotifications/EmailNotificationsManager'\n\nfunction EmailNotificationsLoader({ children }) {\n  const { width } = useViewport()\n  const [modalVisible, setModalVisible] = useState(false)\n  const wallet = useWallet()\n  const { addressVerified, emailExists, fetching } = useSubscriptionDetails(\n    wallet.account\n  )\n\n  useEffect(() => {\n    const visible = wallet.account && !addressVerified\n    setModalVisible(visible)\n  }, [wallet.account, addressVerified])\n\n  const handleOnClose = useCallback(() => {\n    setModalVisible(false)\n  }, [])\n\n  return (\n    <React.Fragment>\n      {!fetching && (\n        <Modal\n          width={Math.min(76 * GU, width - 40)}\n          visible={modalVisible}\n          onClose={handleOnClose}\n          css=\"z-index: 4\"\n        >\n          <Inside name=\"NotificationsModal\">\n            <EmailNotificationsManager\n              emailExists={emailExists}\n              addressVerified={addressVerified}\n            />\n          </Inside>\n        </Modal>\n      )}\n      {children}\n    </React.Fragment>\n  )\n}\n\nexport default EmailNotificationsLoader\n"]},"metadata":{},"sourceType":"module"}