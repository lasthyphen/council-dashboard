{"ast":null,"code":"import _styled9 from \"styled-components\";\nimport _styled8 from \"styled-components\";\nimport _styled7 from \"styled-components\";\nimport _styled6 from \"styled-components\";\nimport _styled5 from \"styled-components\";\nimport _styled4 from \"styled-components\";\nimport _styled3 from \"styled-components\";\nimport _styled2 from \"styled-components\";\nimport _styled from \"styled-components\";\nvar _jsxFileName = \"/Users/saleemfareed/oneds/court-dashboard/src/components/Dashboard/AccountBanner.js\";\nimport React from 'react';\nimport { animated, useSpring } from 'react-spring';\nimport { GU, Help, LoadingRing, useTheme } from '@aragon/ui';\nimport AccountBannerInfo from './AccountBannerInfo';\nimport CircleGraph from '../CircleGraph';\nimport { useCourtConfig } from '../../providers/CourtConfig';\nimport { useTotalActiveBalance } from '../../hooks/useCourtStats';\nimport { useJurorFirstTimeANJActivation } from '../../hooks/useANJ';\nimport { ACCOUNT_STATUS_JUROR_ACTIVE } from '../../types/account-status-types';\nimport { getPercentageBN, bigNum } from '../../lib/math-utils';\nimport anjSpringIcon from \"../../assets/IconANJSpring.svg\";\nimport { useJurorDrafted } from '../../hooks/useJurorDrafted';\n\nconst getBannerAttributes = () => {\n  return {\n    icon: anjSpringIcon,\n    title: 'Deprecation warning: ANJ Withdraws',\n    paragraph: `This version of Aragon Court is deprecated. Please deactivate your ANJ and convert it to ANT so as to use the new Aragon Court. When deactivating it, make sure you wait until the term ends to be able to withdraw it. Keep in mind that terms need to be updated manually.`\n  };\n};\n\nvar _StyledDiv = _styled(\"div\").withConfig({\n  displayName: \"AccountBanner___StyledDiv\",\n  componentId: \"e2oi7a-0\"\n})([\"display:flex;align-items:center;justify-content:center;background:\", \";width:\", \";border-radius:50%;\"], p => p._css, p => p._css2);\n\nvar _StyledImg = _styled(\"img\").withConfig({\n  displayName: \"AccountBanner___StyledImg\",\n  componentId: \"e2oi7a-1\"\n})([\"display:block;margin:0 auto;\"]);\n\nfunction AccountBanner({\n  status,\n  loading,\n  minActiveBalance,\n  activeBalance\n}) {\n  const theme = useTheme();\n  const {\n    anjToken\n  } = useCourtConfig(); // check if juror has been drafted in this current term\n\n  const isJurorDrafted = useJurorDrafted({\n    pause: status !== ACCOUNT_STATUS_JUROR_ACTIVE\n  }); // check if it's the first time activating ANJ\n\n  const isFirstTimeActivating = useJurorFirstTimeANJActivation({\n    pause: isJurorDrafted || status !== ACCOUNT_STATUS_JUROR_ACTIVE\n  });\n  const attributes = getBannerAttributes(status, isJurorDrafted, isFirstTimeActivating, minActiveBalance, anjToken.decimals, theme);\n\n  if (loading) {\n    return React.createElement(BannerLoadingRing, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    });\n  }\n\n  if (attributes.showProbability) {\n    return React.createElement(BannerWithProbability, {\n      activeBalance: activeBalance,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    });\n  }\n\n  const {\n    icon,\n    title,\n    titleColor,\n    paragraph,\n    iconBackground,\n    showTimer\n  } = attributes;\n  return React.createElement(Wrapper, {\n    mainIcon: React.createElement(_StyledDiv, {\n      _css: iconBackground,\n      _css2: iconBackground ? 7 * GU + 'px' : 'auto',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(_StyledImg, {\n      height: iconBackground ? 3 * GU : 6 * GU,\n      src: icon,\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    })),\n    information: React.createElement(AccountBannerInfo, {\n      title: title,\n      titleColor: titleColor,\n      paragraph: paragraph,\n      showTimer: showTimer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  });\n}\n\nvar _StyledAnimatedDiv = _styled(animated.div).withConfig({\n  displayName: \"AccountBanner___StyledAnimatedDiv\",\n  componentId: \"e2oi7a-2\"\n})([\"display:flex;\"]);\n\nvar _StyledDiv2 = _styled(\"div\").withConfig({\n  displayName: \"AccountBanner___StyledDiv2\",\n  componentId: \"e2oi7a-3\"\n})([\"margin-right:\", \"px;\"], p => p._css3);\n\nconst Wrapper = ({\n  mainIcon,\n  information\n}) => {\n  const springProps = useSpring({\n    to: {\n      opacity: 1\n    },\n    from: {\n      opacity: 0\n    },\n    delay: 200\n  });\n  return React.createElement(_StyledAnimatedDiv, {\n    style: springProps,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(_StyledDiv2, {\n    _css3: 1.5 * GU,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, mainIcon), information);\n};\n\nvar _StyledDiv3 = _styled(\"div\").withConfig({\n  displayName: \"AccountBanner___StyledDiv3\",\n  componentId: \"e2oi7a-4\"\n})([\"display:flex;align-items:center;\"]);\n\nvar _StyledSpan = _styled(\"span\").withConfig({\n  displayName: \"AccountBanner___StyledSpan\",\n  componentId: \"e2oi7a-5\"\n})([\"margin-right:\", \"px;\"], p => p._css4);\n\nvar _StyledSpan2 = _styled(\"span\").withConfig({\n  displayName: \"AccountBanner___StyledSpan2\",\n  componentId: \"e2oi7a-6\"\n})([\"color:\", \";\"], p => p._css5);\n\nvar _StyledP = _styled(\"p\").withConfig({\n  displayName: \"AccountBanner___StyledP\",\n  componentId: \"e2oi7a-7\"\n})([\"margin-top:\", \"px;\"], p => p._css6);\n\nconst BannerWithProbability = ({\n  activeBalance\n}) => {\n  const theme = useTheme();\n  const [totalActiveBalanceCurrentTerm] = useTotalActiveBalance();\n  const fetchingTotalBalance = totalActiveBalanceCurrentTerm.eq(bigNum(-1));\n\n  if (fetchingTotalBalance) {\n    return React.createElement(BannerLoadingRing, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    });\n  } // Calculate juror's active balance and total active balance for current term\n\n\n  const {\n    amount: activeAmount,\n    amountNotEffective: activeAmountNotEffective\n  } = activeBalance;\n  const activeBalanceCurrentTerm = activeAmount.sub(activeAmountNotEffective);\n  const totalPercentage = getPercentageBN(activeBalanceCurrentTerm, totalActiveBalanceCurrentTerm); // Calculate probability (since the total active balance is asynchronous\n  // it can happen that it has not been updated yet when the juror active balance has)\n\n  const draftingProbability = Math.min(1, totalPercentage / 100);\n  const probablilityTooLow = totalPercentage < 1;\n  const chances = probablilityTooLow ? '100+' : totalPercentage > 0 && Math.floor(100 / totalPercentage);\n  const title = React.createElement(_StyledDiv3, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, React.createElement(_StyledSpan, {\n    _css4: 1 * GU,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }, 'On average, you will be drafted into a jury ', React.createElement(_StyledSpan2, {\n    _css5: theme.accent,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }, \"1 in \", chances, \" times\")), React.createElement(Help, {\n    hint: \"How is the probability calculated?\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }, \"This is a numerical estimate of your likelihood of being selected for arbitration. It\\u2019s calculated by dividing your active ANJ balance against the Court's total active ANJ balance during the current term.\"), React.createElement(_StyledP, {\n    _css6: 1 * GU,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  }, probablilityTooLow ? `\n                You currently have <1% of all activated ANJ, hence are unlikely\n                to be drafted unless a dispute goes to the final round or many\n                disputes are created. Activate more ANJ to increase your chances\n                of being selected as a juror.\n              ` : `\n                You can always activate more ANJ to increase your chances of\n                being selected as a juror.\n              `)));\n  const paragraph = 'The more ANJ you activate, the more likely you will be drafted to arbitrate a dispute';\n  return React.createElement(Wrapper, {\n    mainIcon: React.createElement(CircleGraph, {\n      value: draftingProbability,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }),\n    information: React.createElement(AccountBannerInfo, {\n      title: title,\n      paragraph: paragraph,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206\n    },\n    __self: this\n  });\n};\n\nvar _StyledDiv4 = _styled(\"div\").withConfig({\n  displayName: \"AccountBanner___StyledDiv4\",\n  componentId: \"e2oi7a-8\"\n})([\"display:flex;align-items:center;height:\", \"px;\"], p => p._css7);\n\nfunction BannerLoadingRing() {\n  return React.createElement(_StyledDiv4, {\n    _css7: 7 * GU,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215\n    },\n    __self: this\n  }, React.createElement(LoadingRing, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222\n    },\n    __self: this\n  }));\n}\n\nexport default AccountBanner;","map":{"version":3,"sources":["/Users/saleemfareed/oneds/court-dashboard/src/components/Dashboard/AccountBanner.js"],"names":["React","animated","useSpring","GU","Help","LoadingRing","useTheme","AccountBannerInfo","CircleGraph","useCourtConfig","useTotalActiveBalance","useJurorFirstTimeANJActivation","ACCOUNT_STATUS_JUROR_ACTIVE","getPercentageBN","bigNum","useJurorDrafted","getBannerAttributes","icon","anjSpringIcon","title","paragraph","AccountBanner","status","loading","minActiveBalance","activeBalance","theme","anjToken","isJurorDrafted","pause","isFirstTimeActivating","attributes","decimals","showProbability","titleColor","iconBackground","showTimer","Wrapper","mainIcon","information","springProps","to","opacity","from","delay","BannerWithProbability","totalActiveBalanceCurrentTerm","fetchingTotalBalance","eq","amount","activeAmount","amountNotEffective","activeAmountNotEffective","activeBalanceCurrentTerm","sub","totalPercentage","draftingProbability","Math","min","probablilityTooLow","chances","floor","accent","BannerLoadingRing"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { animated, useSpring } from 'react-spring'\nimport { GU, Help, LoadingRing, useTheme } from '@aragon/ui'\n\nimport AccountBannerInfo from './AccountBannerInfo'\nimport CircleGraph from '../CircleGraph'\nimport { useCourtConfig } from '../../providers/CourtConfig'\nimport { useTotalActiveBalance } from '../../hooks/useCourtStats'\nimport { useJurorFirstTimeANJActivation } from '../../hooks/useANJ'\n\nimport { ACCOUNT_STATUS_JUROR_ACTIVE } from '../../types/account-status-types'\nimport { getPercentageBN, bigNum } from '../../lib/math-utils'\n\nimport anjSpringIcon from '../../assets/IconANJSpring.svg'\nimport { useJurorDrafted } from '../../hooks/useJurorDrafted'\n\nconst getBannerAttributes = () => {\n  return {\n    icon: anjSpringIcon,\n    title: 'Deprecation warning: ANJ Withdraws',\n    paragraph: `This version of Aragon Court is deprecated. Please deactivate your ANJ and convert it to ANT so as to use the new Aragon Court. When deactivating it, make sure you wait until the term ends to be able to withdraw it. Keep in mind that terms need to be updated manually.`,\n  }\n}\n\nfunction AccountBanner({ status, loading, minActiveBalance, activeBalance }) {\n  const theme = useTheme()\n  const { anjToken } = useCourtConfig()\n\n  // check if juror has been drafted in this current term\n  const isJurorDrafted = useJurorDrafted({\n    pause: status !== ACCOUNT_STATUS_JUROR_ACTIVE,\n  })\n\n  // check if it's the first time activating ANJ\n  const isFirstTimeActivating = useJurorFirstTimeANJActivation({\n    pause: isJurorDrafted || status !== ACCOUNT_STATUS_JUROR_ACTIVE,\n  })\n\n  const attributes = getBannerAttributes(\n    status,\n    isJurorDrafted,\n    isFirstTimeActivating,\n    minActiveBalance,\n    anjToken.decimals,\n    theme\n  )\n\n  if (loading) {\n    return <BannerLoadingRing />\n  }\n  if (attributes.showProbability) {\n    return <BannerWithProbability activeBalance={activeBalance} />\n  }\n  const {\n    icon,\n    title,\n    titleColor,\n    paragraph,\n    iconBackground,\n    showTimer,\n  } = attributes\n\n  return (\n    <Wrapper\n      mainIcon={\n        <div\n          css={`\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            background: ${iconBackground};\n            width: ${iconBackground ? 7 * GU + 'px' : 'auto'};\n            border-radius: 50%;\n          `}\n        >\n          <img\n            css={`\n              display: block;\n              margin: 0 auto;\n            `}\n            height={iconBackground ? 3 * GU : 6 * GU}\n            src={icon}\n            alt=\"\"\n          />\n        </div>\n      }\n      information={\n        <AccountBannerInfo\n          title={title}\n          titleColor={titleColor}\n          paragraph={paragraph}\n          showTimer={showTimer}\n        />\n      }\n    />\n  )\n}\n\nconst Wrapper = ({ mainIcon, information }) => {\n  const springProps = useSpring({\n    to: { opacity: 1 },\n    from: { opacity: 0 },\n    delay: 200,\n  })\n\n  return (\n    <animated.div\n      style={springProps}\n      css={`\n        display: flex;\n      `}\n    >\n      <div\n        css={`\n          margin-right: ${1.5 * GU}px;\n        `}\n      >\n        {mainIcon}\n      </div>\n      {information}\n    </animated.div>\n  )\n}\n\nconst BannerWithProbability = ({ activeBalance }) => {\n  const theme = useTheme()\n  const [totalActiveBalanceCurrentTerm] = useTotalActiveBalance()\n\n  const fetchingTotalBalance = totalActiveBalanceCurrentTerm.eq(bigNum(-1))\n  if (fetchingTotalBalance) {\n    return <BannerLoadingRing />\n  }\n\n  // Calculate juror's active balance and total active balance for current term\n  const {\n    amount: activeAmount,\n    amountNotEffective: activeAmountNotEffective,\n  } = activeBalance\n  const activeBalanceCurrentTerm = activeAmount.sub(activeAmountNotEffective)\n  const totalPercentage = getPercentageBN(\n    activeBalanceCurrentTerm,\n    totalActiveBalanceCurrentTerm\n  )\n\n  // Calculate probability (since the total active balance is asynchronous\n  // it can happen that it has not been updated yet when the juror active balance has)\n  const draftingProbability = Math.min(1, totalPercentage / 100)\n  const probablilityTooLow = totalPercentage < 1\n\n  const chances = probablilityTooLow\n    ? '100+'\n    : totalPercentage > 0 && Math.floor(100 / totalPercentage)\n\n  const title = (\n    <div\n      css={`\n        display: flex;\n        align-items: center;\n      `}\n    >\n      <span\n        css={`\n          margin-right: ${1 * GU}px;\n        `}\n      >\n        {'On average, you will be drafted into a jury '}\n        <span\n          css={`\n            color: ${theme.accent};\n          `}\n        >\n          1 in {chances} times\n        </span>\n      </span>\n      <Help hint=\"How is the probability calculated?\">\n        <p>\n          This is a numerical estimate of your likelihood of being selected for\n          arbitration. Itâ€™s calculated by dividing your active ANJ balance\n          against the Court's total active ANJ balance during the current term.\n        </p>\n        <p\n          css={`\n            margin-top: ${1 * GU}px;\n          `}\n        >\n          {probablilityTooLow\n            ? `\n                You currently have <1% of all activated ANJ, hence are unlikely\n                to be drafted unless a dispute goes to the final round or many\n                disputes are created. Activate more ANJ to increase your chances\n                of being selected as a juror.\n              `\n            : `\n                You can always activate more ANJ to increase your chances of\n                being selected as a juror.\n              `}\n        </p>\n      </Help>\n    </div>\n  )\n\n  const paragraph =\n    'The more ANJ you activate, the more likely you will be drafted to arbitrate a dispute'\n\n  return (\n    <Wrapper\n      mainIcon={<CircleGraph value={draftingProbability} />}\n      information={<AccountBannerInfo title={title} paragraph={paragraph} />}\n    />\n  )\n}\n\nfunction BannerLoadingRing() {\n  return (\n    <div\n      css={`\n        display: flex;\n        align-items: center;\n        height: ${7 * GU}px;\n      `}\n    >\n      <LoadingRing />\n    </div>\n  )\n}\n\nexport default AccountBanner\n"]},"metadata":{},"sourceType":"module"}