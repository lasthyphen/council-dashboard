{"ast":null,"code":"import _regeneratorRuntime from \"/Users/saleemfareed/oneds/court-dashboard/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/saleemfareed/oneds/court-dashboard/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/saleemfareed/oneds/court-dashboard/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/saleemfareed/oneds/court-dashboard/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport TransactionIntent from '../transactions/TransactionIntent';\nimport { toArrayEntry } from '../utils/misc';\n\nfunction normalizeAppFilters(filters) {\n  var _a;\n\n  if (!filters) {\n    return {};\n  }\n\n  if (typeof filters === 'string') {\n    return filters.startsWith('0x') ? {\n      address: [filters]\n    } : {\n      name: [filters]\n    };\n  }\n\n  if (Array.isArray(filters)) {\n    return ((_a = filters[0]) === null || _a === void 0 ? void 0 : _a.startsWith('0x')) ? {\n      address: filters\n    } : {\n      name: filters\n    };\n  }\n\n  if (filters.address) {\n    return {\n      address: toArrayEntry(filters.address)\n    };\n  }\n\n  if (filters.name) {\n    return {\n      name: toArrayEntry(filters.name)\n    };\n  }\n\n  return {};\n}\n\nvar Organization =\n/*#__PURE__*/\nfunction () {\n  function Organization(connection) {\n    _classCallCheck(this, Organization);\n\n    this.connection = connection;\n  }\n\n  _createClass(Organization, [{\n    key: \"app\",\n    ///////// APPS ///////////\n    value: function () {\n      var _app = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(filters) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", this.connection.orgConnector.appForOrg(this, normalizeAppFilters(filters)));\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function app(_x) {\n        return _app.apply(this, arguments);\n      }\n\n      return app;\n    }()\n  }, {\n    key: \"apps\",\n    value: function () {\n      var _apps = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(filters) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt(\"return\", this.connection.orgConnector.appsForOrg(this, normalizeAppFilters(filters)));\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function apps(_x2) {\n        return _apps.apply(this, arguments);\n      }\n\n      return apps;\n    }()\n  }, {\n    key: \"onApp\",\n    value: function onApp(filtersOrCallback, callback) {\n      var filters = callback ? filtersOrCallback : null;\n\n      var _callback = callback || filtersOrCallback;\n\n      return this.connection.orgConnector.onAppForOrg(this, normalizeAppFilters(filters), _callback);\n    }\n  }, {\n    key: \"onApps\",\n    value: function onApps(filtersOrCallback, callback) {\n      var filters = callback ? filtersOrCallback : null;\n\n      var _callback = callback || filtersOrCallback;\n\n      return this.connection.orgConnector.onAppsForOrg(this, normalizeAppFilters(filters), _callback);\n    } ///////// PERMISSIONS ///////////\n\n  }, {\n    key: \"permissions\",\n    value: function () {\n      var _permissions = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3() {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                return _context3.abrupt(\"return\", this.connection.orgConnector.permissionsForOrg(this));\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function permissions() {\n        return _permissions.apply(this, arguments);\n      }\n\n      return permissions;\n    }()\n  }, {\n    key: \"onPermissions\",\n    value: function onPermissions(callback) {\n      return this.connection.orgConnector.onPermissionsForOrg(this, callback);\n    } ///////// INTENTS ///////////\n\n  }, {\n    key: \"appIntent\",\n    value: function appIntent(appAddress, functionName, functionArgs) {\n      return new TransactionIntent({\n        contractAddress: appAddress,\n        functionName: functionName,\n        functionArgs: functionArgs\n      }, this, this.connection.ethersProvider);\n    }\n  }, {\n    key: \"location\",\n    get: function get() {\n      return this.connection.orgLocation;\n    }\n  }, {\n    key: \"address\",\n    get: function get() {\n      return this.connection.orgAddress;\n    }\n  }, {\n    key: \"_connection\",\n    get: function get() {\n      return this.connection;\n    }\n  }]);\n\n  return Organization;\n}();\n\nexport { Organization as default };","map":null,"metadata":{},"sourceType":"module"}