{"ast":null,"code":"import _slicedToArray from\"/Users/saleemfareed/oneds/court-dashboard/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _styled8 from\"styled-components\";import _styled7 from\"styled-components\";import _styled6 from\"styled-components\";import _styled5 from\"styled-components\";import _styled4 from\"styled-components\";import _styled3 from\"styled-components\";import _styled2 from\"styled-components\";import _styled from\"styled-components\";import React,{useCallback,useEffect,useState}from'react';import{GU,Layout,Link,Root,ScrollView,textStyle,useTheme,useViewport}from'@aragon/ui';import usePreferences from'../hooks/usePreferences';import MenuPanel,{MENU_PANEL_WIDTH}from'./MenuPanel';import Header from'./Header/Header';import GlobalPreferences from'./GlobalPreferences/GlobalPreferences';var _StyledDiv=_styled(\"div\").withConfig({displayName:\"MainView___StyledDiv\",componentId:\"sc-4y59gy-0\"})([\"display:flex;flex-direction:column;height:100vh;\"]);var _StyledDiv2=_styled(\"div\").withConfig({displayName:\"MainView___StyledDiv2\",componentId:\"sc-4y59gy-1\"})([\"flex-shrink:0;\"]);var _StyledDiv3=_styled(\"div\").withConfig({displayName:\"MainView___StyledDiv3\",componentId:\"sc-4y59gy-2\"})([\"flex-grow:1;flex-shrink:1;height:0;display:flex;\"]);var _StyledDiv4=_styled(\"div\").withConfig({displayName:\"MainView___StyledDiv4\",componentId:\"sc-4y59gy-3\"})([\"flex-shrink:0;z-index:3;height:100%;\"]);var _StyledRootProvider=_styled(Root.Provider).withConfig({displayName:\"MainView___StyledRootProvider\",componentId:\"sc-4y59gy-4\"})([\"flex-grow:1;height:100%;position:relative;\"]);var _StyledDiv5=_styled(\"div\").withConfig({displayName:\"MainView___StyledDiv5\",componentId:\"sc-4y59gy-5\"})([\"display:flex;flex-direction:column;height:100%;\"]);var _StyledDiv6=_styled(\"div\").withConfig({displayName:\"MainView___StyledDiv6\",componentId:\"sc-4y59gy-6\"})([\"flex:1 0 auto;\"]);var _StyledFooter=_styled(\"footer\").withConfig({displayName:\"MainView___StyledFooter\",componentId:\"sc-4y59gy-7\"})([\"flex-shrink:0;margin-bottom:\",\"px;width:100%;text-align:center;\",\";color:\",\";\"],function(p){return p._css;},function(p){return p._css2;},function(p){return p._css3;});function MainView(_ref){var children=_ref.children;var _useViewport=useViewport(),vw=_useViewport.width,below=_useViewport.below;var theme=useTheme();var compactMode=below('medium');var _useState=useState(!compactMode),_useState2=_slicedToArray(_useState,2),menuPanelOpen=_useState2[0],setMenuPanelOpen=_useState2[1];var _usePreferences=usePreferences(),_usePreferences2=_slicedToArray(_usePreferences,3),openPreferences=_usePreferences2[0],closePreferences=_usePreferences2[1],preferenceOption=_usePreferences2[2];var toggleMenuPanel=useCallback(function(){return setMenuPanelOpen(function(opened){return!opened;});},[]);var handleCloseMenuPanel=useCallback(function(){return setMenuPanelOpen(false);},[]);var handleOpenPage=useCallback(function(){if(compactMode){handleCloseMenuPanel();}},[compactMode,handleCloseMenuPanel]);useEffect(function(){setMenuPanelOpen(!compactMode);},[compactMode]);if(preferenceOption){return React.createElement(GlobalPreferences,{path:preferenceOption,onScreenChange:openPreferences,onClose:closePreferences});}return React.createElement(_StyledDiv,null,React.createElement(_StyledDiv2,null,React.createElement(Header,{compactMode:compactMode,toggleMenuPanel:toggleMenuPanel,onOpenPreferences:openPreferences})),React.createElement(_StyledDiv3,null,React.createElement(_StyledDiv4,null,React.createElement(MenuPanel,{autoClosing:compactMode,opened:menuPanelOpen,onMenuPanelClose:handleCloseMenuPanel,onOpenPage:handleOpenPage})),React.createElement(_StyledRootProvider,null,React.createElement(ScrollView,null,React.createElement(_StyledDiv5,null,React.createElement(_StyledDiv6,null,React.createElement(Layout,{parentWidth:vw-(compactMode?0:MENU_PANEL_WIDTH),paddingBottom:0},children)),React.createElement(_StyledFooter,{_css:5*GU,_css2:textStyle('body2'),_css3:theme.surfaceContentSecondary},\"Supporting services provided by\",' ',React.createElement(Link,{href:\"https://portal.dijets.io\"},\"Aragon One\"),\". Read Aragon Court's\",' ',React.createElement(Link,{href:\"https://anj.aragon.org/legal/terms-general.pdf\"},\"Terms of Service\"),\".\"))))));}export default MainView;","map":{"version":3,"sources":["/Users/saleemfareed/oneds/court-dashboard/src/components/MainView.js"],"names":["React","useCallback","useEffect","useState","GU","Layout","Link","Root","ScrollView","textStyle","useTheme","useViewport","usePreferences","MenuPanel","MENU_PANEL_WIDTH","Header","GlobalPreferences","MainView","children","vw","width","below","theme","compactMode","menuPanelOpen","setMenuPanelOpen","openPreferences","closePreferences","preferenceOption","toggleMenuPanel","opened","handleCloseMenuPanel","handleOpenPage","surfaceContentSecondary"],"mappings":"2bAAA,MAAOA,CAAAA,KAAP,EAAgBC,WAAhB,CAA6BC,SAA7B,CAAwCC,QAAxC,KAAwD,OAAxD,CACA,OACEC,EADF,CAEEC,MAFF,CAGEC,IAHF,CAIEC,IAJF,CAKEC,UALF,CAMEC,SANF,CAOEC,QAPF,CAQEC,WARF,KASO,YATP,CAUA,MAAOC,CAAAA,cAAP,KAA2B,yBAA3B,CACA,MAAOC,CAAAA,SAAP,EAAoBC,gBAApB,KAA4C,aAA5C,CACA,MAAOC,CAAAA,MAAP,KAAmB,iBAAnB,CACA,MAAOC,CAAAA,iBAAP,KAA8B,uCAA9B,C,i0CAEA,QAASC,CAAAA,QAAT,MAAgC,IAAZC,CAAAA,QAAY,MAAZA,QAAY,kBACDP,WAAW,EADV,CACfQ,EADe,cACtBC,KADsB,CACXC,KADW,cACXA,KADW,CAE9B,GAAMC,CAAAA,KAAK,CAAGZ,QAAQ,EAAtB,CACA,GAAMa,CAAAA,WAAW,CAAGF,KAAK,CAAC,QAAD,CAAzB,CAH8B,cAIYlB,QAAQ,CAAC,CAACoB,WAAF,CAJpB,wCAIvBC,aAJuB,eAIRC,gBAJQ,mCAMgCb,cAAc,EAN9C,oDAMvBc,eANuB,qBAMNC,gBANM,qBAMYC,gBANZ,qBAQ9B,GAAMC,CAAAA,eAAe,CAAG5B,WAAW,CACjC,iBAAMwB,CAAAA,gBAAgB,CAAC,SAAAK,MAAM,QAAI,CAACA,MAAL,EAAP,CAAtB,EADiC,CAEjC,EAFiC,CAAnC,CAKA,GAAMC,CAAAA,oBAAoB,CAAG9B,WAAW,CAAC,iBAAMwB,CAAAA,gBAAgB,CAAC,KAAD,CAAtB,EAAD,CAAgC,EAAhC,CAAxC,CAEA,GAAMO,CAAAA,cAAc,CAAG/B,WAAW,CAAC,UAAM,CACvC,GAAIsB,WAAJ,CAAiB,CACfQ,oBAAoB,GACrB,CACF,CAJiC,CAI/B,CAACR,WAAD,CAAcQ,oBAAd,CAJ+B,CAAlC,CAMA7B,SAAS,CAAC,UAAM,CACduB,gBAAgB,CAAC,CAACF,WAAF,CAAhB,CACD,CAFQ,CAEN,CAACA,WAAD,CAFM,CAAT,CAIA,GAAIK,gBAAJ,CAAsB,CACpB,MACE,qBAAC,iBAAD,EACE,IAAI,CAAEA,gBADR,CAEE,cAAc,CAAEF,eAFlB,CAGE,OAAO,CAAEC,gBAHX,EADF,CAOD,CACD,MACE,qCAOE,qCAKE,oBAAC,MAAD,EACE,WAAW,CAAEJ,WADf,CAEE,eAAe,CAAEM,eAFnB,CAGE,iBAAiB,CAAEH,eAHrB,EALF,CAPF,CAkBE,qCAQE,qCAOE,oBAAC,SAAD,EACE,WAAW,CAAEH,WADf,CAEE,MAAM,CAAEC,aAFV,CAGE,gBAAgB,CAAEO,oBAHpB,CAIE,UAAU,CAAEC,cAJd,EAPF,CARF,CAsBE,6CAOE,oBAAC,UAAD,MACE,qCAOE,qCAKE,oBAAC,MAAD,EACE,WAAW,CAAEb,EAAE,EAAII,WAAW,CAAG,CAAH,CAAOT,gBAAtB,CADjB,CAEE,aAAa,CAAE,CAFjB,EAIGI,QAJH,CALF,CAPF,CAmBE,wCAGqB,EAAId,EAHzB,OAMMK,SAAS,CAAC,OAAD,CANf,OAOaa,KAAK,CAACW,uBAPnB,oCAUkC,GAVlC,CAWE,oBAAC,IAAD,EAAM,IAAI,CAAC,oBAAX,eAXF,yBAYU,GAZV,CAaE,oBAAC,IAAD,EAAM,IAAI,CAAC,gDAAX,qBAbF,KAnBF,CADF,CAPF,CAtBF,CAlBF,CADF,CA4FD,CAED,cAAehB,CAAAA,QAAf","sourcesContent":["import React, { useCallback, useEffect, useState } from 'react'\nimport {\n  GU,\n  Layout,\n  Link,\n  Root,\n  ScrollView,\n  textStyle,\n  useTheme,\n  useViewport,\n} from '@aragon/ui'\nimport usePreferences from '../hooks/usePreferences'\nimport MenuPanel, { MENU_PANEL_WIDTH } from './MenuPanel'\nimport Header from './Header/Header'\nimport GlobalPreferences from './GlobalPreferences/GlobalPreferences'\n\nfunction MainView({ children }) {\n  const { width: vw, below } = useViewport()\n  const theme = useTheme()\n  const compactMode = below('medium')\n  const [menuPanelOpen, setMenuPanelOpen] = useState(!compactMode)\n\n  const [openPreferences, closePreferences, preferenceOption] = usePreferences()\n\n  const toggleMenuPanel = useCallback(\n    () => setMenuPanelOpen(opened => !opened),\n    []\n  )\n\n  const handleCloseMenuPanel = useCallback(() => setMenuPanelOpen(false), [])\n\n  const handleOpenPage = useCallback(() => {\n    if (compactMode) {\n      handleCloseMenuPanel()\n    }\n  }, [compactMode, handleCloseMenuPanel])\n\n  useEffect(() => {\n    setMenuPanelOpen(!compactMode)\n  }, [compactMode])\n\n  if (preferenceOption) {\n    return (\n      <GlobalPreferences\n        path={preferenceOption}\n        onScreenChange={openPreferences}\n        onClose={closePreferences}\n      />\n    )\n  }\n  return (\n    <div\n      css={`\n        display: flex;\n        flex-direction: column;\n        height: 100vh;\n      `}\n    >\n      <div\n        css={`\n          flex-shrink: 0;\n        `}\n      >\n        <Header\n          compactMode={compactMode}\n          toggleMenuPanel={toggleMenuPanel}\n          onOpenPreferences={openPreferences}\n        />\n      </div>\n      <div\n        css={`\n          flex-grow: 1;\n          flex-shrink: 1;\n          height: 0;\n          display: flex;\n        `}\n      >\n        <div\n          css={`\n            flex-shrink: 0;\n            z-index: 3;\n            height: 100%;\n          `}\n        >\n          <MenuPanel\n            autoClosing={compactMode}\n            opened={menuPanelOpen}\n            onMenuPanelClose={handleCloseMenuPanel}\n            onOpenPage={handleOpenPage}\n          />\n        </div>\n        <Root.Provider\n          css={`\n            flex-grow: 1;\n            height: 100%;\n            position: relative;\n          `}\n        >\n          <ScrollView>\n            <div\n              css={`\n                display: flex;\n                flex-direction: column;\n                height: 100%;\n              `}\n            >\n              <div\n                css={`\n                  flex: 1 0 auto;\n                `}\n              >\n                <Layout\n                  parentWidth={vw - (compactMode ? 0 : MENU_PANEL_WIDTH)}\n                  paddingBottom={0}\n                >\n                  {children}\n                </Layout>\n              </div>\n              <footer\n                css={`\n                  flex-shrink: 0;\n                  margin-bottom: ${5 * GU}px;\n                  width: 100%;\n                  text-align: center;\n                  ${textStyle('body2')};\n                  color: ${theme.surfaceContentSecondary};\n                `}\n              >\n                Supporting services provided by{' '}\n                <Link href=\"https://portal.dijets.io\">Aragon One</Link>. Read Aragon\n                Court's{' '}\n                <Link href=\"https://anj.aragon.org/legal/terms-general.pdf\">\n                  Terms of Service\n                </Link>\n                .\n              </footer>\n            </div>\n          </ScrollView>\n        </Root.Provider>\n      </div>\n    </div>\n  )\n}\n\nexport default MainView\n"]},"metadata":{},"sourceType":"module"}