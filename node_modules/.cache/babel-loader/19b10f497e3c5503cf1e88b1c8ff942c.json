{"ast":null,"code":"var _jsxFileName = \"/Users/saleemfareed/oneds/court-dashboard/src/components/Dashboard/panels/DeactivateANJ.js\";\nimport React, { useCallback } from 'react';\nimport ANJForm from './ANJForm';\nimport { formatUnits } from '../../../lib/math-utils';\nimport { useCourtConfig } from '../../../providers/CourtConfig';\nconst DeactivateANJ = React.memo(function DeactivateANJ({\n  onDeactivateANJ,\n  activeBalance,\n  onDone\n}) {\n  const {\n    anjToken,\n    minActiveBalance\n  } = useCourtConfig();\n  const maxAmount = activeBalance;\n  const minActiveBalanceFormatted = formatUnits(minActiveBalance, {\n    digits: anjToken.decimals\n  });\n  const maxAmountFormatted = formatUnits(maxAmount, {\n    digits: anjToken.decimals,\n    precision: anjToken.decimals\n  });\n  const validation = useCallback(amountBN => {\n    const activeBalanceAfter = activeBalance.sub(amountBN);\n\n    if (amountBN.gt(maxAmount)) {\n      return `Insufficient funds, you cannnot deactivate more than ${maxAmountFormatted} ${anjToken.symbol}`;\n    }\n\n    if (activeBalanceAfter.lt(minActiveBalance) && activeBalanceAfter.gt(0)) {\n      return `Your resulting active balance must be 0 or at least the minimum to be a juror (${minActiveBalanceFormatted} ${anjToken.symbol})`;\n    }\n\n    return null;\n  }, [activeBalance, anjToken.symbol, maxAmount, maxAmountFormatted, minActiveBalance, minActiveBalanceFormatted]);\n  return React.createElement(ANJForm, {\n    actionLabel: \"Deactivate\",\n    maxAmount: maxAmount,\n    onSubmit: onDeactivateANJ,\n    onDone: onDone,\n    runParentValidation: validation,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  });\n});\nexport default DeactivateANJ;","map":{"version":3,"sources":["/Users/saleemfareed/oneds/court-dashboard/src/components/Dashboard/panels/DeactivateANJ.js"],"names":["React","useCallback","ANJForm","formatUnits","useCourtConfig","DeactivateANJ","memo","onDeactivateANJ","activeBalance","onDone","anjToken","minActiveBalance","maxAmount","minActiveBalanceFormatted","digits","decimals","maxAmountFormatted","precision","validation","amountBN","activeBalanceAfter","sub","gt","symbol","lt"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,WAAhB,QAAmC,OAAnC;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,SAASC,WAAT,QAA4B,yBAA5B;AACA,SAASC,cAAT,QAA+B,gCAA/B;AAEA,MAAMC,aAAa,GAAGL,KAAK,CAACM,IAAN,CAAW,SAASD,aAAT,CAAuB;AACtDE,EAAAA,eADsD;AAEtDC,EAAAA,aAFsD;AAGtDC,EAAAA;AAHsD,CAAvB,EAI9B;AACD,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAAiCP,cAAc,EAArD;AACA,QAAMQ,SAAS,GAAGJ,aAAlB;AAEA,QAAMK,yBAAyB,GAAGV,WAAW,CAACQ,gBAAD,EAAmB;AAC9DG,IAAAA,MAAM,EAAEJ,QAAQ,CAACK;AAD6C,GAAnB,CAA7C;AAGA,QAAMC,kBAAkB,GAAGb,WAAW,CAACS,SAAD,EAAY;AAChDE,IAAAA,MAAM,EAAEJ,QAAQ,CAACK,QAD+B;AAEhDE,IAAAA,SAAS,EAAEP,QAAQ,CAACK;AAF4B,GAAZ,CAAtC;AAKA,QAAMG,UAAU,GAAGjB,WAAW,CAC5BkB,QAAQ,IAAI;AACV,UAAMC,kBAAkB,GAAGZ,aAAa,CAACa,GAAd,CAAkBF,QAAlB,CAA3B;;AAEA,QAAIA,QAAQ,CAACG,EAAT,CAAYV,SAAZ,CAAJ,EAA4B;AAC1B,aAAQ,wDAAuDI,kBAAmB,IAAGN,QAAQ,CAACa,MAAO,EAArG;AACD;;AAED,QAAIH,kBAAkB,CAACI,EAAnB,CAAsBb,gBAAtB,KAA2CS,kBAAkB,CAACE,EAAnB,CAAsB,CAAtB,CAA/C,EAAyE;AACvE,aAAQ,kFAAiFT,yBAA0B,IAAGH,QAAQ,CAACa,MAAO,GAAtI;AACD;;AAED,WAAO,IAAP;AACD,GAb2B,EAc5B,CACEf,aADF,EAEEE,QAAQ,CAACa,MAFX,EAGEX,SAHF,EAIEI,kBAJF,EAKEL,gBALF,EAMEE,yBANF,CAd4B,CAA9B;AAwBA,SACE,oBAAC,OAAD;AACE,IAAA,WAAW,EAAC,YADd;AAEE,IAAA,SAAS,EAAED,SAFb;AAGE,IAAA,QAAQ,EAAEL,eAHZ;AAIE,IAAA,MAAM,EAAEE,MAJV;AAKE,IAAA,mBAAmB,EAAES,UALvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AASD,CAjDqB,CAAtB;AAmDA,eAAeb,aAAf","sourcesContent":["import React, { useCallback } from 'react'\nimport ANJForm from './ANJForm'\nimport { formatUnits } from '../../../lib/math-utils'\nimport { useCourtConfig } from '../../../providers/CourtConfig'\n\nconst DeactivateANJ = React.memo(function DeactivateANJ({\n  onDeactivateANJ,\n  activeBalance,\n  onDone,\n}) {\n  const { anjToken, minActiveBalance } = useCourtConfig()\n  const maxAmount = activeBalance\n\n  const minActiveBalanceFormatted = formatUnits(minActiveBalance, {\n    digits: anjToken.decimals,\n  })\n  const maxAmountFormatted = formatUnits(maxAmount, {\n    digits: anjToken.decimals,\n    precision: anjToken.decimals,\n  })\n\n  const validation = useCallback(\n    amountBN => {\n      const activeBalanceAfter = activeBalance.sub(amountBN)\n\n      if (amountBN.gt(maxAmount)) {\n        return `Insufficient funds, you cannnot deactivate more than ${maxAmountFormatted} ${anjToken.symbol}`\n      }\n\n      if (activeBalanceAfter.lt(minActiveBalance) && activeBalanceAfter.gt(0)) {\n        return `Your resulting active balance must be 0 or at least the minimum to be a juror (${minActiveBalanceFormatted} ${anjToken.symbol})`\n      }\n\n      return null\n    },\n    [\n      activeBalance,\n      anjToken.symbol,\n      maxAmount,\n      maxAmountFormatted,\n      minActiveBalance,\n      minActiveBalanceFormatted,\n    ]\n  )\n\n  return (\n    <ANJForm\n      actionLabel=\"Deactivate\"\n      maxAmount={maxAmount}\n      onSubmit={onDeactivateANJ}\n      onDone={onDone}\n      runParentValidation={validation}\n    />\n  )\n})\n\nexport default DeactivateANJ\n"]},"metadata":{},"sourceType":"module"}