{"ast":null,"code":"import _slicedToArray from\"/Users/saleemfareed/oneds/court-dashboard/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useCallback,useState}from'react';import{Tabs,Tag}from'@aragon/ui';import{useHistory}from'react-router-dom';import DisputeList from'./DisputeList';import TitleHeader from'../TitleHeader';import useDisputes from'../../hooks/useDisputes';import{useJurorDraftQuery}from'../../hooks/query-hooks';import{useWallet}from'../../providers/Wallet';function Disputes(){var wallet=useWallet();var _useState=useState(0),_useState2=_slicedToArray(_useState,2),screenIndex=_useState2[0],setScreenIndex=_useState2[1];var _useDisputes=useDisputes(),disputes=_useDisputes.disputes,disputesFetching=_useDisputes.fetching,errorFetching=_useDisputes.error;// Query for all dispute ids where the juror has been drafted\nvar jurorDisputeIds=useJurorDraftQuery(wallet.account);var jurorDisputes=disputes===null||disputes===void 0?void 0:disputes.filter(function(dispute){return jurorDisputeIds.includes(dispute.id);});var history=useHistory();var handleSelectDispute=useCallback(function(id){history.push(\"/disputes/\".concat(id));},[history]);var handleTabChange=function handleTabChange(screenIndex){setScreenIndex(screenIndex);};return React.createElement(React.Fragment,null,React.createElement(TitleHeader,{title:\"Proposals\"}),React.createElement(Tabs,{items:[React.createElement(\"div\",null,React.createElement(\"span\",null,\"All proposals \"),React.createElement(Tag,{limitDigits:4,label:disputes?disputes.length:0,size:\"small\"})),React.createElement(\"div\",null,React.createElement(\"span\",null,\"My proposals \"),React.createElement(Tag,{limitDigits:4,label:jurorDisputes?jurorDisputes.length:0,size:\"small\"}))],selected:screenIndex,onChange:handleTabChange}),React.createElement(DisputeList,{disputes:screenIndex===0?disputes:jurorDisputes,loading:disputesFetching,errorLoading:errorFetching,myDisputeSelected:screenIndex===1,onSelectDispute:handleSelectDispute}));}export default Disputes;","map":{"version":3,"sources":["/Users/saleemfareed/oneds/court-dashboard/src/components/Disputes/Disputes.js"],"names":["React","useCallback","useState","Tabs","Tag","useHistory","DisputeList","TitleHeader","useDisputes","useJurorDraftQuery","useWallet","Disputes","wallet","screenIndex","setScreenIndex","disputes","disputesFetching","fetching","errorFetching","error","jurorDisputeIds","account","jurorDisputes","filter","dispute","includes","id","history","handleSelectDispute","push","handleTabChange","length"],"mappings":"4HAAA,MAAOA,CAAAA,KAAP,EAAgBC,WAAhB,CAA6BC,QAA7B,KAA6C,OAA7C,CACA,OAASC,IAAT,CAAeC,GAAf,KAA0B,YAA1B,CACA,OAASC,UAAT,KAA2B,kBAA3B,CAEA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,gBAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,yBAAxB,CACA,OAASC,kBAAT,KAAmC,yBAAnC,CACA,OAASC,SAAT,KAA0B,wBAA1B,CAEA,QAASC,CAAAA,QAAT,EAAoB,CAClB,GAAMC,CAAAA,MAAM,CAAGF,SAAS,EAAxB,CADkB,cAEoBR,QAAQ,CAAC,CAAD,CAF5B,wCAEXW,WAFW,eAEEC,cAFF,gCAOdN,WAAW,EAPG,CAIhBO,QAJgB,cAIhBA,QAJgB,CAKNC,gBALM,cAKhBC,QALgB,CAMTC,aANS,cAMhBC,KANgB,CASlB;AACA,GAAMC,CAAAA,eAAe,CAAGX,kBAAkB,CAACG,MAAM,CAACS,OAAR,CAA1C,CAEA,GAAMC,CAAAA,aAAa,CAAGP,QAAH,SAAGA,QAAH,iBAAGA,QAAQ,CAAEQ,MAAV,CAAiB,SAAAC,OAAO,QAC5CJ,CAAAA,eAAe,CAACK,QAAhB,CAAyBD,OAAO,CAACE,EAAjC,CAD4C,EAAxB,CAAtB,CAIA,GAAMC,CAAAA,OAAO,CAAGtB,UAAU,EAA1B,CACA,GAAMuB,CAAAA,mBAAmB,CAAG3B,WAAW,CACrC,SAAAyB,EAAE,CAAI,CACJC,OAAO,CAACE,IAAR,qBAA0BH,EAA1B,GACD,CAHoC,CAIrC,CAACC,OAAD,CAJqC,CAAvC,CAOA,GAAMG,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAjB,WAAW,CAAI,CACrCC,cAAc,CAACD,WAAD,CAAd,CACD,CAFD,CAIA,MACE,yCACE,oBAAC,WAAD,EAAa,KAAK,CAAC,WAAnB,EADF,CAEE,oBAAC,IAAD,EACE,KAAK,CAAE,CACL,+BACE,iDADF,CAEE,oBAAC,GAAD,EACE,WAAW,CAAE,CADf,CAEE,KAAK,CAAEE,QAAQ,CAAGA,QAAQ,CAACgB,MAAZ,CAAqB,CAFtC,CAGE,IAAI,CAAC,OAHP,EAFF,CADK,CASL,+BACE,gDADF,CAEE,oBAAC,GAAD,EACE,WAAW,CAAE,CADf,CAEE,KAAK,CAAET,aAAa,CAAGA,aAAa,CAACS,MAAjB,CAA0B,CAFhD,CAGE,IAAI,CAAC,OAHP,EAFF,CATK,CADT,CAmBE,QAAQ,CAAElB,WAnBZ,CAoBE,QAAQ,CAAEiB,eApBZ,EAFF,CAyBE,oBAAC,WAAD,EACE,QAAQ,CAAEjB,WAAW,GAAK,CAAhB,CAAoBE,QAApB,CAA+BO,aAD3C,CAEE,OAAO,CAAEN,gBAFX,CAGE,YAAY,CAAEE,aAHhB,CAIE,iBAAiB,CAAEL,WAAW,GAAK,CAJrC,CAKE,eAAe,CAAEe,mBALnB,EAzBF,CADF,CAmCD,CAED,cAAejB,CAAAA,QAAf","sourcesContent":["import React, { useCallback, useState } from 'react'\nimport { Tabs, Tag } from '@aragon/ui'\nimport { useHistory } from 'react-router-dom'\n\nimport DisputeList from './DisputeList'\nimport TitleHeader from '../TitleHeader'\nimport useDisputes from '../../hooks/useDisputes'\nimport { useJurorDraftQuery } from '../../hooks/query-hooks'\nimport { useWallet } from '../../providers/Wallet'\n\nfunction Disputes() {\n  const wallet = useWallet()\n  const [screenIndex, setScreenIndex] = useState(0)\n  const {\n    disputes,\n    fetching: disputesFetching,\n    error: errorFetching,\n  } = useDisputes()\n\n  // Query for all dispute ids where the juror has been drafted\n  const jurorDisputeIds = useJurorDraftQuery(wallet.account)\n\n  const jurorDisputes = disputes?.filter(dispute =>\n    jurorDisputeIds.includes(dispute.id)\n  )\n\n  const history = useHistory()\n  const handleSelectDispute = useCallback(\n    id => {\n      history.push(`/disputes/${id}`)\n    },\n    [history]\n  )\n\n  const handleTabChange = screenIndex => {\n    setScreenIndex(screenIndex)\n  }\n\n  return (\n    <>\n      <TitleHeader title=\"Proposals\" />\n      <Tabs\n        items={[\n          <div>\n            <span>All proposals </span>\n            <Tag\n              limitDigits={4}\n              label={disputes ? disputes.length : 0}\n              size=\"small\"\n            />\n          </div>,\n          <div>\n            <span>My proposals </span>\n            <Tag\n              limitDigits={4}\n              label={jurorDisputes ? jurorDisputes.length : 0}\n              size=\"small\"\n            />\n          </div>,\n        ]}\n        selected={screenIndex}\n        onChange={handleTabChange}\n      />\n\n      <DisputeList\n        disputes={screenIndex === 0 ? disputes : jurorDisputes}\n        loading={disputesFetching}\n        errorLoading={errorFetching}\n        myDisputeSelected={screenIndex === 1}\n        onSelectDispute={handleSelectDispute}\n      />\n    </>\n  )\n}\n\nexport default Disputes\n"]},"metadata":{},"sourceType":"module"}