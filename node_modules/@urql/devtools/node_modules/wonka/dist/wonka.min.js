"use strict";function n(n,t){return t.tag=n,t}function t(n,t,r){for(var u=Array(r),e=0;e<r;)u[e]=n[t],e=e+1|0,t=t+1|0;return u}function r(n,u){for(;;){var e=u,o=0===(u=n.length)?1:u;if(0==(u=o-e.length|0))return n.apply(null,e);if(!(0>u))return function(n,t){return function(u){return r(n,t.concat([u]))}}(n,e);u=t(e,o,0|-u),n=n.apply(null,t(e,0,o))}}function u(n,t){var u=n.length;return 1===u?n(t):function(n,t,u){switch(u){case 1:return n(t);case 2:return function(r){return n(t,r)};case 3:return function(r,u){return n(t,r,u)};case 4:return function(r,u,e){return n(t,r,u,e)};case 5:return function(r,u,e,o){return n(t,r,u,e,o)};case 6:return function(r,u,e,o,f){return n(t,r,u,e,o,f)};case 7:return function(r,u,e,o,f,i){return n(t,r,u,e,o,f,i)};default:return r(n,[t])}}(n,t,u)}function e(n,t,u,e){var o=n.length;return 3===o?n(t,u,e):function(n,t,u,e,o){switch(o){case 1:return r(n(t),[u,e]);case 2:return r(n(t,u),[e]);case 3:return n(t,u,e);case 4:return function(r){return n(t,u,e,r)};case 5:return function(r,o){return n(t,u,e,r,o)};case 6:return function(r,o,f){return n(t,u,e,r,o,f)};case 7:return function(r,o,f,i){return n(t,u,e,r,o,f,i)};default:return r(n,[t,u,e])}}(n,t,u,e,o)}var o=[];function f(n){return void 0===n?((n=[o,0]).tag=256,n):(null!==n&&n[0]===o&&((n=[o,n[1]+1|0]).tag=256),n)}function i(n){return null===n||n[0]!==o?n:0!==(n=n[1])?[o,n-1|0]:void 0}function c(n){return 0}function a(n,t){let r=c;return u(n,function(n){return"number"!=typeof n&&(n.tag||(r=n[0])),t(n,r)})}function s(t,r){let u=!1,e=!1,o=!1;return t(n(0,[function(f){if(f)u=!0;else if(e)o=!0;else{for(e=o=!0;o&&!u;)void 0!==(f=r())?(o=!1,t(n(1,[i(f)]))):(u=!0,t(0));e=!1}return 0}]))}var p="function"==typeof Symbol?Symbol.observable||(Symbol.observable=Symbol("observable")):"@@observable";function l(n){return 0}function m(n){return function(t){return function(r){function u(){return e.shift()}var e=[];return a(t,function(t,o){return"number"==typeof t?s(r,u):(t.tag&&(e.length>=n&&0<n&&e.shift(),e.push(t[0])),o(0))})}}}function b(t,r){return function(e){var o=function(t){return e(n(1,[t]))};return e(n(0,[function(n){return n?u(r,o):0}])),u(t,o)}}function v(n,t,r){n.addEventListener(t,r)}function g(n,t,r){n.removeEventListener(t,r)}function x(n){return function(t){let r=c,e=!1;return u(t,function(t){return"number"==typeof t?(e=!0,0):t.tag?e?0:(n(t[0]),r(0)):(r=t=t[0],t(0))}),[function(n){return e?0:(e=!0,r(1))}]}}function y(){return 0}function h(n){return function(t){var r=n.length;let u=0;return s(t,function(){if(u<r){var t=n[u];return u=u+1|0,f(t)}})}}function d(n){return n(0)}function E(n){return n(0)}function k(n){return function(t){return function(r){return u(t,function(t){return"number"!=typeof t&&t.tag&&n(t[0]),r(t)})}}}function w(n){return 0}function A(n){return 0}function S(n){return n(1)}function T(n){return n(1)}function L(n){return n(0)}function P(t){return function(r){return function(e){let o=c,f=[],i=!1;return u(r,function(r){return"number"==typeof r?i?0:(i=!0,0===f.length?e(0):0):r.tag?i?0:(function(t){function r(n){return n!==o}let o=c;u(t,function(t){return"number"==typeof t?(f=f.filter(r),i&&0===f.length?e(0):0):t.tag?0!==f.length?(e(n(1,[t[0]])),o(0)):0:(o=t=t[0],f=f.concat(t),t(0))})}(t(r[0])),o(0)):(o=r=r[0],r(0))}),e(n(0,[function(n){return n?(f.forEach(S),i||(i=!0,o(1),f.forEach(T),f=[])):i||f.forEach(L),0}]))}}}function M(n){return n}function C(n){return n}function I(n){return P(C)(n)}function O(t){return function(r){return function(e){function o(r){return"number"==typeof r?(p=!1,s=c,void 0!==(r=f.shift())?u(t(i(r)),o):m?e(0):0):r.tag?l?0:(e(n(1,[r[0]])),s(0)):(p=!0,s=r=r[0],r(0))}let f=[],a=c,s=c,p=!1,l=!1,m=!1;return u(r,function(n){return"number"==typeof n?m?0:(m=!0,p||0!==f.length?0:e(0)):n.tag?m?0:(n=n[0],p?f.push(n):u(t(n),o),a(0)):(a=n=n[0],n(0))}),e(n(0,[function(n){return n?(s(1),m||(l=m=!0,a(1),s=c),0):m?0:s(0)}]))}}}function U(n){return n}function W(n){return n}function j(t){return function(r){return function(e){function o(t){return"number"==typeof t?(a=!1,i=c,p?e(0):0):t.tag?s?0:(e(n(1,[t[0]])),i(0)):(a=!0,i=t=t[0],t(0))}let f=c,i=c,a=!1,s=!1,p=!1;return u(r,function(n){return"number"==typeof n?p?0:(p=!0,a?0:e(0)):n.tag?p?0:(a&&(i(1),i=c),u(t(n[0]),o),f(0)):(f=n=n[0],n(0))}),e(n(0,[function(n){return n?(i(1),p||(s=p=!0,f(1),i=c),0):i(0)}]))}}}function D(n){return n}var V=h,q=O,z=P,B=I,F=I,G=k,H=k,J=j,K=m,N=x,Q=b;exports.Types=0,exports.buffer=function(t){return function(r){return function(e){function o(t){return"number"==typeof t?s?0:(s=!0,i(1),e(n(1,[f])),e(0)):t.tag?s?0:(e(n(1,[f])),f=[],a(0)):(a=t[0])(0)}let f=[],i=c,a=c,s=!1;return u(r,function(r){return"number"==typeof r?s?0:(s=!0,a(1),e(n(1,[f])),e(0)):r.tag?s?0:(f.push(r[0]),i(0)):(i=r[0],u(t,o))}),e(n(0,[function(n){return s?0:n?(s=!0,i(1),a(1)):i(0)}]))}}},exports.combine=function(t){return function(r){return function(e){let o=c,a=c,s=void 0,p=void 0,l=!1,m=0,b=!1;return u(t,function(t){var r=p;return"number"==typeof t?1>m?(m=m+1|0,0):b?0:(b=!0,e(0)):t.tag?(t=t[0],void 0!==r?b?0:(s=f(t),l=!1,e(n(1,[[t,i(r)]]))):(s=f(t),l=!1,0)):(o=t[0],0)}),u(r,function(t){var r=s;return"number"==typeof t?1>m?(m=m+1|0,0):b?0:(b=!0,e(0)):t.tag?(t=t[0],void 0!==r?b?0:(p=f(t),l=!1,e(n(1,[[i(r),t]]))):(p=f(t),l=!1,0)):(a=t[0],0)}),e(n(0,[function(n){return b?0:n?(b=!0,o(1),a(1)):l?0:(l=!0,o(n),a(n))}]))}}},exports.concat=function(n){return O(W)(h(n))},exports.concatAll=function(n){return O(U)(n)},exports.concatMap=q,exports.debounce=function(t){return function(r){return function(e){let o=!1,c=void 0;var a=function(n){return void 0!==(n=c)&&(c=void 0,clearTimeout(i(n))),0};return u(r,function(r){if("number"==typeof r)return o=!0,void 0!==c?0:e(0);if(r.tag)return a(),c=f(setTimeout(function(n){return c=void 0,e(r),o?e(0):0},t(r[0]))),0;var u=r[0];return e(n(0,[function(n){return n?(a(),u(1)):u(n)}]))})}}},exports.delay=function(t){return function(r){return function(e){let o=c,f=0,i=!1;return u(r,function(n){return"number"==typeof n||n.tag?(i||(f=f+1|0,setTimeout(function(t){return i&&0===f?e(0):f=f-1|0,e(n)},t)),0):(o=n[0],0)}),e(n(0,[function(n){return n?(i=!0,0===f?e(0):0):i?0:o(n)}]))}}},exports.empty=function(t){return t(n(0,[c])),t(0)},exports.filter=function(n){return function(t){return function(r){return a(t,function(t,u){return"number"==typeof t||!t.tag||n(t[0])?r(t):u(0)})}}},exports.flatten=F,exports.forEach=function(n){return function(t){return x(n)(t),0}},exports.fromArray=V,exports.fromCallbag=function(t){return function(r){return t(0,function(t,u){switch(t){case 0:return r(n(0,[function(n){return u(n?2:1)}]));case 1:return r(n(1,[u]));case 2:return r(0)}})}},exports.fromDomEvent=function(n,t){return function(r){var u=v,o=g;return b(function(r){return e(u,n,t,r)},function(r){return e(o,n,t,r)})(r)}},exports.fromList=function(n){return function(t){let r=n;return s(t,function(){var n=r;if(n)return r=n[1],f(n[0])})}},exports.fromListener=Q,exports.fromObservable=function(t){var r=void 0!==t[p]?t[p]():t;return function(t){var u=r.subscribe({next:function(r){return t(n(1,[r]))},complete:function(){return t(0)},error:l});return t(n(0,[function(n){return n?u.unsubscribe():0}]))}},exports.fromPromise=function(t){return function(r){let u=!1;return t.then(function(t){return u||(r(n(1,[t])),r(0)),Promise.resolve(0)}),r(n(0,[function(n){return n&&(u=!0),0}]))}},exports.fromValue=function(t){return function(r){let u=!1;return r(n(0,[function(e){return e||u?0:(u=!0,r(n(1,[t])),r(0))}]))}},exports.interval=function(t){return function(r){let u=0;var e=setInterval(function(t){return t=u,u=u+1|0,r(n(1,[t]))},t);return r(n(0,[function(n){return n&&clearInterval(e),0}]))}},exports.make=function(t){return function(r){let u=y;return r(n(0,[function(n){return n?u():0}])),u=t([function(t){return r(n(1,[t]))},function(n){return r(0)}]),0}},exports.makeSubject=function(t){let r=[],u=!1;return[function(t){function u(n){return n!==t}return r=r.concat(t),t(n(0,[function(n){return 1===n&&(r=r.filter(u)),0}]))},function(t){return u||r.forEach(function(r){return r(n(1,[t]))}),0},function(n){return u||(u=!0,r.forEach(d)),0}]},exports.map=function(t){return function(r){return function(e){return u(r,function(r){return r="number"==typeof r?0:r.tag?n(1,[t(r[0])]):n(0,[r[0]]),e(r)})}}},exports.merge=function(n){return P(M)(h(n))},exports.mergeAll=B,exports.mergeMap=z,exports.never=function(t){return t(n(0,[c]))},exports.onEnd=function(t){return function(r){return function(e){let o=!1;return u(r,function(r){if("number"==typeof r)return o?0:(o=!0,e(r),t());if(r.tag)return e(r);var u=r[0];return e(n(0,[function(n){return n&&!o&&(o=!0,t()),u(n)}]))})}}},exports.onPush=G,exports.onStart=function(n){return function(t){return function(r){return u(t,function(t){return"number"==typeof t||t.tag?r(t):(r(t),n())})}}},exports.pipe=function(n){for(var t=arguments,r=t.length,u=n,e=1;e<r;e++)u=t[e](u);return u},exports.publish=function(n){let t=c,r=!1;return u(n,function(n){return"number"==typeof n?(r=!0,0):n.tag?r?0:t(0):(t=n=n[0],n(0))}),[function(n){return r?0:(r=!0,t(1))}]},exports.sample=function(t){return function(r){return function(e){let o=!1,c=void 0,a=w,s=A;return u(r,function(n){return"number"==typeof n?(o=!0,s(1),e(0)):(n.tag?c=f(n[0]):a=n[0],0)}),u(t,function(t){var r=c;return"number"==typeof t?(o=!0,a(1),e(0)):t.tag?void 0===r||o?0:(c=void 0,e(n(1,[i(r)]))):(s=t[0],0)}),e(n(0,[function(n){return n?(o=!0,a(1),s(1)):(a(0),s(0))}]))}}},exports.scan=function(t,r){return function(e){return function(o){let f=r;return u(e,function(r){return r="number"==typeof r?0:r.tag?n(1,[f=t(f,r[0])]):n(0,[r[0]]),o(r)})}}},exports.share=function(t){function r(n){return"number"==typeof n?(e.forEach(E),e=[]):n.tag?(f=!1,e.forEach(function(t){return t(n)})):o=n[0],0}let e=[],o=c,f=!1;return function(i){function c(n){return n!==i}return 1===(e=e.concat(i)).length&&u(t,r),i(n(0,[function(n){return n?0===(e=e.filter(c)).length?o(1):0:f?0:(f=!0,o(n))}]))}},exports.skip=function(n){return function(t){return function(r){let u=n;return a(t,function(n,t){return"number"!=typeof n&&n.tag&&0<u?(u=u-1|0,t(0)):r(n)})}}},exports.skipUntil=function(t){return function(r){return function(e){let o=!0,f=!1,i=!1,a=c,s=c;return u(r,function(n){if("number"==typeof n)return o&&s(1),f=!0,e(0);if(n.tag)return o&&!f?a(0):f?0:(i=!1,e(n));var r=n[0];return a=r,u(t,function(n){return"number"==typeof n?0:n.tag?(o=!1,s(1)):(s=n=n[0],n(0),r(0))})}),e(n(0,[function(n){return n?(o&&s(1),f=!0,a(1)):i||f?0:(i=!0,a(0))}]))}}},exports.skipWhile=function(n){return function(t){return function(r){let u=!0;return a(t,function(t,e){if("number"!=typeof t&&t.tag&&u){if(n(t[0]))return e(0);u=!1}return r(t)})}}},exports.subscribe=N,exports.switchAll=function(n){return j(D)(n)},exports.switchMap=J,exports.take=function(t){return function(r){return function(e){let o=0,f=c;return u(r,function(n){return"number"==typeof n?o<t?(o=t,e(0)):0:n.tag?o<t&&(o=o+1|0,e(n),o===t)?(e(0),f(1)):0:(f=n[0],0)}),e(n(0,[function(n){return o<t?n?(o=t,f(1)):f(0):0}]))}}},exports.takeLast=K,exports.takeUntil=function(t){return function(r){return function(e){function o(n){return"number"==typeof n?0:n.tag?(f=!0,i(1),e(0)):(a=n=n[0],n(0))}let f=!1,i=c,a=c;return u(r,function(n){return"number"==typeof n?f?0:(f=!0,a(1),e(0)):n.tag?f?0:e(n):(i=n[0],u(t,o))}),e(n(0,[function(n){return f?0:n?(f=!0,i(1),a(1)):i(0)}]))}}},exports.takeWhile=function(t){return function(r){return function(e){let o=!1,f=c;return u(r,function(n){return"number"==typeof n?o?0:(o=!0,e(0)):n.tag?o?0:t(n[0])?e(n):(o=!0,e(0),f(1)):(f=n[0],e(n))}),e(n(0,[function(n){return o?0:n?(o=!0,f(1)):f(0)}]))}}},exports.tap=H,exports.throttle=function(t){return function(r){return function(e){function o(n){return a=void 0,c=!1,0}let c=!1,a=void 0;var s=function(n){return void 0!==(n=a)&&clearTimeout(i(n)),0};return u(r,function(r){if("number"==typeof r)return s(),e(0);if(r.tag)return c?0:(c=!0,s(),a=f(setTimeout(o,t(r[0]))),e(r));var u=r[0];return e(n(0,[function(n){return n?(s(),u(1)):u(n)}]))})}}},exports.toArray=function(n){let t=[],r=c,e=!1;return u(n,function(n){return"number"==typeof n?(e=!0,0):n.tag?(t.push(n[0]),r(0)):(r=n=n[0],n(0))}),e||r(1),t},exports.toCallbag=function(n){return function(t,r){return 0===t?u(n,function(n){if("number"==typeof n)return r(2,0);if(n.tag)return r(1,n[0]);var t=n[0];return r(0,function(n){switch(n){case 0:return 0;case 1:return t(0);case 2:return t(1)}})}):0}},exports.toObservable=function(n){var t={subscribe:function(t){let r=c,e=!1;return u(n,function(n){return"number"==typeof n?(e=!0,t.complete()):n.tag?e?0:(t.next(n[0]),r(0)):(r=n=n[0],n(0))}),{unsubscribe:function(){return e?0:(e=!0,r(1))}}}};return t[p]=function(n){return t},t},exports.toPromise=function(n){return new Promise(function(t,r){return u(m(1)(n),function(n){return"number"==typeof n?0:n.tag?t(n[0]):n[0](0)})})};
