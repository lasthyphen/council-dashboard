{"version":3,"sources":["assets/emailNotifications.svg","components/Activity/assets/activity-icon-anj.svg","assets/IconNoRewards.svg","assets/IconGavelRed.svg","assets/emailIllustration.svg","assets/noData.svg","assets/noDraft.svg","assets/noResults.svg","assets/errorLoading.svg","assets/IconANJ.svg","assets/IconLock.svg","components/Activity/assets/activity-icon-appeal-ruling.svg","components/Activity/assets/activity-icon-claim-rewards.svg","components/Activity/assets/activity-icon-commit-vote.svg","assets/IconHNYSpring.svg","components/Onboarding/highlights/assets/rinkeby/large/1.png","components/Onboarding/highlights/assets/rinkeby/large/2.png","components/Onboarding/highlights/assets/rinkeby/large/3.png","components/Onboarding/highlights/assets/rinkeby/large/4.png","components/Onboarding/highlights/assets/rinkeby/large/5.png","components/Disputes/PrecedenceCampaign/assets/PCModal.svg","assets/IconGavelOrange.svg","assets/IconGavelNoFill.svg","assets/globalError.svg","assets/backgroundError.svg","assets/logo.svg","assets/HeaderLogo.svg","assets/dashboardMenuIcon.svg","assets/tasksMenuIcon.svg","assets/disputesMenuIcon.svg","ethereum-providers/icons/Frame.png","ethereum-providers/icons/Cipher.png","ethereum-providers/icons/Metamask.png","ethereum-providers/icons/Status.png","ethereum-providers/icons/wallet.svg","ethereum-providers/icons/Fortmatic.svg","ethereum-providers/icons/Portis.svg","components/Account/assets/loading-ring.svg","components/Account/assets/connection-error.png","assets/LogoAccent.svg","components/Activity/assets/activity-icon-court-logo.svg","components/Activity/assets/activity-icon-draft-jury.svg","components/Activity/assets/activity-icon-execute-ruling.svg","components/Activity/assets/activity-no-results.png","assets/light/AccountError.svg","assets/dark/AccountError.svg","assets/light/Comments.svg","assets/dark/Comments.svg","assets/light/Email.svg","assets/dark/Email.svg","assets/light/EmailNotifications.svg","assets/dark/EmailNotifications.svg","assets/light/EmailVerificationFailed.png","assets/dark/EmailVerificationFailed.svg","assets/light/EmailVerificationSuccess.svg","assets/dark/EmailVerificationSuccess.svg","assets/light/Error.svg","assets/dark/Error.svg","assets/light/ErrorBackground.svg","assets/dark/ErrorBackground.svg","assets/light/HomeBanner.png","assets/dark/HomeBanner.png","assets/light/IconActivityHNY.svg","assets/dark/IconActivityHNY.svg","assets/light/IconActivityLogo.svg","assets/dark/IconActivityLogo.svg","assets/light/IconArrow.svg","assets/dark/IconArrow.svg","assets/light/IconDarkMode.svg","assets/dark/IconDarkMode.svg","assets/light/IconHNYActive.svg","assets/dark/IconHNYActive.svg","assets/light/IconHNYInactive.svg","assets/dark/IconHNYInactive.svg","assets/light/IconHNYLoader.svg","assets/dark/IconHNYLoader.svg","assets/light/IconNetwork.svg","assets/dark/IconNetwork.svg","assets/light/IconNotifications.svg","assets/dark/IconNotifications.svg","assets/light/IconStarsActive.svg","assets/dark/IconStarsActive.svg","assets/light/IconStarsInactive.svg","assets/dark/IconStarsInactive.svg","assets/light/IconCommentActive.svg","assets/dark/IconCommentActive.svg","assets/light/IconCommentInactive.svg","assets/dark/IconCommentInactive.svg","assets/light/IconUsersActive.svg","assets/dark/IconUsersActive.svg","assets/light/IconUsersInactive.svg","assets/dark/IconUsersInactive.svg","assets/light/IconVotingActive.svg","assets/dark/IconVotingActive.svg","assets/light/IconVotingInactive.svg","assets/dark/IconVotingInactive.svg","assets/light/IconAppealActive.svg","assets/dark/IconAppealActive.svg","assets/light/IconAppealInactive.svg","assets/dark/IconAppealInactive.svg","assets/light/IconRulingActive.svg","assets/dark/IconRulingActive.svg","assets/light/IconRulingInactive.svg","assets/dark/IconRulingInactive.svg","assets/light/IconRewardsActive.svg","assets/dark/IconRewardsActive.svg","assets/light/IconRewardsInactive.svg","assets/dark/IconRewardsInactive.svg","assets/light/IconRewards.svg","assets/dark/IconRewards.svg","assets/light/IconStar.svg","assets/dark/IconStar.svg","assets/light/IconVotingFailed.svg","assets/dark/IconVotingFailed.svg","assets/light/IconVotingSuccess.svg","assets/dark/IconVotingSuccess.svg","assets/light/IconUser.svg","assets/dark/IconUser.svg","assets/light/IconWallet.svg","assets/dark/IconWallet.svg","assets/light/IconWarp.svg","assets/dark/IconWarp.svg","assets/light/Loading.svg","assets/dark/Loading.svg","assets/light/HeaderLogo.svg","assets/dark/HeaderLogo.svg","assets/light/NoData.svg","assets/dark/NoData.svg","assets/light/NoDraft.svg","assets/dark/NoDraft.svg","assets/light/NoResults.svg","assets/dark/NoResults.svg","assets/light/SignatureFailed.svg","assets/dark/SignatureFailed.svg","assets/light/SignatureSuccess.svg","assets/dark/SignatureSuccess.svg","assets/notificationsSuccess.svg","assets/notificationsError.png","assets/signRequestSuccess.svg","assets/signRequestFail.svg","assets/signRequestLoading.gif","components/Onboarding/assets/arrow.svg","assets/Welcome.png","assets/Loading.svg","assets/IconJurorInactive.svg","assets/IconJurorActive.svg","assets/IconANT.svg","assets/IconDAI.svg","assets/IconANJSpring.svg","assets/IconWallet.svg","assets/IconANJInactive.svg","assets/IconANJActive.svg","assets/IconOneTimeCode.svg","assets/folderIcon.svg","assets/IconRewardsGreen.svg","assets/IconWarning.svg","assets/courtIcon.svg","assets/IconFlagActive.svg","assets/IconFlagInactive.svg","assets/IconFolderActive.svg","assets/IconFolderInactive.svg","assets/IconUsersActive.svg","assets/IconUsersInactive.svg","assets/IconVotingActive.svg","assets/IconVotingInactive.svg","assets/IconThinkingActive.svg","assets/IconThinkingInactive.svg","assets/IconRulingActive.svg","assets/IconRulingInactive.svg","assets/IconRewardsActive.svg","assets/IconRewardsInactive.svg","assets/noEvidence.svg","assets/timelineError.svg","theme-court.js","queries/tasks.js","queries/court.js","queries/disputes.js","queries/appeals.js","queries/balances.js","queries/jurorDrafts.js","lib/math-utils.js","utils/date-utils.js","types/anj-types.js","utils/anj-movement-utils.js","environment.js","errors.js","lib/uri-utils.js","lib/web3-utils.js","utils/appeal-utils.js","utils/crvoting-utils.js","types/dispute-status-types.js","types/court-module-types.js","utils/subscription-utils.js","utils/court-utils.js","networks.js","flagged-disputes/voided-disputes.js","flagged-disputes/precedence-campaign-disputes.js","utils/dispute-utils.js","utils/juror-draft-utils.js","queries/juror.js","hooks/subscription-hooks.js","providers/CourtConfig.js","components/AppLoader.js","components/Errors/GenericError.js","components/Errors/GlobalErrorScreen.js","components/Disputes/DisputeNotFoundError.js","sentry.js","GlobalErrorHandler.js","hooks/usePreferences.js","components/Header/HeaderLogo.js","components/MenuPanel.js","components/Header/HeaderModule.js","components/Account/AccountButton.js","components/Account/AccountPopover.js","components/IdentityBadge.js","ethereum-providers/index.js","components/Account/ScreenConnected.js","hooks/useCopyToClipboard.js","components/Account/ScreenConnecting.js","components/Account/ScreenError.js","components/Account/ScreenProviders.js","components/Account/AccountModule.js","components/Header/HeaderPopover.js","hooks/useNow.js","providers/CourtClock.js","StoredList.js","providers/Wallet.js","components/Activity/activity-statuses.js","actions/court-action-types.js","providers/ActivityProvider.js","providers/RequestQueue.js","actions/allowedTermsBehind.js","hooks/useRequestProcessor.js","local-settings.js","endpoints.js","web3-contracts.js","services/autoReveal.js","radspec.js","utils/retry-max.js","utils/known-tokens.js","hooks/useCourtContracts.js","components/ClockModule.js","components/Activity/prop-types.js","components/Activity/TimeTag.js","components/Activity/TransactionProgress.js","components/Activity/activity-types.js","components/Activity/ActivityItem.js","components/Activity/ActivityList.js","components/Activity/ActivityButton.js","providers/ClientTheme.js","utils/asset-utils.js","hooks/useAsset.js","components/GlobalPreferences/GlobalPreferencesButton.js","components/Header/Header.js","keycodes.js","graphql-exchanges.js","providers/Subgraph.js","components/GlobalPreferences/Network/Network.js","hooks/useKeyboardArrows.js","services/notificationServiceApi.js","services/responseCodes.js","hooks/useEmailNotifications.js","components/EmailNotifications/DeleteEmail.js","hooks/useInput.js","components/EmailNotifications/EmailInput.js","utils/validate-utils.js","components/EmailNotifications/EmailNotificationsForm.js","components/EmailNotifications/ExistingEmailSubscription.js","components/GlobalPreferences/Notifications/LoadingPreferences.js","components/GlobalPreferences/Notifications/NotificationsPreferences.js","components/EmailNotifications/StatusInfo.js","components/SignatureRequest.js","components/GlobalPreferences/Notifications/UnlockNotifications.js","components/EmailNotifications/VerifyEmailAddress.js","components/GlobalPreferences/Notifications/VerifyEmailAddressPreferences.js","components/EmailNotifications/constants.js","components/EmailNotifications/actions.js","components/EmailNotifications/EmailNotificationsManager.js","components/GlobalPreferences/Notifications/NotificationsManager.js","components/GlobalPreferences/GlobalPreferences.js","components/MainView.js","hooks/useOnboarding.js","components/Onboarding/content.js","components/Onboarding/Navigation.js","prop-types.js","components/Onboarding/HighlightScreen.js","components/Onboarding/OnboardingModal.js","components/OnboardingLoader.js","components/EmailNotificationsLoader.js","components/RequestPanel/ConfirmRequest.js","components/RequestPanel/Steps/MultiStepRequest.js","components/RequestPanel/request-statuses.js","components/RequestPanel/Steps/helper.js","components/RequestPanel/Steps/SingleStepRequest.js","components/RequestPanel/TransactionProgress.js","components/RequestPanel/Steps/RequestSteps.js","components/RequestPanel/RequestStatus.js","components/RequestPanel/RequestPanel.js","components/Dashboard/Welcome.js","components/MessageCard.js","components/Tasks/NoTasks.js","components/Tasks/NoMyTasks.js","components/Tasks/TasksFilters.js","components/Tasks/TaskDueDate.js","components/Tasks/TasksTable.js","components/LoadingCard.js","components/TitleHeader.js","components/Errors/ErrorLoading.js","hooks/useTasks.js","hooks/useFilteredTasks.js","components/Tasks/Tasks.js","types/account-status-types.js","components/Dashboard/Profile.js","components/Loading.js","components/Dashboard/ANJLockedDistribution.js","components/SplitAmount.js","hooks/useUniswapAnjPrice.js","hooks/useTokenAmountToUsd.js","components/Dashboard/Balance.js","components/Dashboard/AccountBannerInfo.js","components/CircleGraph.js","hooks/useCourtStats.js","hooks/query-hooks.js","components/Dashboard/DashboardStateProvider.js","hooks/useANJ.js","hooks/useJurorDrafted.js","components/Dashboard/AccountBanner.js","utils/account-utils.js","utils/balance-utils.js","components/Dashboard/BalanceModule.js","components/Dashboard/NoRewards.js","components/Dashboard/RewardsModule.js","hooks/useJurorSubscriptionFees.js","components/Dashboard/panels/ANJForm.js","components/Dashboard/panels/ActivateANJ.js","components/Dashboard/panels/WithdrawANJ.js","components/Dashboard/panels/DeactivateANJ.js","components/Dashboard/AppealColateralModule.js","components/Dashboard/CourtStats.js","hooks/useSidePanel.js","hooks/useJurorRewards.js","hooks/dashboard-logic.js","hooks/useJurorAppealCollaterals.js","components/Dashboard/Dashboard.js","components/Disputes/DisputeText.js","components/Disputes/DisputeStatus.js","components/Disputes/DisputeOutcomeText.js","components/Disputes/DisputePhase.js","components/Disputes/DisputeCard.js","components/Disputes/DisputeFilters.js","components/Disputes/NoFilterResults.js","components/Disputes/DisputeList.js","lib/ipfs-utils.js","hooks/useDisputes.js","components/Disputes/Disputes.js","components/Disputes/panels/AppealPanel.js","components/Disputes/PrecedenceCampaign/PrecedenceCampaignModal.js","components/Disputes/PrecedenceCampaign/PrecedenceCampaignBanner.js","components/Disputes/panels/CommitPanel.js","hooks/useOneTimeCode.js","types/evidences-status-types.js","components/Disputes/ErrorLoadingEvidence.js","components/Markdown.js","components/Disputes/DisputeEvidences.js","hooks/useEvidences.js","components/Disputes/actions/DisputeAppeal.js","components/Disputes/DisputeAutoReveal.js","components/Disputes/actions/DisputeDraft.js","components/Disputes/actions/DisputeExecuteRuling.js","components/Disputes/actions/DisputeReveal.js","components/Disputes/actions/DisputeVoting.js","components/Disputes/DisputeActions.js","components/Disputes/DisputeCurrentRuling.js","components/Disputes/DisputeDetailDescription.js","disputables/queries.js","disputables/connect-endpoints.js","disputables/scriptExtractors.js","disputables/known-appIds.js","disputables/mappings.js","disputables/known-arbitrables.js","disputables/index.js","components/Disputes/DisputeInfoContent.js","components/Disputes/DisputeVoided.js","components/Disputes/DisputeInfo.js","components/Disputes/DisputeRoundPill.js","components/Step.js","components/Stepper.js","utils/dispute-icons.js","hooks/useDisputeTimeline.js","components/Disputes/DisputeTimeline.js","components/Disputes/NoEvidence.js","components/Disputes/panels/RevealPanel.js","hooks/dispute-logic.js","components/Disputes/DisputeDetail.js","Routes.js","App.js","migrations/migrations.js","migrations/helper.js","migrations/index.js","index.js"],"names":["module","exports","light","_name","_appearance","accent","accentStart","accentEnd","accentContent","secborder","selected","selectedContent","selectedDisabled","tagIndicator","tagIndicatorContent","tagActivity","tagActivityContent","otherborder","secsurface","surfaceOpened","dark","background","border","overlay","content","contentSecondary","surface","surfaceContent","surfaceContentSecondary","surfaceIcon","surfaceUnder","surfaceSelected","surfaceHighlight","surfacePressed","surfaceInteractive","feedbackSurface","feedbackSurfaceContent","feedbackSurfaceContentSecondary","warning","warningSurface","warningSurfaceContent","info","infoSurface","infoSurfaceContent","help","helpContent","helpSurface","helpSurfaceContent","negative","negativeContent","negativeSurface","negativeSurfaceContent","positive","positiveContent","positiveSurface","positiveSurfaceContent","badge","badgeContent","badgePressed","tagIdentifier","tagIdentifierContent","tagNew","tagNewContent","hint","link","focus","disabled","disabledContent","disabledIcon","control","controlBorder","controlBorderPressed","controlDisabled","controlSurface","controlUnder","floating","floatingContent","green","yellow","red","blue","brown","purple","OpenTasks","gql","CourtConfig","JurorsRegistryModule","FeeMovements","AllDisputes","SingleDispute","AppealsByMaker","AppealsByTaker","JurorANJWalletBalance","JurorANJBalances","JurorTreasuryBalances","JurorFirstANJActivationMovement","JurorDraftsRewards","JurorDraftsFrom","JurorDrafts","bigNum","value","BigNumber","from","formatTokenAmount","amount","isIncoming","decimals","displaySign","formatUnits","digits","commas","replaceZeroBy","precision","lt","valueBeforeCommas","EthersUtils","toString","roundedValue","round","replace","commify","split","whole","decimal","length","Math","parseInt","slice","wordNumbers","numberToWord","number","ordinalNumbers","generateRandomNumber","randomBytes","toHexString","norm","aNumber","low","high","toMs","seconds","KNOWN_FORMATS","iso","onlyDate","standard","dateFormat","date","format","dayjs","getRelativeTime","to","trim","extend","isBetween","relativeTime","utc","ANJMovement","Stake","Symbol","Unstake","Activation","movementDirection","Incoming","Outgoing","Locked","stringMapping","StakeActivation","Deactivation","DeactivationProcess","Lock","Unlock","Reward","Slash","ANJBalance","Wallet","Inactive","Active","acceptedMovementsPerBalance","Map","anjBalanceTypes","type","anjMovementTypes","direction","getAmountNotEffectiveByMovement","movements","movementType","filter","mov","isEffective","reduce","acc","add","getTotalEffectiveAt","termId","movement","effectiveTermId","convertMovement","acceptedMovements","find","elem","getMovementDirection","ENV_VARS","BUILD","process","CHAIN_ID","chainId","isNaN","COURT_SERVER_NAME","REACT_APP_COURT_SERVER_NAME","DEFAULT_ETH_NODE","REACT_APP_DEFAULT_ETH_NODE","FORTMATIC_API_KEY","REACT_APP_FORTMATIC_API_KEY","IPFS_GATEWAY","REACT_APP_IPFS_GATEWAY","PACKAGE_VERSION","PORTIS_DAPP_ID","REACT_APP_PORTIS_DAPP_ID","SENTRY_DSN","REACT_APP_SENTRY_DSN","SKIP_VOIDING","REACT_APP_SKIP_VOIDING","SUBGRAPH_HTTP_ENDPOINT","REACT_APP_SUBGRAPH_HTTP_ENDPOINT","SUBGRAPH_NAME","REACT_APP_SUBGRAPH_NAME","env","name","envVar","extendError","defaultMessage","message","Error","DisputeNotFound","disputeId","getNetworkName","InvalidNetworkType","InvalidURI","NoConnection","httpRegex","validHttpFormat","uri","test","keccak256","utils","id","soliditySha3","solidityKeccak256","toUtf8String","ETH_ADDRESS_SPLIT_REGEX","padEnd","ETH_ADDRESS_TEST_REGEX","getUseWalletProviders","providers","push","useWalletConf","apiKey","dAppId","toChecksumAddress","address","toLowerCase","addressHash","checksumAddress","i","toUpperCase","addressesEqual","first","second","shortenAddress","charsLength","prefixLength","getNetworkType","String","sanitizeNetworkType","networkType","isLocalOrUnknownNetwork","transformAddresses","str","callback","map","part","index","checkValidEthNode","a","isLocalOrUnknown","expectedNetworkType","Providers","JsonRpcProvider","provider","getNetwork","networkTypeName","signMessage","wallet","error","ethers","getSigner","signHash","transformAppealDataAttributes","appeal","appealedRuling","opposedRuling","appealDeposit","confirmAppealDeposit","settledAt","dispute","lastRoundId","rounds","OUTCOMES","Missing","Leaked","Refused","Against","InFavor","VALID_OUTCOMES","VOTE_OPTION_REFUSE","VOTE_OPTION_AGAINST","VOTE_OPTION_IN_FAVOR","voteOptionStringMapping","voteOptionToString","outcome","appealOptionStringMapping","appealOptionToString","outcomeStringMapping","juryOutcomeToString","appealRulingStringMapping","finalRulingStringMapping","getOutcomeFromCommitment","commitment","password","option","hashVote","filterByValidOutcome","totalValidOutcomes","outcomeFilter","outcomes","getVoteId","roundId","pow","mul","hashPassword","isValidOutcome","isvoteLeaked","getTotalOutcomeWeight","weight","getCodeFromLocalStorage","connectedAccount","localStorage","getItem","Status","Open","Closed","Voided","Phase","All","Invalid","Adjudicating","Ruled","Evidence","NotStarted","JuryDrafting","VotingPeriod","RevealVote","AppealRuling","ConfirmAppeal","ClaimRewards","Ended","ExecuteRuling","Created","endedStringMapping","symbolMapping","Committing","Revealing","Drafting","Appeal","ConfirmingAppeal","taskActionsMapping","convertFromString","convertToString","symbol","getTaskActionString","CourtModuleType","AragonCourt","DisputeManager","JurorsRegistry","Voting","Treasury","Subscriptions","transformSubscriptionModuleDataAttributes","subscriptionModule","currentPeriod","periodDuration","periods","period","totalActiveBalance","collectedFees","transformClaimedFeesDataAttributes","claimedFee","hasJurorClaimed","claimedFees","periodId","some","getFirstTermStartTime","terms","startTime","getTermStartTime","termDuration","getTermEndTime","getModuleAddress","modules","moduleType","courtModule","mod","subgraphName","environment","RINKEBY_COURT","RINKEBY_STAGING_COURT","networkConfigs","main","court","network_agent","network_reserve","nodes","defaultEth","subgraph","rinkeby","getRinkebyCourtAddress","dijets","ropsten","local","getInternalNetworkName","getNetworkConfig","networkReserveAddress","VOIDED_DISPUTES","description","text","getVoidedDisputesByCourt","courtAddress","get","PRECEDENCE_CAMPAIGN_DISPUTES","Array","fill","_","FINAL_ROUND_WEIGHT_PRECISION","PCT_BASE","transformRoundDataAttributes","vote","createdAt","draftTermId","delayedTerms","jurors","juror","commitmentDate","revealDate","winningOutcome","confirmedAt","state","DisputesTypes","transformDisputeDataAttributes","disputable","title","JSON","parse","metadata","parseMetadata","metadataUri","transformedDispute","status","isPartOfPrecedenceCampaign","getPrecedenceCampaignDisputesByCourt","has","marksPrecedent","voidedDispute","evidences","voidedDescription","voidedLink","voidedText","overrideVoidedDispute","getPhaseAndTransition","currentTerm","courtConfig","phase","nextTransition","lastRound","maxAppealReached","hasDisputeReachedMaxAppeals","evidenceSubmissionEndTerm","getEvidenceSubmissionEndTerm","evidenceSubmissionEndTime","draftStartTime","currentAdjudicationPhase","getAdjudicationPhase","phaseEndTerm","commitTerms","revealTerms","appealTerms","appealConfirmationTerms","draftEndTerm","commitEndTerm","revealEndTerm","appealEndTerm","appealConfirmationEndTerm","maxRegularAppealRounds","getDisputeLastRound","getJurorDraft","jurorId","jurorDraft","hasJurorVoted","transformJurorDataAttributes","rewardedAt","collectedTokens","jurorFees","JurorFeesClaimed","JurorLastFeeWithdrawal","ActiveJurors","NO_AMOUNT","useQuerySub","query","variables","options","useQuery","requestPolicy","pollInterval","useJurorBalancesSubscription","data","useANJBalance","anjBalanceData","anjBalanceError","yesterday","subtract","unix","useJuror","jurorData","jurorError","owner","useJurorTreasuryBalances","treasuryBalancesData","errors","err","useMemo","anjbalance","walletBalance","activeBalance","anjMovements","availableBalance","claimedSubscriptionFees","deactivationBalance","lockedBalance","treasuryBalances","anjBalances","inactiveBalance","currentMovement","prevMovements","prevMovement","treasury","balance","fetching","useCourtConfigSubscription","subscriptions","draftFee","settleFee","jurorFee","minActiveBalance","evidenceTerms","term","transformCourtConfigDataAttributes","useAppealsByUserSubscription","maker","useAppealsByMaker","makerAppealsData","makerAppealsError","taker","useAppealsByTaker","takerAppealsData","takerAppealsError","appeals","makerAppeals","takerAppeals","CourtConfigContext","React","createContext","CourtConfigProvider","children","Provider","useCourtConfig","useContext","AppLoader","Fragment","SyncIndicator","visible","label","RADIUS","GenericError","memo","detailsTitle","detailsContent","reportCallback","theme","useTheme","useState","opened","setOpened","toggle","useCallback","textStyle","GU","Link","href","onClick","size","Button","mode","window","location","reload","wide","backgroundError","Container","useViewport","width","GlobalErrorScreen","src","logo","globalError","alt","height","DisputeNotFoundError","sentryEnabled","Boolean","logWithSentry","level","captureMessage","GlobalErrorHandler","errorStack","eventId","captureException","showReportDialog","errorInfo","this","setState","componentStack","removeEventListener","handleHashchange","addEventListener","props","handleReportClick","Component","usePreferences","useLocation","basePath","pathname","search","history","useHistory","screen","searchParams","URLSearchParams","parsePreferences","preferenceScreen","useRef","current","fullPath","getPreferencesSearch","HeaderLogo","headerLogoSvg","MENU_PANEL_WIDTH","AnimDiv","animated","div","MenuPanel","showHeaderLogo","onOpenPage","MenuItem","icon","dashboardMenuIcon","onActivate","tasksMenuIcon","disputesMenuIcon","active","useRouteMatch","handlePageRequest","Number","AnimatedMenuPanel","autoClosing","onMenuPanelClose","animate","setAnimate","useEffect","animateTimer","setTimeout","clearTimeout","menuPanelProgress","config","springs","lazy","immediate","native","style","opacity","alpha","position","transform","interpolate","v","value1","HeaderModule","above","AccountButton","useWallet","EthIdenticon","account","radius","AnimatedDiv","AccountPopover","heading","onClose","opener","screenData","screenId","screenKey","setHeight","measuredHeight","setMeasuredHeight","popoverFocusElement","timer","closeOnOpenerFocus","placement","smooth","ref","tabIndex","items","keys","enter","leave","onRest","onStart","elt","clientHeight","IdentityBadge","entity","PROVIDERS","image","frame","strings","metamask","cipher","fortmatic","portis","getProvider","providerId","getProviderFromUseWalletId","ethereum","isMetaMask","AccountScreenConnected","copy","toast","useToast","confirmationMessage","useCopyToClipboard","walletNetworkName","networkName","providerInfo","connector","focusRingRadius","compact","badgeOnly","IconCheck","reset","spin","keyframes","loadingRing","AccountModuleConnectingScreen","onCancel","string","getProviderString","connectionError","AccountModuleErrorScreen","onBack","elementRef","ChainUnsupportedError","secondary","PROVIDERS_INFO","ProviderButton","handleClick","key","ScreenProviders","SCREENS","AccountModule","activatingDelayed","setActivatingDelayed","buttonRef","compactMode","below","open","handleResetConnection","handleActivate","connect","previousScreenIndex","screenIndex","findIndex","handlePopoverClose","IconConnect","display","onOpen","activating","activationError","ScreenConnecting","ScreenConnected","ScreenError","AnimatedSection","section","HeaderPopover","animateHeight","useNow","updateEvery","now","setNow","setInterval","clearInterval","CourtClockContext","CourtClockProvider","actualCurrentTerm","expectedCurrentTerm","termStartTime","termEndTime","termPeriod","f","getTermPeriod","firstTermStartTime","floor","valueOf","getExpectedCurrentTermId","courtClock","currentTermId","currentTermStartDate","Date","currentTermEndDate","isSynced","neededTransitions","useCourtClock","StoredList","preStringify","postParse","loadItems","console","isArray","setItem","stringify","saveItems","update","cond","WalletAugmentedContext","useWalletAugmented","WalletAugmented","EthersProviders","Web3Provider","contextValue","WalletProvider","connectors","ACTIVITY_STATUS_CONFIRMED","ACTIVITY_STATUS_FAILED","ACTIVITY_STATUS_PENDING","ACTIVITY_STATUS_TIMED_OUT","ACTIVATE_ANJ","DEACTIVATE_ANJ","WITHDRAW_ANJ","DRAFT_JURY","COMMIT_VOTE","REVEAL_VOTE","LEAK_VOTE","APPROVE_FEE_DEPOSIT","APPEAL_RULING","CONFIRM_APPEAL","EXECUTE_RULING","HEARTBEAT","SETTLE_REWARD","SETTLE_APPEAL_DEPOSIT","CLAIM_REWARDS","CLAIM_SUBSCRIPTION_FEES","ActivityContext","StatusSymbolsByName","Object","entries","TypeSymbolsByName","actions","getActivityFinalStatus","transactionHash","Promise","race","getTransaction","then","tx","wait","receipt","blockNumber","catch","resolve","ActivityProvider","activities","setActivities","storedList","updateActivities","cb","newActivities","addActivity","nonce","read","hash","removeActivity","activity","clearActivities","updateActivityStatus","markActivitiesRead","unreadCount","count","updateActivitiesFromStorage","activitiesFromStorage","getItems","cancelled","getStoredList","forEach","useActivity","RequestQueueContext","RequestQueueProvider","requestQueue","setRequestQueue","addRequests","requests","newRequests","concat","clearRequestQueue","useRequestQueue","useRequestProcessor","heartbeatRequest","useHeartbeat","processedRequests","action","ensureConfirmation","isTx","request","intent","maxAllowedTermsBehind","req","max","allowedTermsBehind","unshift","DEFAULT_SUBGRAPH_HTTP_ENDPOINT","getLocalStorageSetting","confKey","storageKey","getLocalSetting","setLocalSetting","IPFS_ENDPOINT","courtServerEndpoint","defaultEthNode","defaultIpfsGateway","defaultSubgraphHttpEndpoint","DEFAULT_PROVIDER","useContract","abi","signer","getContract","useContractReadOnly","EthersContract","COURT_SERVER_ENDPOINT","requestAutoReveal","voteId","salt","fetch","method","headers","body","rawResponse","ok","json","response","values","join","getAutoRevealRequest","reveal","ruling","transitions","voter","retryMax","maxAttempts","retryNum","attempt","log","KNOWN_TOKEN_BY_ENV","ANJ","ANT","DAI","getKnownToken","ACTIVATE_SELECTOR","useFeeTokenContract","feeToken","tokenAbi","useCourtContract","useANJActions","processRequests","jurorRegistryContract","jurorRegistryAbi","anjTokenContract","anjToken","useANJTokenContract","activateANJ","formattedAmount","activate","gasLimit","radspec","deactivateANJ","deactivate","stakeActivateANJ","approveAndCall","withdrawANJ","unstake","useDisputeActions","disputeManagerContract","disputeManagerAbi","votingContract","votingAbi","aragonCourtContract","aragonCourtAbi","feeTokenContract","draft","autoReveal","requestAutoRevealApi","onError","onSuccess","commit","revealServiceEnabled","oneTimeCode","saveCodeInLocalStorage","leak","approveFeeDeposit","approve","createAppeal","confirmAppeal","appealRound","requiredDeposit","allowance","confirm","eq","executeRuling","heartbeat","useCourtSubscriptionActions","courtSubscriptionsContract","courtSubscriptionsAbi","claimFees","getJurorShare","getters","ClockModule","onHeartbeat","handleOnClick","IconSync","IconCross","IconClock","color","Timer","end","showIcon","logoSvg","ButtonBase","blockExplorerUrl","duration","units","formatDuration","PropTypes","oneOf","TimeTag","TransactionProgress","minedAtEstimate","estimate","threshold","TX_DURATION_AVERAGE","progress","getProgress","showConfirmed","showTimer","delay","show","transition","alignItems","paddingTop","ProgressBar","defaultProps","ACTIVITY_TYPES","iconAnj","iconAppealRuling","iconClaimRewards","iconCommitVote","iconDraftJury","iconExecuteRuling","iconCourtLogo","ItemContent","isAddress","prevProps","nextProps","propTypes","isRequired","StatusMessage","getStatusData","ActivityItem","handleOpen","canClear","handleClose","element","MIN_LIST_HEIGHT_ADJUST","MAX_LIST_HEIGHT_CLAMP","ActivityList","activityItems","sort","b","maxHeight","min","ceil","trail","transitionStyles","overflow","activityNoResults","ActivityButton","containerRef","handleToggle","swift","s","Tag","limitDigits","Popover","SETTINGS_THEME","storedClientTheme","appearance","matchMedia","matches","getClientTheme","ClientThemeContext","useClientTheme","ACCOUNT_ERROR","COMMENTS","ERROR","EMAIL","EMAIL_NOTIFICATIONS","EMAIL_VERIFICATION_FAILED","EMAIL_VERIFICATION_SUCCESS","ERROR_BACKGROUND","HOME_BANNER","ICON_ACTIVITY_HNY","ICON_ACTIVITY_LOGO","ICON_ARROW","ICON_DARK_MODE","ICON_HNY_ACTIVE","ICON_HNY_INACTIVE","ICON_HNY_LOADER","ICON_HNY_SPRING","ICON_NETWORK","ICON_NOTIFICATIONS","ICON_NO_REWARDS","ICON_STARS_ACTIVE","ICON_STARS_INACTIVE","ICON_COMMENT_ACTIVE","ICON_COMMENT_INACTIVE","ICON_USERS_ACTIVE","ICON_USERS_INACTIVE","ICON_VOTING_ACTIVE","ICON_VOTING_INACTIVE","ICON_APPEAL_ACTIVE","ICON_APPEAL_INACTIVE","ICON_RULING_ACTIVE","ICON_RULING_INACTIVE","ICON_REWARDS_ACTIVE","ICON_REWARDS_INACTIVE","ICON_REWARDS","ICON_STAR","ICON_VOTING_FAILED","ICON_VOTING_SUCCESS","ICON_USER","ICON_WALLET","ICON_WARP","LOADING","LOGO","NO_DATA","NO_DRAFT","NO_RESULTS","SIGNATURE_FAILED","SIGNATURE_SUCCESS","AccountErrorLight","AccountErrorDark","CommentsLight","CommentsDark","EmailLight","EmailDark","EmailNotificationsLight","EmailNotificationsDark","EmailVerificationFailedLight","EmailVerificationFailedDark","EmailVerificationSuccessLight","EmailVerificationSuccessDark","ErrorLight","ErrorDark","ErrorBackgroundLight","ErrorBackgroundDark","HomeBannerLight","HomeBannerDark","IconActivityHNYLight","IconActivityHNYDark","IconActivityLogoLight","IconActivityLogoDark","IconArrowLight","IconArrowDark","IconDarkModeLight","IconDarkModeDark","IconHNYActiveLight","IconHNYActiveDark","IconHNYInactiveLight","IconHNYInactiveDark","IconHNYLoaderLight","IconHNYLoaderDark","IconHNYSpring","IconNetworkLight","IconNetworkDark","IconNotificationsLight","IconNotificationsDark","IconNoRewards","IconStarsActiveLight","IconStarsActiveDark","IconStarsInactiveLight","IconStarsInactiveDark","IconCommentActiveLight","IconCommentActiveDark","IconCommentInactiveLight","IconCommentInactiveDark","IconUsersActiveLight","IconUsersActiveDark","IconUsersInactiveLight","IconUsersInactiveDark","IconVotingActiveLight","IconVotingActiveDark","IconVotingInactiveLight","IconVotingInactiveDark","IconAppealActiveLight","IconAppealActiveDark","IconAppealInactiveLight","IconAppealInactiveDark","IconRulingActiveLight","IconRulingActiveDark","IconRulingInactiveLight","IconRulingInactiveDark","IconRewardsActiveLight","IconRewardsActiveDark","IconRewardsInactiveLight","IconRewardsInactiveDark","IconRewardsLight","IconRewardsDark","IconStarLight","IconStarDark","IconVotingFailedLight","IconVotingFailedDark","IconVotingSuccessLight","IconVotingSuccessDark","IconUserLight","IconUserDark","IconWalletLight","IconWalletDark","IconWarpLight","IconWarpDark","LoadingLight","LoadingDark","LogoLight","LogoDark","NoDataLight","NoDataDark","NoDraftLight","NoDraftDark","NoResultsLight","NoResultsDark","SignatureFailedLight","SignatureFailedDark","SignatureSuccessLight","SignatureSuccessDark","useAsset","iconType","assets","Item","external","clientTheme","handleItemClick","path","toggleDarkMode","toggleAppearance","iconDarkMode","iconNetwork","iconNotifications","Switch","checked","IconExternal","Header","toggleMenuPanel","onOpenPreferences","ButtonIcon","IconMenu","DEFAULT_FETCH_EXCHANGE","fetchExchange","SubgraphContext","resetSubgraphClient","newClient","createClient","url","exchanges","debugExchange","devtoolsExchange","cacheExchange","Field","onTextChange","Label","onChange","useNetwork","settingsErrors","setSettingsErrors","ethNode","setEthNodeValue","ipfsGateway","setIpfsGatewayValue","subgraphHttpEndpoint","setSubgraphHttpEndpointValue","subgraphChanged","defaultsChanged","handleNetworkChange","validateNetworkSettings","handleClearNetworkSettings","removeItem","handleKeyPress","keyCode","keycodes","useEnterKey","handleEthNodeChange","currentTarget","handleIpfsGatewayChange","handleSubgraphHttpEndpointChange","ethError","httpSubgraphError","styled","useLayout","layoutName","Box","createSession","signature","timestamp","endpoint","credentials","Accept","jsonResponse","authenticated","subscribeToNotifications","email","subscribedEmail","sent","needsSignature","switchNotificationsStatus","getJurorEmail","resendVerificationEmail","subscribeExistingEmail","errorReSending","deleteJurorEmail","deleted","deleteCurrentSession","verifyJurorEmail","token","verified","getSubscriptionDetails","addressVerified","emailExists","emailVerified","notificationsDisabled","useSubscriptionDetails","subscriptionDetails","setSubscriptionDetails","setFetching","fetchSubscriptionDetails","DeleteEmail","onDelete","useInside","insideModal","emailNotifcationIllustration","useInput","validationFn","setValue","setStatus","inputRef","handleBlur","invalidValue","handleInputFocus","event","target","select","handleFocusLeave","useFocusLeave","handleFocusEnter","useFocusEnter","handleValueChange","e","val","inputProps","onBlur","onFocus","EmailInput","existingEmail","setError","adornment","TextInput","adornmentPosition","placeholder","validateEmail","LegalTermsAndPolicy","termsAccepted","Checkbox","ActionButton","EmailNotificationsForm","onOptOut","onSubscribeToNotifications","setTermsAccepted","emailInvalid","handleOnSubscribeToNotifications","preventDefault","handleOnTermsChange","ExistingEmailSubscription","LoadingPreferences","LoadingRing","NotificationsPreferences","onSwitchNotificationsStatus","onLockSettings","onDeleteEmail","onUpdateEmail","Split","primary","EmailNotificationBox","uppercase","IconLock","IconMail","handleSwitchNotificationsStatus","StatusInfo","actionText","onAction","errorIllustration","successIllustration","SignerRequest","onSignSuccess","signingError","setSigningError","successMode","illustration","signRequestFailIllustration","signRequestSuccessIllustration","signRequestLoading","statusText","statusTextColor","infoText","requestSignature","UnlockNotifications","needsUnlockSettings","onUnlock","onReturnToDashboard","VerifyEmailAddress","updateMode","onSubscribe","onResendEmail","handleOnSubscribe","emailIllustration","VerifyEmailAddressPreferences","onResend","DELETE_EMAIL_SCREEN","EMAIL_NOTIFICATIONS_EXISTING_EMAIL_SCREEN","EMAIL_NOTIFICATIONS_ERROR_SCREEN","EMAIL_NOTIFICATIONS_FORM_SCREEN","LOADING_SCREEN","NOTIFICATIONS_PREFERENCES_SCREEN","SIGNATURE_REQUEST_SCREEN","SIGNATURE_SUCCESS_SCREEN","SUCCESS_INFO_SCREEN","UNLOCK_NOTIFICATIONS_SCREEN","VERIFICATION_ERROR_SCREEN","VERIFICATION_SUCCESS_SCREEN","VERIFY_EMAIL_ADDRESS_PREFERENCES","VERIFY_YOUR_EMAIL_SCREEN","DELETE_ACTION","DELETE_ACTION_PREFERENCES","OPTOUT_ACTION","RESEND_EMAIL_ACTION","SUBSCRIBE_EXISTING_ACTION","SUBSCRIBE_MODAL_ACTION","UNLOCK_SETTINGS_ACTION","UNLOCK_SETTINGS_ACTION_NOT_EMAIL","UNLOCK_SETTINGS_ACTION_NOT_VERIFIED","SETTINGS","signatureSettings","requestText","successText","successInfo","requiresEmail","successScreen","DEFAULT_ERROR_SETTINGS","DEFAULT_SUBSCRIPTION_PROGRESS","needSignature","serviceError","startRequest","nextScreen","signTimestamp","signatureTitle","signRequestText","signSuccessText","statusInfoTitle","statusInfoText","verifyUpdateMode","previousScreen","EmailNotificationsManager","startingScreen","setScreenId","subscriptionProgress","setSubscriptionProgress","activated","defaultSignRequestText","subscribeNeedsSignature","subscribeSettings","handleOnSubscribeExistingEmail","handleOnOptOut","optOutSettings","handleOnResendEmail","resendSettings","handleOnDeleteConfirmation","handleOnCancelDelete","handleOnDelete","deleteSettings","handleOnUnlockSettings","unlockSettings","handleOnUpdateEmail","handleOnLockSettings","handleSwitchNotifications","handleOnSignSuccess","returnedJurorEmail","params","requestAction","SignatureRequest","WrappedContainer","AnimatedContainer","AnimatedBox","setRef","node","padding","refCallback","top","left","right","NotificationsManager","startingScreenId","setStartingScreenId","jurorNeedsSignature","setJurorNeedsSignature","jurorEmail","setJurorEmail","fetchingEmail","setFetchingEmail","fetchingSubscriptionData","verifyEmailAddress","getEmail","SECTIONS","PATHS","VALUES","GlobalPreferences","onNavigation","sectionIndex","handlekeyDown","useEsc","container","Close","Tabs","onScreenChange","setSectionIndex","handleNavigation","item","startsWith","useGlobalPreferences","enterProgress","blocking","zIndex","pointerEvents","MainView","vw","menuPanelOpen","setMenuPanelOpen","openPreferences","closePreferences","preferenceOption","handleCloseMenuPanel","handleOpenPage","ScrollView","Layout","parentWidth","paddingBottom","stepsReducer","steps","step","newStep","highlights","defaultVisualColor","defaultButtonColor","small","large","visual","large1","large2","buttonColor","large3","large4","large5","start","buttonTransitionStyles","NavButton","arrowSvg","Navigation","onPrev","onNext","showPrev","showNext","prevTransitionStyles","useSpring","nextTransitionStyles","nonRequiredFunction","validator","propName","componentName","undefined","validatorCreator","nonAddress","HighlightScreen","onDone","showProgress","verticalMode","visualSrc","leaving","setLeaving","visualSrcExists","useImageExists","exists","OnboardingModal","onComplete","useReducer","updateStep","setStep","next","prev","useSteps","onUp","onLeft","onDown","onRight","onKeyDown","document","useKeyboardArrows","closeButton","initial","OnboardingLoader","onboardingCompleted","setOnboardingCompleted","handleOnComplete","EmailNotificationsLoader","modalVisible","setModalVisible","handleOnClose","ConfirmRequest","descriptions","onStartRequest","Info","MultiStepRequest","lastProcessedAt","requestStatus","RequestStepItem","stepNumber","REQUEST_STATUS_CONFIRMED","REQUEST_STATUS_FAILED","REQUEST_STATUS_PENDING","REQUEST_STATUS_PROCESSED","REQUEST_STATUS_PROCESSING_FAILED","REQUEST_STATUS_UPCOMING","getRequestLabelText","SingleStepRequest","labelText","iconColor","labelColor","success","hasRequestSucceeded","hasRequestFailed","charAt","RequestSteps","multipleRequests","RequestStatusInfo","allSuccess","maxAttemptsReached","onClosePanel","onNextAttempt","requiresMultipleSignatures","requestFailedStatus","includes","RequestReattempt","RequestStatus","INITIAL_STATE","processed","errorProcessing","confirmed","failed","requesting","attempts","setAttempts","setProgress","handleSignerClose","handleNextAttempt","handleStartRequest","processRequest","requestProcess","ensureRequestConfirmed","requiredConfirmedRequests","filteredRequests","createRequests","timeout","blockPanel","SidePanel","Welcome","Logo","MessageCard","paragraph","loading","isCompactMode","NoTasks","noData","NoMyTasks","noDraftSvg","TasksFilters","dateRangeFilter","onDateRangeChange","phaseFilter","onPhaseChange","phaseTypes","DropDown","header","DateRangePicker","startDate","endDate","TaskDueDate","dueDate","diff","startOf","maxUnits","TaskTable","tasks","emptyFilterResults","onClearFilters","onlyTable","DataView","entriesPerPage","fields","renderEntry","emptyState","displayLoader","subtitle","noResults","clearLabel","onStatusEmptyClear","LoadingCard","loadingSVG","TitleHeader","onlyTitle","ErrorLoading","subject","errorLoadingSvg","useTasks","adjudicationRounds","useTasksSubscription","openTasks","voidedDisputes","convertedTasks","task","convertedTasksPhasesKey","incompleteTasks","DisputePhase","currentPhase","j","isVotingTaskOpen","phaseType","isAppealTaskOpen","useOpenTasks","INITIAL_DATE_RANGE","TASKS_ACTIONS_TYPES","useFilteredTasks","jurorTasksSelected","selectedDateRange","setSelectedDateRange","selectedPhase","setSelectedPhase","filtersSelected","setFiltersSelected","TASKS_ACTIONS_TYPES_STRING","jurorTasks","tasksToFilter","handleSelectedDateRangeChange","range","handleSelectedPhaseChange","filteredTasks","endOf","handleClearFilters","openTasksNumber","jurorOpenTaskNumber","taskActionsString","Tasks","setScreenIndex","myTasksSelected","tasksFetching","errorLoading","ACCOUNT_STATUS_ANONYMUS","ACCOUNT_STATUS_JUROR_INACTIVE","ACCOUNT_STATUS_JUROR_ACTIVE","Profile","primaryColor","secondaryColor","statusLabel","activeJurorIcon","inactiveJurorIcon","getProfileAttributes","scale","SIZES","Loading","center","Row","isLabelLink","gt","toNumber","ANJLockedDistribution","distribution","formattedInProcessAmount","inProcess","lockedPerDispute","d1","d2","SplitAmount","integer","fractional","graphqlClient","Client","ANJ_PRICE_QUERY","ETH_PRICE_QUERY","UNISWAP_PRECISION","SELL_TOKEN_PRECISION","useANJAmountToUsd","anjPrice","setAnjPrice","retryTimer","fetchPrice","all","toPromise","anjResults","ethResults","anjPair","pair","ethPair","anjToEthPrice","token0Price","ethToDaiPrice","useUniswapAnjPrice","convertAmount","price","rate","toFixed","Balance","mainIcon","mainIconBackground","convertedAmount","springProps","ANJIcon","tokenSymbol","LatestActivity","lockIcon","mapping","ANJLockedHelp","penaltyPct","showDistribution","onlyOneDispute","isJurorDraftedMultipleTimesSameDispute","lock","penaltyPercentage","minActiveBalanceFormatted","minLockedAmountFormatted","useHelpAttributes","hintText","Help","AccountBannerInfo","titleColor","AnimatedSpan","span","AnimatedCircle","circle","CircleGraph","strokeWidth","PI","prefix","suffix","progressValue","viewBox","cx","cy","r","stroke","strokeLinecap","strokeDasharray","strokeDashoffset","t","COURT_STATS","IconANJ","IconANT","IconDAI","useTotalActiveBalance","jurorRegistryAddress","jurorsRegistryModule","useJurorRegistrySubscription","jurorRegistryStats","totalActive","useTotalRewards","feeMovements","useTotalRewardsSubscription","rewards","totalAcumulator","reward","useCourtStats","anjActiveBalance","anjActiveBalanceError","totalANTStaked","setTotalANTStaked","antAddress","antContract","controlledTimeout","timeoutId","fetchTotalANTBalance","balanceOf","antInVault","finally","useTotalANTStakedPolling","antTotalStake","antTotalStakeError","useActiveJurorsNumber","activeJurors","activeJurorsError","totalRewards","totalRewardsError","anjFetching","antFetching","activeJurorsFetching","totalRewardsFetching","statsData","statsError","stat","DashboardContext","DashboardStateProvider","WithSubscription","jurorDrafts","balancesFetching","balanceErrors","appealsFetching","appealErrors","drafts","useJurorDraftsRewardsSubscription","jurorDraftsFetching","jurorDraftsError","useDashboardState","useANJBalances","convertedMovements","effectiveStates","isMovementEffective","effectiveStatesKey","isImmediate","updatesBalanceAt","mov1","mov2","useConvertedMovements","convertedWalletBalance","useBalanceWithMovements","convertedInactiveBalance","convertedActiveBalance","lockedDistribution","settledPenalties","lockDistribution","lockedAmount","getDraftLockAmount","locks","splice","useJurorLockedANJDistribution","convertedLockedBalance","convertedDeactivationBalance","balanceType","filteredMovements","isMovementOf","useFilteredMovements","amountNotEffective","getAmountNotEffectiveByBalance","latestMovement","totalDeactivationsNotEffective","getLatestMovementByBalance","movementTypeLock","newLockedAmount","getUpdatedLockedMovement","useJurorFirstTimeANJActivation","firstANJActivation","pause","useFirstANJActivationQuery","useJurorDrafted","currnetTermStartTime","useCurrentTermJurorDraftsSubscription","Wrapper","information","BannerWithProbability","totalActiveBalanceCurrentTerm","BannerLoadingRing","activeAmount","activeAmountNotEffective","totalPercentage","totalValue","valueAsNumber","totalValueAsNumber","lte","getPercentageBN","sub","draftingProbability","probablilityTooLow","chances","AccountBanner","isJurorDrafted","attributes","anjSpringIcon","showProbability","iconBackground","getAccountStatus","balances","gte","isHolder","isANJHolder","getTotalUnlockedActiveBalance","getTotalEffectiveInactiveBalance","BalanceModule","onRequestActivate","onRequestDeactivate","onRequestStakeActivate","onRequestWithdraw","layout","oneColumn","lockedBalanceDistribution","getTotalLockedANJDistribution","unlockedActiveBalance","effectiveInactiveBalance","inactiveANJIcon","activeANJIcon","walletIcon","invert","NoRewards","useJurorRewardsEverClaimedQuery","iconNoRewardsSvg","RewardsModule","onClaimRewards","subscriptionFees","setSubscriptionFees","jurorSubscriptionsFees","jurorShare","fetchSubscriptionFees","useJurorSubscriptionFees","anjRewards","feeRewards","useTotalFeeRewards","arbitrableFees","appealFees","totalAppealFees","totalArbitrableFees","totalSettledFees","totalSubscriptionFees","treasuryToken","treasuryBalance","totalDisputesFees","totalTreasuryFees","totalFeeRewards","handleFormSubmit","hasRewardsToClaim","showHeading","onSubmit","SubscriptionFeeRewards","totalFees","TotalFees","ANJRewards","showPositive","DisputesFeeRewards","totalArbitrableFormatted","totalAppealFormatted","totalFeesFormatted","DisputesFeeDistribution","RowFee","FeeSection","getTotalFees","fees","fee","getTotalSettledFees","ANJForm","actionLabel","maxAmount","runParentValidation","valueBN","setAmount","useSidePanelFocusOnReady","handleEditMode","editMode","handleAmountChange","newAmountBN","newAmount","parseUnits","handleOnSelectMaxValue","validateForm","errorMessage","required","ActivateANJ","onActivateANJ","fromWallet","maxAmountFormatted","validation","amountBN","WithdrawANJ","onWithdrawANJ","DeactivateANJ","onDeactivateANJ","activeBalanceAfter","AppealColateralModule","amountStaked","iconLock","TokenStats","ANJUsdValue","TokenUsdValue","usdValue","amountInUsd","setAmountInUsd","res","prices","records","priceRecord","useTokenAmountToUsd","CourtStats","stats","useSidePanel","setVisible","requestOpen","endTransition","requestClose","useJurorRewards","lastWithdrawalTime","useJurorLastWithdrawalTimeSubscription","rewarded","finalRuling","isJurorCoherent","rulingFees","coherentJurors","rulingFeesAmount","disputeFeesAmount","setOrUpdateFee","settled","isMaker","shouldAppealerBeRewarded","appealsFee","nextRoundId","nextRound","appealerFees","isTaker","totalDeposit","feesRefund","getAppealerFees","finalRoundReduction","jurorsNumber","getRoundFees","feeMapToArray","getDisputesFeesDistribution","feeMap","feeAmount","feeEntry","settledAmount","set","artbitrableFeesMap","appealFeesMap","appealFeesMapCopy","disputeFees","totalFeeAmount","appealFee","delete","arr","REQUEST_MODE","ACTIVATE","DEACTIVATE","STAKE_ACTIVATE","WITHDRAW","getRequestModeString","useDashboardLogic","panelState","appealCollaterals","useJurorAppealCollaterals","fetchingData","errorsFetching","requestPanelOpen","requestMode","setRequestMode","newMode","usePanelRequestMode","setMode","claimRewards","treasuryContract","courtTreasuryAbi","settleReward","settleAppealDeposit","withdraw","treasuryFees","feeTokenAddress","arbitrableFee","lastSettlement","pop","subscriptionFee","useRewardActions","Dashboard","onTransitionEnd","PanelComponent","DashboardWithSubscritpion","DisputeText","DisputeStatus","getStatusAttributes","DisputeOutcomeText","isFinalRuling","verbose","Icon","IconClose","useOutcomeStyle","outcomeText","refused","finalRulingToString","appealRulingToString","DisplayTime","stringPhase","CardItem","Card","DisputeCard","onSelectDispute","DisputeFilters","statusTypes","statusFilter","onStatusChange","NoFilterResults","DISPUTES_STATUS_TYPES","DISPUTES_STATUS_STRING","DISPUTES_PHASE_TYPES","DISPUTES_PHASE_STRING","NoDisputes","noDataSvg","NoMyDisputes","DisputeList","disputes","myDisputeSelected","selectedStatus","setSelectedStatus","handlePhaseChange","handleStatusChange","handleOnClearAllFilters","filteredDisputes","getFilteredDisputes","CardLayout","columnWidthMin","rowHeight","SPLIT_IPFS_REGEX","TEST_IPFS_REGEX","ipfsGet","cid","result","getIpfsCidFromUri","ipfsCid","isIPFS","cidPath","useDisputes","useDisputesSubscription","disputesPhases","d","disputesPhasesKey","useDispute","useSingleDisputeSubscription","graphFetching","graphError","processedDispute","setProcessedDispute","processDisputeData","getDisputeData","disputeData","processDispute","useProcessedDispute","disputePhase","disputePhaseKey","graphErrorMessage","disputeErrorMessage","fromGraph","processDisputableData","processRawDisputeData","agreement","defendant","plaintiff","organization","agreementIpfsCid","agreementText","agreementUrl","disputeDescription","ipfsPath","parsedDisputeData","resolvePathname","agreementTitle","disputedActionRadspec","disputedActionText","disputedActionURL","Disputes","disputesFetching","errorFetching","jurorDisputeIds","useJurorDraftQuery","jurorDisputes","handleSelectDispute","AppealPanel","onAppeal","onApproveFeeDeposit","selectedOutcome","setSelectedOutcome","feeBalance","setFeeBalance","getFeeBalance","useFeeBalanceOf","setAllowance","disputeManagerAddress","getFeeAllowance","useAppealFeeAllowance","feeAllowance","amounts","appealDeposits","setAppealDeposits","getNextRoundDetails","fetchNextRoundDetails","useAppealDeposits","appealOptions","currentOutcome","getAppealRulingOptions","handleOutcomeSelected","newOutcome","handleAppeal","appealOption","appealRuling","canAppeal","Panel","pcModalSvg","PrecedenceCampaignModal","spacing","modalWidth","modalHeight","PrecedenceCampaignBanner","bannerVisible","setBannerVisible","modalOpened","setModalOpened","closeBanner","openModal","markRead","pcDisputeId","CommitPanel","onCommit","codeSaved","setCodeSaved","codeCopied","setCodeCopied","revealService","setRevealService","code","download","today","blob","Blob","saveAs","useOneTimeCode","handleCommit","enabled","saveAutoRevealPreference","handleDownloadCode","handleCopyCode","handleRevealService","onDownload","onCopy","onRevealServiceChange","commitEndTime","copiedOrSaved","OneTimeCode","handleCopy","execCommand","IconOneTimeCode","multiline","readOnly","IconDownload","IconCopy","RevealService","InfoSection","ERROR_TYPES","ERROR_FETCHING_IPFS","ERROR_UNKNOWN_METADATA_TYPE","ErrorLoadingEvidence","Markdown","remark","use","remark2react","remarkReactComponents","processSync","contents","DisputeEvidences","evidence","submitter","Accordion","folderIcon","submitterLabel","getSubmitterLabel","EvidenceContent","Evidences","rawEvidences","setEvidences","fetchingEvidences","setFetchingEvidences","evidencesCache","fetchEvidence","rawEvidence","uriOrData","baseEvidence","rawMetadata","evidenceProcessed","actionContext","_evidence","evidenceA","evidenceB","updateEvidences","useEvidences","DisputeAppeal","onRequestAppeal","handleRequestAppeal","RequestAutoReveal","onAutoReveal","autoRevealPreviouslyRequested","getAutoRevealPreference","handleSubmit","DisputeAutoReveal","autoRevealRequested","setAutoRevealRequested","setLoading","pollAutoReveal","useAutoRevealPolling","DisputeDraft","onDraft","DisputeExecuteRuling","onExecuteRuling","DisputeReveal","onRequestReveal","VotingFinalRound","onRequestCommit","setActiveBalance","activeBalanceOfAt","getActiveBalanceOfAt","useActiveBalanceOfAt","canJurorVoteFinalRound","VotingActions","canJurorVote","buttonWidth","VotingButton","RefuseToVoteHint","as","DisputeVoting","isFinalRound","InformationSection","useInfoAttributes","positiveBackground","negativeBackground","finalRulingConfirmed","votingPeriodEnded","voteLeaked","IconGavelRed","hasVotedInConsensus","IconRewardsGreen","IconGavelOrange","ANJLockedMessage","ANJDiscountedMessage","ANJSlashedMessage","ANJMessage","ANJRewardsMessage","VoteInfo","formattedDate","outcomeDescription","DisputeActions","jurorHasVoted","canJurorReveal","DisputeCurrentRuling","myOutcome","myWeight","useFilteredOutcomes","filteredOutcomes","totalWeight","partialWeight","outcome1","outcome2","useOutcomeDistribution","colors","getOutcomeColor","myDistributionIndex","Distribution","percentage","renderFullLegendItem","showVotingWeightHint","showMyWeight","DescriptionStep","appName","descriptionAnnotated","lenth","childrenDescriptions","child","DisputeDetailDescription","performDisputableVotingQuery","appId","args","subgraphUrl","subgraphUrls","DISPUTABLE_SUBGRAPH_URLS","getSubgraphByAppId","disputableVotingQuery","disputableAddress","disputableActionId","disputableAppId","disputableVoting","votes","script","extractFromContract","fn","scriptPosition","disputableAppContract","VOTING_APP_IDS","disputableVotingAction","entityPath","scriptExtractor","disputableDandelionAction","disputableDandelionVotingAbi","disputableDelayAction","disputableDelayAbi","DISPUTABLE_ACTIONS","KnownArbitrables","urlBuilder","actionId","arbitrable","cachedDescriptions","ERROR_MSG","describeDisputedAction","arbitrableAddress","disputableContract","disputableAbi","evmScript","buildDisputedActionUrl","describeActionScript","executionPath","disputedActionDescription","orgSubgraphUrl","network","org","apps","describeScript","transactionRequests","buildDisputedActionRadspec","terminalActions","getTerminalActions","contextualizeExecutionPath","terminalAction","terminalActionAppAddress","app","findAppMethodFromIntent","buildDisputedActionText","transactions","transaction","flat","describeAppName","artifact","role","roles","sig","capitalize","appAddress","isArbitrableKnown","buildArbitrableUrl","_networkType","buildClientUrl","ipfsUrl","line","word","isIpfsHash","FinalJuryOutcome","voteWinningOutcome","DisputedAction","isFinalRulingEnsured","ActionTextComponent","DisputedActionNA","DisputeInfoContent","creator","disputedAction","setDisputedAction","describeDispute","useDisputedAction","useDisputeFields","DisputeVoided","iconWarningSvg","DisputeInfo","onLeak","isDisputeVoided","DisputeHeader","txHash","iconCourt","TransactionBadge","DisputeRoundPill","Step","stepPoint","displayPoint","Stepper","lineColor","lineExtraHeight","lineTop","lineWidth","stepVerticalPadding","IconFlag","IconFlagActive","inactive","IconFlagInactive","IconFolder","IconFolderActive","IconFolderInactive","IconUsers","IconUsersActive","IconUsersInactive","IconVoting","IconVotingActive","IconVotingInactive","IconThinking","IconThinkingActive","IconThinkingInactive","IconRuling","IconRulingActive","IconRulingInactive","IconRewards","IconRewardsActive","IconRewardsInactive","useDisputeTimeline","timeLine","endTime","roundPhases","isCurrentRound","votingEndTerm","confirmAppealEndTerm","roundAppealed","roundAppealConfirmed","roundPhasesAndTime","showOutcome","currentPhaseIndex","getRoundPhasesAndTime","reverse","Timeline","timeline","roundIndex","roundItem","phaseIndex","ItemStep","StyledAccordion","IconGavelNoFill","roundStepContainer","PhaseIcon","Outcome","OutcomePoint","DisputeTimeline","disputeTimeLine","NoEvidence","noEvidenceSvg","RevealPanel","onReveal","setPassword","handlePasswordChange","validatePassword","handleReveal","NO_REQUEST","COMMIT","REVEAL","APPEAL","useDisputeLogic","disputeFetching","DisputeDetail","match","evidenceList","handleBack","DisputeInfoComponent","Bar","BackButton","timelineErrorSvg","PanelTitle","Routes","exact","component","App","Main","assetsUrl","scrollView","ToastHub","ACTIVITY_KEY_REGEX","RegExp","satisifesRange","version","fromVersion","toVersion","semverSatisfies","MIGRATIONS","activityKey","initSentry","dsn","release","lastVersion","currentVersion","packageVersion","lastPackageVersion","semverDiff","setPackageVersion","migration","checkMigrations","GlobalStyle","createGlobalStyle","ReactDOM","render","client","setClient","setAppearance","setTheme","newAppearance","setClientTheme","getElementById"],"mappings":"2HAAAA,EAAOC,QAAU,IAA0B,gD,kCCA3CD,EAAOC,QAAU,IAA0B,+C,gDCA3CD,EAAOC,QAAU,IAA0B,2C,mBCA3CD,EAAOC,QAAU,IAA0B,0C,mCCA3CD,EAAOC,QAAU,IAA0B,+C,iBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,4nDCA3CD,EAAOC,QAAU,IAA0B,yD,gBCA3CD,EAAOC,QAAU,IAA0B,yD,gBCA3CD,EAAOC,QAAU,IAA0B,uD,gBCA3CD,EAAOC,QAAU,IAA0B,2C,gBCA3CD,EAAOC,QAAU,IAA0B,+B,gBCA3CD,EAAOC,QAAU,IAA0B,+B,gBCA3CD,EAAOC,QAAU,IAA0B,+B,gBCA3CD,EAAOC,QAAU,IAA0B,+B,gBCA3CD,EAAOC,QAAU,IAA0B,+B,iBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,6C,2ECA3CD,EAAOC,QAAU,IAA0B,6C,uBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,kC,mBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,+C,gBCA3CD,EAAOC,QAAU,IAA0B,2C,gBCA3CD,EAAOC,QAAU,IAA0B,8C,eCA3CD,EAAOC,QAAU,0jW,gBCAjBD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,cCA3CD,EAAOC,QAAU,kgI,gBCAjBD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,iBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,8C,0wBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,sD,gBCA3CD,EAAOC,QAAU,IAA0B,sD,gBCA3CD,EAAOC,QAAU,IAA0B,0D,gBCA3CD,EAAOC,QAAU,IAA0B,iD,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,gD,gBCA3CD,EAAOC,QAAU,IAA0B,gD,gBCA3CD,EAAOC,QAAU,IAA0B,qD,gBCA3CD,EAAOC,QAAU,IAA0B,qD,gBCA3CD,EAAOC,QAAU,IAA0B,sD,gBCA3CD,EAAOC,QAAU,IAA0B,sD,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,8C,gBCA3CD,EAAOC,QAAU,IAA0B,8C,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,2C,gBCA3CD,EAAOC,QAAU,IAA0B,2C,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,2C,gBCA3CD,EAAOC,QAAU,IAA0B,2C,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,+C,gBCA3CD,EAAOC,QAAU,IAA0B,+C,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,+C,gBCA3CD,EAAOC,QAAU,IAA0B,+C,gBCA3CD,EAAOC,QAAU,IAA0B,+C,gBCA3CD,EAAOC,QAAU,IAA0B,+C,gBCA3CD,EAAOC,QAAU,IAA0B,iD,gBCA3CD,EAAOC,QAAU,IAA0B,iD,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,+C,gBCA3CD,EAAOC,QAAU,IAA0B,+C,gBCA3CD,EAAOC,QAAU,IAA0B,8C,gBCA3CD,EAAOC,QAAU,IAA0B,8C,gBCA3CD,EAAOC,QAAU,IAA0B,gD,gBCA3CD,EAAOC,QAAU,IAA0B,gD,gBCA3CD,EAAOC,QAAU,IAA0B,8C,gBCA3CD,EAAOC,QAAU,IAA0B,8C,gBCA3CD,EAAOC,QAAU,IAA0B,gD,gBCA3CD,EAAOC,QAAU,IAA0B,gD,gBCA3CD,EAAOC,QAAU,IAA0B,8C,gBCA3CD,EAAOC,QAAU,IAA0B,8C,gBCA3CD,EAAOC,QAAU,IAA0B,gD,gBCA3CD,EAAOC,QAAU,IAA0B,gD,gBCA3CD,EAAOC,QAAU,IAA0B,+C,gBCA3CD,EAAOC,QAAU,IAA0B,+C,gBCA3CD,EAAOC,QAAU,IAA0B,iD,gBCA3CD,EAAOC,QAAU,IAA0B,iD,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,8C,gBCA3CD,EAAOC,QAAU,IAA0B,8C,gBCA3CD,EAAOC,QAAU,IAA0B,+C,gBCA3CD,EAAOC,QAAU,IAA0B,+C,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,8C,gBCA3CD,EAAOC,QAAU,IAA0B,8C,gBCA3CD,EAAOC,QAAU,IAA0B,kD,gBCA3CD,EAAOC,QAAU,IAA0B,gD,gBCA3CD,EAAOC,QAAU,IAA0B,gD,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,gD,iBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,iBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,+C,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,2C,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,2C,iBCA3CD,EAAOC,QAAU,IAA0B,6C,kBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,8C,+ZCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,4C,gBCA3CD,EAAOC,QAAU,IAA0B,8C,gBCA3CD,EAAOC,QAAU,IAA0B,8C,gBCA3CD,EAAOC,QAAU,IAA0B,gD,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,+C,gBCA3CD,EAAOC,QAAU,IAA0B,8C,gBCA3CD,EAAOC,QAAU,IAA0B,gD,gBCA3CD,EAAOC,QAAU,IAA0B,gD,gBCA3CD,EAAOC,QAAU,IAA0B,kD,gBCA3CD,EAAOC,QAAU,IAA0B,8C,gBCA3CD,EAAOC,QAAU,IAA0B,gD,gBCA3CD,EAAOC,QAAU,IAA0B,+C,gBCA3CD,EAAOC,QAAU,IAA0B,iD,gBCA3CD,EAAOC,QAAU,IAA0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","file":"static/js/main.afcdeceb.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/emailNotifications.8ce6c1e8.svg\";","module.exports = __webpack_public_path__ + \"static/media/activity-icon-anj.a3f63109.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconNoRewards.41f25fcd.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconGavelRed.55e878e4.svg\";","module.exports = __webpack_public_path__ + \"static/media/emailIllustration.7d4ec2e0.svg\";","module.exports = __webpack_public_path__ + \"static/media/noData.deb5ff46.svg\";","module.exports = __webpack_public_path__ + \"static/media/noDraft.dcb1da3d.svg\";","module.exports = __webpack_public_path__ + \"static/media/noResults.657dc6c1.svg\";","module.exports = __webpack_public_path__ + \"static/media/errorLoading.29cc3d37.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconANJ.afce1888.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconLock.eca11396.svg\";","module.exports = __webpack_public_path__ + \"static/media/activity-icon-appeal-ruling.56202b99.svg\";","module.exports = __webpack_public_path__ + \"static/media/activity-icon-claim-rewards.f2107deb.svg\";","module.exports = __webpack_public_path__ + \"static/media/activity-icon-commit-vote.d43bfc0c.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconHNYSpring.c424afcf.svg\";","module.exports = __webpack_public_path__ + \"static/media/1.af029b94.png\";","module.exports = __webpack_public_path__ + \"static/media/2.06fc2c78.png\";","module.exports = __webpack_public_path__ + \"static/media/3.72790217.png\";","module.exports = __webpack_public_path__ + \"static/media/4.62ff6ef8.png\";","module.exports = __webpack_public_path__ + \"static/media/5.8960664f.png\";","module.exports = __webpack_public_path__ + \"static/media/PCModal.24c158d8.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconGavelOrange.1c68a046.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconGavelNoFill.f456f340.svg\";","module.exports = __webpack_public_path__ + \"static/media/globalError.f40faa0f.svg\";","module.exports = __webpack_public_path__ + \"static/media/backgroundError.72fe7350.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.fd451f4f.svg\";","module.exports = __webpack_public_path__ + \"static/media/HeaderLogo.ade514c6.svg\";","module.exports = __webpack_public_path__ + \"static/media/dashboardMenuIcon.4092c6bf.svg\";","module.exports = __webpack_public_path__ + \"static/media/tasksMenuIcon.fed59f5b.svg\";","module.exports = __webpack_public_path__ + \"static/media/disputesMenuIcon.4f51ae9f.svg\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/Cipher.ecd0fe37.png\";","module.exports = __webpack_public_path__ + \"static/media/Metamask.200daea3.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/wallet.8b59da46.svg\";","module.exports = __webpack_public_path__ + \"static/media/Fortmatic.7282e207.svg\";","module.exports = __webpack_public_path__ + \"static/media/Portis.a0d89dea.svg\";","module.exports = __webpack_public_path__ + \"static/media/loading-ring.289ee3ab.svg\";","module.exports = __webpack_public_path__ + \"static/media/connection-error.b0d95315.png\";","module.exports = __webpack_public_path__ + \"static/media/LogoAccent.be26c673.svg\";","module.exports = __webpack_public_path__ + \"static/media/activity-icon-court-logo.be26c673.svg\";","module.exports = __webpack_public_path__ + \"static/media/activity-icon-draft-jury.15066a24.svg\";","module.exports = __webpack_public_path__ + \"static/media/activity-icon-execute-ruling.8fe51c4a.svg\";","module.exports = __webpack_public_path__ + \"static/media/activity-no-results.c7eb6a5d.png\";","module.exports = __webpack_public_path__ + \"static/media/AccountError.b1634135.svg\";","module.exports = __webpack_public_path__ + \"static/media/AccountError.4ecb0312.svg\";","module.exports = __webpack_public_path__ + \"static/media/Comments.987387dc.svg\";","module.exports = __webpack_public_path__ + \"static/media/Comments.09208915.svg\";","module.exports = __webpack_public_path__ + \"static/media/Email.6ddbbca4.svg\";","module.exports = __webpack_public_path__ + \"static/media/Email.09f80568.svg\";","module.exports = __webpack_public_path__ + \"static/media/EmailNotifications.7703e29c.svg\";","module.exports = __webpack_public_path__ + \"static/media/EmailNotifications.d502eb1d.svg\";","module.exports = __webpack_public_path__ + \"static/media/EmailVerificationFailed.47590240.png\";","module.exports = __webpack_public_path__ + \"static/media/EmailVerificationFailed.d7c0a2ea.svg\";","module.exports = __webpack_public_path__ + \"static/media/EmailVerificationSuccess.8c0473ec.svg\";","module.exports = __webpack_public_path__ + \"static/media/EmailVerificationSuccess.9998155b.svg\";","module.exports = __webpack_public_path__ + \"static/media/Error.4edce4b6.svg\";","module.exports = __webpack_public_path__ + \"static/media/Error.1a0b1b9b.svg\";","module.exports = __webpack_public_path__ + \"static/media/ErrorBackground.d69bad63.svg\";","module.exports = __webpack_public_path__ + \"static/media/ErrorBackground.9fb3212c.svg\";","module.exports = __webpack_public_path__ + \"static/media/HomeBanner.e0d56918.png\";","module.exports = __webpack_public_path__ + \"static/media/HomeBanner.f5a941fd.png\";","module.exports = __webpack_public_path__ + \"static/media/IconActivityHNY.126bd2f3.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconActivityHNY.3f286a40.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconActivityLogo.0bfca238.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconActivityLogo.970a52f2.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconArrow.87d9ff5f.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconArrow.457d9dda.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconDarkMode.c6087819.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconDarkMode.ec6cbcac.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconHNYActive.66f674d6.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconHNYActive.ba813e01.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconHNYInactive.58d1cd7f.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconHNYInactive.50741ca1.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconHNYLoader.494a3756.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconHNYLoader.3bb1162b.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconNetwork.82ca6e33.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconNetwork.8fa40783.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconNotifications.c14a1555.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconNotifications.dff1478f.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconStarsActive.187e8131.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconStarsActive.e8a83869.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconStarsInactive.0b2723ee.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconStarsInactive.dcce0f09.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconCommentActive.446851ee.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconCommentActive.837b1950.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconCommentInactive.0093fe01.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconCommentInactive.3b432738.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconUsersActive.6d753cbf.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconUsersActive.f1201331.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconUsersInactive.b1bdd477.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconUsersInactive.5b3fbafb.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconVotingActive.6345e984.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconVotingActive.e9f4c877.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconVotingInactive.214ac223.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconVotingInactive.f3400507.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconAppealActive.4b45baa0.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconAppealActive.10b80253.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconAppealInactive.eb19d947.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconAppealInactive.860d47fd.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconRulingActive.d2a97b84.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconRulingActive.7a5e0072.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconRulingInactive.b7197a28.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconRulingInactive.071ad87e.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconRewardsActive.b1a458ef.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconRewardsActive.36322275.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconRewardsInactive.0ae74a60.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconRewardsInactive.5d77b8dd.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconRewards.2278b085.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconRewards.8cb9dd1e.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconStar.ddf12f54.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconStar.3855eff3.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconVotingFailed.bddd8fb7.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconVotingFailed.11648345.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconVotingSuccess.c5211737.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconVotingSuccess.ced9abb0.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconUser.19630e6e.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconUser.c9ee8af5.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconWallet.b1857340.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconWallet.9c9ecf8c.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconWarp.1a042ac7.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconWarp.f033709d.svg\";","module.exports = __webpack_public_path__ + \"static/media/Loading.6dcc177e.svg\";","module.exports = __webpack_public_path__ + \"static/media/Loading.2183ec23.svg\";","module.exports = __webpack_public_path__ + \"static/media/HeaderLogo.29b47139.svg\";","module.exports = __webpack_public_path__ + \"static/media/HeaderLogo.a2a8104c.svg\";","module.exports = __webpack_public_path__ + \"static/media/NoData.29450de8.svg\";","module.exports = __webpack_public_path__ + \"static/media/NoData.4b93db9e.svg\";","module.exports = __webpack_public_path__ + \"static/media/NoDraft.f3515ed0.svg\";","module.exports = __webpack_public_path__ + \"static/media/NoDraft.53a347ac.svg\";","module.exports = __webpack_public_path__ + \"static/media/NoResults.733d0e77.svg\";","module.exports = __webpack_public_path__ + \"static/media/NoResults.a6b704be.svg\";","module.exports = __webpack_public_path__ + \"static/media/SignatureFailed.6263fb3b.svg\";","module.exports = __webpack_public_path__ + \"static/media/SignatureFailed.fcb37800.svg\";","module.exports = __webpack_public_path__ + \"static/media/SignatureSuccess.08e24055.svg\";","module.exports = __webpack_public_path__ + \"static/media/SignatureSuccess.a997de3f.svg\";","module.exports = __webpack_public_path__ + \"static/media/notificationsSuccess.8c0473ec.svg\";","module.exports = __webpack_public_path__ + \"static/media/notificationsError.47590240.png\";","module.exports = __webpack_public_path__ + \"static/media/signRequestSuccess.a709a8d3.svg\";","module.exports = __webpack_public_path__ + \"static/media/signRequestFail.93a8477f.svg\";","module.exports = __webpack_public_path__ + \"static/media/signRequestLoading.5ad6ac4f.gif\";","module.exports = __webpack_public_path__ + \"static/media/arrow.87d9ff5f.svg\";","module.exports = __webpack_public_path__ + \"static/media/Welcome.f2b54f5f.png\";","module.exports = __webpack_public_path__ + \"static/media/Loading.1214dcab.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconJurorInactive.c20f3798.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconJurorActive.0830a204.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconANT.dd72ba2e.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconDAI.be0d3431.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconANJSpring.75c3a194.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconWallet.5c52ee77.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconANJInactive.90b844cc.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconANJActive.29cb06ba.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconOneTimeCode.8490edb2.svg\";","module.exports = __webpack_public_path__ + \"static/media/folderIcon.74dc3633.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconRewardsGreen.4c8e361b.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconWarning.87f4926f.svg\";","module.exports = __webpack_public_path__ + \"static/media/courtIcon.39815df9.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconFlagActive.1445650e.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconFlagInactive.226eb1d9.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconFolderActive.a93c6aa7.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconFolderInactive.ab379117.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconUsersActive.017d1149.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconUsersInactive.543e55d2.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconVotingActive.afe8020d.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconVotingInactive.d54e1b24.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconThinkingActive.b5897ebd.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconThinkingInactive.90e54ab3.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconRulingActive.ab3b45c9.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconRulingInactive.07e2a7ef.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconRewardsActive.0b538fa5.svg\";","module.exports = __webpack_public_path__ + \"static/media/IconRewardsInactive.d810fe59.svg\";","module.exports = __webpack_public_path__ + \"static/media/noEvidence.9913e548.svg\";","module.exports = __webpack_public_path__ + \"static/media/timelineError.685d7eba.svg\";","export default {\n  light: {\n    _name: 'court',\n    _appearance: 'light',\n\n    accent: '#FF9780',\n    accentStart: '#FFB36D',\n    accentEnd: '#FF8888',\n    accentContent: '#FFFFFF',\n\n    secborder: '#ffffff',\n    selected: '#FF9780',\n    selectedContent: '#FFFFFF',\n    selectedDisabled: '#C4CDD5',\n\n    tagIndicator: '#FFF5F1',\n    tagIndicatorContent: '#CD625C',\n\n    tagActivity: '#FF9780',\n    tagActivityContent: '#FFFFFF',\n    otherborder: '#25262b',\n    secsurface: '#fff',\n\n    surfaceOpened: '#FF8D86',\n  },\n  dark: {\n    _name: 'court',\n    _appearance: 'dark',\n    background: '#1f283b',\n    border: '#2c3a58',\n    overlay: '#28334c',\n    content: '#FFFFFF',\n    contentSecondary: '#7c99d6',\n    surface: '#35425e',\n    surfaceContent: '#FFFFFF',\n    surfaceContentSecondary: '#7c99d6',\n    surfaceIcon: '#6683c3',\n    surfaceUnder: '#2d3954',\n    surfaceOpened: '#7c99d6',\n    surfaceSelected: '#405071',\n    surfaceHighlight: '#405071',\n    surfacePressed: '#3f4e6d',\n    surfaceInteractive: '#405071',\n    feedbackSurface: '#4c5d82',\n    feedbackSurfaceContent: '#212B36',\n    feedbackSurfaceContentSecondary: '#637381',\n    warning: '#ffa410',\n    warningSurface: '#656569',\n    warningSurfaceContent: '#ffa410',\n    info: '#00d2ff',\n    infoSurface: '#415279',\n    infoSurfaceContent: '#18d4fb',\n    help: '#7C80F2',\n    helpContent: '#FFFFFF',\n    helpSurface: '#FFFFFF',\n    helpSurfaceContent: '#212B36',\n    negative: '#FF6969',\n    negativeContent: '#FFFFFF',\n    negativeSurface: '#655c72',\n    negativeSurfaceContent: '#ff5454',\n    positive: '#2cc68f',\n    positiveContent: '#FFFFFF',\n    positiveSurface: '#35585e',\n    positiveSurfaceContent: '#1B8962',\n    badge: '#415279',\n    badgeContent: '#ffffff',\n    badgePressed: '#4c5d82',\n    tagIdentifier: '#564090',\n    tagIdentifierContent: '#b6a1ff',\n    tagNew: '#35585e',\n    tagNewContent: '#2cc68f',\n    tagIndicator: '#415279',\n    tagIndicatorContent: '#00d3ff',\n    tagActivity: '#00d2ff',\n    tagActivityContent: '#FFFFFF',\n    hint: '#6683c3',\n    link: '#0ca5ff',\n    focus: '#0ca5ff',\n    selected: '#08BEE5',\n    selectedContent: '#FFFFFF',\n    selectedDisabled: '#212B36',\n    disabled: '#3f4e6f',\n    disabledContent: '#8497bf',\n    disabledIcon: '#6683c3',\n    control: '#57698c',\n    controlBorder: '#2c3a58',\n    controlBorderPressed: '#65779a',\n    controlDisabled: '#3f4e6f',\n    controlSurface: '#F9FAFC',\n    controlUnder: '#F1F3F7',\n    accent: '#08BEE5',\n    accentStart: '#32fff5',\n    accentEnd: '#08BEE5',\n    accentContent: '#FFFFFF',\n    floating: '#1c2539',\n    floatingContent: '#FFFFFF',\n    green: '#9BC75A',\n    yellow: '#F7D858',\n    red: '#F08658',\n    blue: '#3E7BF6',\n    brown: '#876559',\n    purple: '#7C80F2',\n  },\n}\n","import gql from 'graphql-tag'\n\nexport const OpenTasks = gql`\n  query OpenTasks($state: [Int]) {\n    adjudicationRounds(\n      where: { stateInt_in: $state }\n      orderBy: createdAt\n      orderDirection: asc\n    ) {\n      number\n      stateInt\n      createdAt\n      draftTermId\n      delayedTerms\n      jurors {\n        id\n        commitment\n        outcome\n        juror {\n          id\n        }\n      }\n      appeal {\n        id\n        opposedRuling\n      }\n      dispute {\n        id\n        state\n        rounds {\n          id\n        }\n      }\n    }\n  }\n`\n","import gql from 'graphql-tag'\n\nexport const CourtConfig = gql`\n  query CourtConfig($id: ID!) {\n    courtConfig(id: $id) {\n      id\n      currentTerm\n      termDuration\n      feeToken {\n        id\n        name\n        symbol\n        decimals\n      }\n      anjToken {\n        id\n        name\n        symbol\n        decimals\n      }\n      jurorFee\n      draftFee\n      settleFee\n\n      evidenceTerms\n      commitTerms\n      revealTerms\n      appealTerms\n      appealConfirmationTerms\n      terms {\n        id\n        startTime\n      }\n      finalRoundReduction\n      firstRoundJurorsNumber\n      appealStepFactor\n      maxRegularAppealRounds\n      appealCollateralFactor\n      appealConfirmCollateralFactor\n      minActiveBalance\n      penaltyPct\n      subscriptions {\n        id\n        currentPeriod\n        periodDuration\n        periods {\n          id\n          collectedFees\n        }\n      }\n      modules {\n        type\n        address\n      }\n      terms {\n        id\n        startTime\n      }\n    }\n  }\n`\nexport const JurorsRegistryModule = gql`\n  query JurorsRegistryModule($id: ID!) {\n    jurorsRegistryModule(id: $id) {\n      id\n      totalStaked\n      totalActive\n    }\n  }\n`\n\nexport const FeeMovements = gql`\n  query FeeMovements {\n    feeMovements(where: { type_not: Withdraw }) {\n      id\n      type\n      amount\n      createdAt\n    }\n  }\n`\n","import gql from 'graphql-tag'\n\nexport const AllDisputes = gql`\n  query AllDisputes($limit: Int) {\n    disputes(first: $limit, orderBy: createdAt, orderDirection: desc) {\n      id\n      finalRuling\n      lastRoundId\n      state\n      metadata\n      disputable {\n        title\n      }\n      rounds {\n        id\n        state\n        number\n        draftTermId\n        delayedTerms\n        jurors {\n          juror {\n            id\n          }\n          commitment\n          outcome\n        }\n\n        appeal {\n          id\n        }\n      }\n    }\n  }\n`\n\nexport const SingleDispute = gql`\n  query SingleDispute($id: ID!) {\n    dispute(id: $id) {\n      id\n      txHash\n      createTermId\n      possibleRulings\n      finalRuling\n      lastRoundId\n      state\n      metadata\n      disputable {\n        actionId\n        address\n        agreement\n        actionContext\n        defendant\n        disputableActionId\n        organization\n        plaintiff\n        title\n      }\n      createdAt\n      subject {\n        id\n      }\n      evidences {\n        id\n        submitter\n        data\n        createdAt\n      }\n      subject {\n        id\n      }\n      rounds {\n        id\n        state\n        number\n        draftTermId\n        jurorsNumber\n        settledPenalties\n        jurorFees\n        delayedTerms\n        selectedJurors\n        coherentJurors\n        collectedTokens\n        createdAt\n        jurors {\n          juror {\n            id\n          }\n          weight\n          commitment\n          commitmentDate\n          outcome\n          revealDate\n        }\n        vote {\n          id\n          winningOutcome\n        }\n        appeal {\n          id\n          maker\n          appealedRuling\n          taker\n          opposedRuling\n          settled\n          createdAt\n          confirmedAt\n        }\n      }\n    }\n  }\n`\n","import gql from 'graphql-tag'\n\nexport const AppealsByMaker = gql`\n  query AppealsByMaker($maker: Bytes!) {\n    appeals(where: { maker: $maker }) {\n      id\n      round {\n        number\n        settledPenalties\n        dispute {\n          id\n          finalRuling\n          lastRoundId\n          rounds {\n            jurorsNumber\n            number\n          }\n        }\n      }\n      maker\n      appealedRuling\n      appealDeposit\n      opposedRuling\n      confirmAppealDeposit\n      settled\n      settledAt\n    }\n  }\n`\n\nexport const AppealsByTaker = gql`\n  query AppealsByTaker($taker: Bytes!) {\n    appeals(where: { taker: $taker }) {\n      id\n      round {\n        number\n        settledPenalties\n        dispute {\n          id\n          finalRuling\n          lastRoundId\n          rounds {\n            jurorsNumber\n            number\n          }\n        }\n      }\n      appealedRuling\n      appealDeposit\n      taker\n      opposedRuling\n      confirmAppealDeposit\n      settled\n      settledAt\n    }\n  }\n`\n","import gql from 'graphql-tag'\n\nexport const JurorANJWalletBalance = gql`\n  query JurorANJWalletBalance($id: ID!) {\n    anjbalance(id: $id) {\n      amount\n    }\n  }\n`\n\nexport const JurorANJBalances = gql`\n  query JurorANJBalances($id: ID!, $from: BigInt!) {\n    juror(id: $id) {\n      activeBalance\n      lockedBalance\n      availableBalance\n      deactivationBalance\n      withdrawalsLockTermId\n      anjMovements(\n        orderBy: createdAt\n        orderDirection: desc\n        where: { createdAt_gt: $from }\n      ) {\n        amount\n        effectiveTermId\n        createdAt\n        type\n      }\n      claimedSubscriptionFees {\n        id\n        period {\n          id\n        }\n      }\n    }\n  }\n`\n\nexport const JurorTreasuryBalances = gql`\n  query JurorTreasuryBalances($owner: Bytes!) {\n    treasuryBalances(where: { owner: $owner }) {\n      token {\n        id\n      }\n      amount\n    }\n  }\n`\n\nexport const JurorFirstANJActivationMovement = gql`\n  query JurorFirstANJActivationMovement($id: ID!) {\n    juror(id: $id) {\n      anjMovements(\n        where: { type: \"Activation\" }\n        orderBy: createdAt\n        orderDirection: asc\n        first: 1\n      ) {\n        amount\n        effectiveTermId\n        createdAt\n        type\n      }\n    }\n  }\n`\n","import gql from 'graphql-tag'\n\n// All juror drafts by juror with address `id`\nexport const JurorDraftsRewards = gql`\n  query JurorDraftsRewards($id: ID!) {\n    juror(id: $id) {\n      id\n      drafts {\n        id\n        rewarded\n        rewardedAt\n        weight\n        outcome\n        round {\n          number\n          coherentJurors\n          collectedTokens\n          jurorFees\n          settledPenalties\n          draftTermId\n          dispute {\n            id\n            finalRuling\n          }\n        }\n      }\n    }\n  }\n`\n\n// Jurors drafts for juror with id `$id` created since `$from`\nexport const JurorDraftsFrom = gql`\n  query JurorDraftsFrom($id: ID!, $from: BigInt!) {\n    juror(id: $id) {\n      id\n      drafts(where: { createdAt_gt: $from }) {\n        id\n        createdAt\n      }\n    }\n  }\n`\n\n// All juror drafts for juror with id `id`\n// Useful query to know all disputes that the juror by `$id` is part of\nexport const JurorDrafts = gql`\n  query JurorDrafts($id: ID!) {\n    juror(id: $id) {\n      id\n      drafts {\n        id\n        round {\n          id\n          dispute {\n            id\n          }\n        }\n      }\n    }\n  }\n`\n","import { utils as EthersUtils, BigNumber } from 'ethers'\n\nexport function bigNum(value) {\n  return BigNumber.from(value)\n}\n\nexport function formatTokenAmount(\n  amount,\n  isIncoming,\n  decimals = 0,\n  displaySign = false\n) {\n  return (\n    (displaySign ? (isIncoming ? '+' : '-') : '') +\n    formatUnits(amount, { digits: decimals })\n  )\n}\n\n/**\n * Format a decimal-based number back to a normal number\n *\n * @param {string} value the number\n * @param {number} digits number of decimal places\n * @returns {BN} value converted to it's normal representation\n */\nexport function parseUnits(value, digits) {\n  return EthersUtils.parseUnits(value, digits)\n}\n\n/**\n * Format an amount of units to be displayed.\n *\n * @param {BigNumber} value Amount of units to format.\n * @param {Number} options.digits Amount of digits on the token.\n * @param {Boolean} options.commas Use comma-separated groups.\n * @param {Boolean} options.replaceZeroBy The string to be returned when value is zero.\n * @param {Boolean} options.precision The precision of the resulting number\n * @returns {String} value formatted\n */\nexport function formatUnits(\n  value,\n  { digits = 18, commas = true, replaceZeroBy = '0', precision = 2 } = {}\n) {\n  if (value.lt(0) || digits < 0) {\n    return ''\n  }\n\n  let valueBeforeCommas = EthersUtils.formatUnits(value.toString(), digits)\n\n  // Replace 0 by an empty value\n  if (valueBeforeCommas === '0.0') {\n    return replaceZeroBy\n  }\n\n  // EthersUtils.formatUnits() adds a decimal even when 0, this removes it.\n  valueBeforeCommas = valueBeforeCommas.replace(/\\.0$/, '')\n\n  const roundedValue = round(valueBeforeCommas, precision)\n\n  return commas ? EthersUtils.commify(roundedValue) : roundedValue\n}\n\n/**\n * Format an amount of units to be displayed.\n *\n * @param {String} value Value to round\n * @param {Number} precision Rounding precision\n * @returns {String} Value rounded to `precision` decimals\n */\nexport function round(value, precision = 2) {\n  let [whole, decimal] = value.split('.')\n\n  if (!decimal || decimal.length <= precision) return value\n\n  // Round and keep the last `precision` digits\n  decimal = Math.round(parseInt((decimal || '0').slice(0, precision + 2)) / 100)\n\n  return `${whole}${decimal ? `.${decimal}` : ''}`\n}\n\nconst wordNumbers = [\n  'one',\n  'two',\n  'three',\n  'four',\n  'five',\n  'six',\n  'seven',\n  'eight',\n  'nine',\n]\n\nexport function numberToWord(number) {\n  return wordNumbers[number]\n}\n\nconst ordinalNumbers = [\n  'first',\n  'second',\n  'third',\n  'fourth',\n  'fifth',\n  'sixth',\n  'seventh',\n  'eighth',\n  'ninth',\n]\n\nexport function numberToOrdinal(number) {\n  return ordinalNumbers[number - 1]\n}\n\nexport function getPercentage(value, totalValue) {\n  if (!totalValue > 0) return 0\n\n  return Math.round((value * 100) / totalValue, 2)\n}\n\nexport function getPercentageBN(value, totalValue) {\n  const valueAsNumber = Number(EthersUtils.formatUnits(value, 18))\n  const totalValueAsNumber = Number(EthersUtils.formatUnits(totalValue, 18))\n\n  const PERCENT_BN = 100\n\n  if (totalValue.lte(0)) return 0\n\n  return (valueAsNumber * PERCENT_BN) / totalValueAsNumber\n}\n\nexport function generateRandomNumber() {\n  const code = BigNumber.from(EthersUtils.randomBytes(32))\n  return code.toHexString().slice(2)\n}\n\n/**\n * Normalizes a number from another range into a value between 0 and 1.\n *\n * Identical to map(value, low, high, 0, 1)\n * Numbers outside the range are not clamped to 0 and 1, because out-of-range\n * values are often intentional and useful.\n *\n * From Processing.js\n *\n * @param {Number} aNumber The incoming value to be converted\n * @param {Number} low Lower bound of the value's current range\n * @param {Number} high Upper bound of the value's current range\n * @returns {Number} Normalized number\n */\nexport function norm(aNumber, low, high) {\n  return (aNumber - low) / (high - low)\n}\n\n/**\n * Calculates a number between two numbers at a specific increment. The\n * progress parameter is the amount to interpolate between the two values where\n * 0.0 equal to the first point, 0.1 is very near the first point, 0.5 is\n * half-way in between, etc. The lerp function is convenient for creating\n * motion along a straight path and for drawing dotted lines.\n *\n * From Processing.js\n *\n * @param {Number} progress Between 0.0 and 1.0\n * @param {Number} value1 First value\n * @param {Number} value2 Second value\n * @returns {Number} Increment value\n */\nexport function lerp(progress, value1, value2) {\n  return (value2 - value1) * progress + value1\n}\n","import dayjs from 'dayjs'\nimport isBetween from 'dayjs/plugin/isBetween'\nimport relativeTime from 'dayjs/plugin/relativeTime'\nimport utc from 'dayjs/plugin/utc'\n\nexport const SECOND = 1000\nexport const MINUTE = 60 * SECOND\nexport const HOUR = 60 * MINUTE\nexport const DAY = 24 * HOUR\n\nexport const toMs = seconds => seconds * 1000\n\nconst KNOWN_FORMATS = {\n  iso: 'YYYY-MM-DDTHH:mm:ssZ',\n  onlyDate: 'YYYY-MM-DD',\n  standard: 'YYYY-MM-DD h:mm A',\n}\n\n// dayjs plugins\ndayjs.extend(isBetween)\ndayjs.extend(relativeTime)\ndayjs.extend(utc)\n\nfunction dateFormat(date, format) {\n  return dayjs(date).format(KNOWN_FORMATS[format] || format)\n}\n\nexport function formatDuration(duration) {\n  const dayInSeconds = 86400\n  const hourInSeconds = 3600\n  const minuteInSeconds = 60\n  const units = ['day', 'hour', 'minute', 'second']\n\n  const days = Math.floor(duration / dayInSeconds)\n  const hours = Math.floor((duration % dayInSeconds) / hourInSeconds)\n  const minutes = Math.floor(\n    ((duration % dayInSeconds) % hourInSeconds) / minuteInSeconds\n  )\n  const seconds = ((duration % dayInSeconds) % hourInSeconds) % minuteInSeconds\n\n  return [days, hours, minutes, seconds]\n    .map((elem, index) =>\n      elem > 0 ? `${elem} ${units[index]}${elem > 1 ? 's' : ''}` : ''\n    )\n    .join(' ')\n    .trim()\n}\n\n// Displays the difference between two dates\nfunction getRelativeTime(from, to) {\n  return dayjs(to)\n    .from(from)\n    .replace(/minutes?/, 'min')\n    .replace(/seconds?/, 'sec')\n    .trim()\n}\n\nexport { dayjs, dateFormat, getRelativeTime }\n","export const STAKE_ACTIVATION_MOVEMENT = 'StakeActivation'\n\nexport const ANJMovement = {\n  Stake: Symbol('STAKE'),\n  Unstake: Symbol('UNSTAKE'),\n  Activation: Symbol('ACTIVATION'),\n  [STAKE_ACTIVATION_MOVEMENT]: Symbol('StakeActivation'),\n  Deactivation: Symbol('DEACTIVATION'),\n  DeactivationProcess: Symbol('DEACTIVATION_PROCESS'),\n  Lock: Symbol('LOCK'),\n  Unlock: Symbol('UNLOCK'),\n  Reward: Symbol('REWARD'),\n  Slash: Symbol('SLASH'),\n}\n\nexport const movementDirection = {\n  Incoming: Symbol('INCOMING_MOVEMENT'),\n  Outgoing: Symbol('OUTGOING_MOVEMENT'),\n  Locked: Symbol('LOCKED_MOVEMENT'),\n}\n\nconst stringMapping = {\n  [ANJMovement.Stake]: {\n    [movementDirection.Incoming]: 'Deposit',\n    [movementDirection.Outgoing]: 'Withdrawal',\n  },\n  [ANJMovement.Unstake]: {\n    [movementDirection.Incoming]: 'Deposit',\n    [movementDirection.Outgoing]: 'Withdrawal',\n  },\n  [ANJMovement.Activation]: 'Activated',\n  [ANJMovement.StakeActivation]: 'Activated',\n  [ANJMovement.Deactivation]: 'Deactivated',\n  [ANJMovement.DeactivationProcess]: 'Deactivation process',\n  [ANJMovement.Lock]: 'Locked',\n  [ANJMovement.Unlock]: 'Unlocked',\n  [ANJMovement.Reward]: 'Rewards',\n  [ANJMovement.Slash]: 'Slashed',\n}\n\nexport function convertToString(symbol, direction) {\n  const mapping = stringMapping[symbol]\n  return typeof mapping === 'object' ? mapping[direction] : mapping\n}\n\nexport const ANJBalance = {\n  Wallet: Symbol('WALLET'),\n  Inactive: Symbol('INACTIVE'),\n  Active: Symbol('ACTIVE'),\n}\n","import {\n  ANJMovement as anjMovementTypes,\n  ANJBalance as anjBalanceTypes,\n  movementDirection,\n  STAKE_ACTIVATION_MOVEMENT,\n} from '../types/anj-types'\nimport { bigNum } from '../lib/math-utils'\n\n/**\n * Function intended to group Stake and Activation movements that were created at the same time\n *  into one StakeActivation movement\n * This is needed since moving ANJ from wallet to Active Balance, two movements\n *  are performed (Wallet (stake) => InactiveBalance; Inactive balance (activate) => Active balance)\n * @param {Array} movements Array of original movements\n * @returns {Array} Resuling array of movements grouped by the logic described above\n */\nexport const groupMovements = movements => {\n  // If the juror is activating from the wallet we need to just show an incoming movement in the Active balance\n  // and an outgoing movement in the Wallet balance\n  return movements.reduce(\n    (movements, currentMovement, index, prevMovements) => {\n      const prevMovement = prevMovements[index - 1]\n\n      if (\n        index > 0 &&\n        anjMovementTypes[prevMovement.type] === anjMovementTypes.Activation &&\n        anjMovementTypes[currentMovement.type] === anjMovementTypes.Stake &&\n        prevMovement.createdAt === currentMovement.createdAt\n      ) {\n        movements[movements.length - 1].type = STAKE_ACTIVATION_MOVEMENT\n        return movements\n      }\n\n      movements.push({\n        ...currentMovement,\n        effectiveTermId: currentMovement.effectiveTermId\n          ? parseInt(currentMovement.effectiveTermId, 10)\n          : null,\n        amount: bigNum(currentMovement.amount),\n      })\n\n      return movements\n    },\n    []\n  )\n}\n\n// The intention here is to know which movements types should correspond with each balance\nexport const acceptedMovementsPerBalance = new Map([\n  [\n    anjBalanceTypes.Wallet,\n    [\n      { type: anjMovementTypes.Stake, direction: movementDirection.Outgoing },\n      { type: anjMovementTypes.Unstake, direction: movementDirection.Incoming },\n      {\n        type: anjMovementTypes.StakeActivation,\n        direction: movementDirection.Outgoing,\n      },\n    ],\n  ],\n  [\n    anjBalanceTypes.Inactive,\n    [\n      { type: anjMovementTypes.Stake, direction: movementDirection.Incoming },\n      { type: anjMovementTypes.Unstake, direction: movementDirection.Outgoing },\n      { type: anjMovementTypes.Reward, direction: movementDirection.Incoming },\n      {\n        type: anjMovementTypes.Activation,\n        direction: movementDirection.Outgoing,\n      },\n      {\n        type: anjMovementTypes.Deactivation,\n        direction: movementDirection.Incoming,\n      },\n    ],\n  ],\n  [\n    anjBalanceTypes.Active,\n    [\n      {\n        type: anjMovementTypes.StakeActivation,\n        direction: movementDirection.Incoming,\n      },\n      {\n        type: anjMovementTypes.Activation,\n        direction: movementDirection.Incoming,\n      },\n      {\n        type: anjMovementTypes.Deactivation,\n        direction: movementDirection.Outgoing,\n      },\n      {\n        type: anjMovementTypes.DeactivationProcess,\n        direction: movementDirection.Locked,\n      },\n      { type: anjMovementTypes.Lock, direction: movementDirection.Locked },\n      { type: anjMovementTypes.Unlock, direction: movementDirection.Incoming },\n      { type: anjMovementTypes.Slash, direction: movementDirection.Outgoing },\n    ],\n  ],\n])\n\nexport function isMovementOf(movements, movementType) {\n  return movements.some(movement => movement.type === movementType)\n}\n\n/**\n * Gets the direction of a movement [Incoming, Outgoing, Locked]\n * @param {Array} acceptedMovements Array of movements accepted for `movementType`\n * @param {Symbol} movementType type of movement\n * @returns {Symbol} The direction of the movement\n */\nexport function getMovementDirection(acceptedMovements, movementType) {\n  const { direction } = acceptedMovements.find(\n    elem => elem.type === movementType\n  )\n\n  return direction\n}\n\n/**\n * Tells whether a movement is effective or not\n * @param {Object} movement Movement to check effectiveness of\n * @param {Number} currentTermId Id of the current term\n * @returns {Boolean} True if the movement is effective\n */\nexport function isMovementEffective(movement, currentTermId) {\n  if (!movement.effectiveTermId) return true\n\n  return movement.effectiveTermId <= currentTermId\n}\n\nexport function getAmountNotEffectiveByMovement(movements, movementType) {\n  return movements\n    .filter(\n      mov => !mov.isEffective && anjMovementTypes[mov.type] === movementType\n    )\n    .reduce((acc, mov) => acc.add(mov.amount), bigNum(0))\n}\n\n/**\n * Gets the total amount not yet effective for a given type of balance\n * @param {Array} movements Array of movements to get the total not effective from\n * @param {Symbol} balanceType Type of balance [Wallet, Inactive, Active]\n * @returns {BigNum} Total amount not yet effective\n */\nexport function getAmountNotEffectiveByBalance(movements, balanceType) {\n  // We need to calulate the total not effective amount for the active and inactive balance\n  // Note that we don't do this for the wallet balance since all its corresponding movements are done effective inmediately\n  // Note that this assumes the termDuration is less than 24hrs\n  if (balanceType === anjBalanceTypes.Wallet) {\n    return bigNum(0)\n  }\n\n  const movementType =\n    balanceType === anjBalanceTypes.Active\n      ? anjMovementTypes.Activation\n      : anjMovementTypes.Deactivation\n\n  return getAmountNotEffectiveByMovement(movements, movementType)\n}\n\n/**\n * gets the latest movement depending on the type of balance\n * @dev Note that for the Active balance, if there are deactivation requests not yet effective\n * we must give them priority over the rest\n *\n * @param {Array} movements Array of movements to get the latest from\n * @param {Symbol} balanceType Type of balance [Wallet, Inactive, Active]\n * @returns {Object} Latest movement (if any) relative to the type of balance\n */\nexport function getLatestMovementByBalance(movements, balanceType) {\n  if (!movements.length) {\n    return null\n  }\n\n  // We have to give a special treatment to the active balance since\n  // deactivation requests that are not yet effective have more priority than the rest\n  if (balanceType === anjBalanceTypes.Active) {\n    const totalDeactivationsNotEffective = getAmountNotEffectiveByMovement(\n      movements,\n      anjMovementTypes.Deactivation\n    )\n\n    if (totalDeactivationsNotEffective.gt(0)) {\n      return {\n        amount: totalDeactivationsNotEffective,\n        type: anjMovementTypes.DeactivationProcess,\n      }\n    }\n  }\n\n  // Get the latest movement\n  let latestMovement = movements[0]\n  const latestMovementType = anjMovementTypes[latestMovement.type]\n\n  // If the latest movement for the active or inactive balance is a deactivation, we must check that the deactivation is effective\n  if (latestMovementType === anjMovementTypes.Deactivation) {\n    if (\n      balanceType === anjBalanceTypes.Inactive &&\n      !latestMovement.isEffective\n    ) {\n      // In case the deactivation is not effective, we'll get the most recent effective or immediate movement for the inactive balance\n      // Note that the array is orderer by most recent desc\n      latestMovement = movements.find(\n        movement => movement.isEffective || movement.isImmediate\n      )\n\n      if (\n        !latestMovement ||\n        anjMovementTypes[latestMovement.type] !== anjMovementTypes.Deactivation\n      ) {\n        return latestMovement\n      }\n    }\n\n    // We get here if all this conditions are given\n    // - Latest movement is a Deactivation\n    // - Latest movement is Effective\n    // - We are calculating latest movement for Active or Inactive balance\n\n    // In all these cases, we need to get all deactivations\n    // done effective on the same term as this latest movement\n    return {\n      ...latestMovement,\n      amount: getTotalEffectiveAt(\n        movements,\n        anjMovementTypes.Deactivation,\n        latestMovement.effectiveTermId\n      ),\n    }\n  }\n\n  return latestMovement\n}\n\n/**\n * Calculates the aggregated effective movements amount at term `termId`\n * @param {Array} movements Array of movements\n * @param {Symbol} movementType Type of movement\n * @param {Number} termId Id of the term\n * @returns {BigNum} Total effective movements amount at `termId`\n */\nfunction getTotalEffectiveAt(movements, movementType, termId) {\n  return movements\n    .filter(\n      movement =>\n        anjMovementTypes[movement.type] === movementType &&\n        movement.effectiveTermId === termId\n    )\n    .reduce((acc, movement) => acc.add(movement.amount), bigNum(0))\n}\n\nexport function convertMovement(acceptedMovements, movement) {\n  if (!movement) return null\n\n  const movementType =\n    typeof movement.type === 'symbol'\n      ? movement.type\n      : anjMovementTypes[movement.type]\n\n  const direction = getMovementDirection(acceptedMovements, movementType)\n\n  return {\n    type: movementType,\n    amount: movement.amount,\n    direction,\n  }\n}\n\nexport function getUpdatedLockedMovement(lockedBalance, latestMovement) {\n  if (!lockedBalance || lockedBalance.eq(0)) {\n    return latestMovement\n  }\n\n  // In the case that the juror has locked balance, we must update the active balance latest movement\n  const movementTypeLock = anjMovementTypes.Lock\n  let newLockedAmount = lockedBalance\n\n  // If active balance latest movement is a deactivation process, we must update the amount\n  if (latestMovement?.type === anjMovementTypes.DeactivationProcess) {\n    newLockedAmount = newLockedAmount.add(latestMovement.amount)\n  }\n\n  return {\n    ...latestMovement,\n    amount: newLockedAmount,\n    type: movementTypeLock,\n  }\n}\n","// rinkeby\nconst CHAIN_ID_DEFAULT = 43112\n\nconst ENV_VARS = {\n  BUILD() {\n    return process.env.REACT_APP_BUILD || 'undefined'\n  },\n  CHAIN_ID() {\n    const chainId = parseInt(process.env.REACT_APP_CHAIN_ID)\n    return isNaN(chainId) ? CHAIN_ID_DEFAULT : chainId\n  },\n  COURT_SERVER_NAME() {\n    return process.env.REACT_APP_COURT_SERVER_NAME\n  },\n  DEFAULT_ETH_NODE() {\n    return process.env.REACT_APP_DEFAULT_ETH_NODE || ''\n  },\n  FORTMATIC_API_KEY() {\n    return process.env.REACT_APP_FORTMATIC_API_KEY || ''\n  },\n  IPFS_GATEWAY() {\n    return process.env.REACT_APP_IPFS_GATEWAY || ''\n  },\n  PACKAGE_VERSION() {\n    return process.env.REACT_APP_PACKAGE_VERSION\n  },\n  PORTIS_DAPP_ID() {\n    return process.env.REACT_APP_PORTIS_DAPP_ID || ''\n  },\n  SENTRY_DSN() {\n    const dsn = process.env.REACT_APP_SENTRY_DSN || ''\n    return dsn.trim()\n  },\n  SKIP_VOIDING() {\n    return process.env.REACT_APP_SKIP_VOIDING === '1'\n  },\n  SUBGRAPH_HTTP_ENDPOINT() {\n    return process.env.REACT_APP_SUBGRAPH_HTTP_ENDPOINT || ''\n  },\n  SUBGRAPH_NAME() {\n    return process.env.REACT_APP_SUBGRAPH_NAME\n  },\n}\n\nexport default function env(name) {\n  const envVar = ENV_VARS[name]\n  return typeof envVar === 'function' ? envVar() : null\n}\n","import { getNetworkName } from './lib/web3-utils'\nimport env from './environment'\n\nexport const extendError = (name, { defaultMessage }) =>\n  class extends Error {\n    name = name\n    constructor(message = defaultMessage) {\n      super(message)\n    }\n  }\n\nexport class DisputeNotFound extends Error {\n  name = 'DisputeNotFound'\n  constructor(disputeId) {\n    super(\n      `It looks like theres no dispute associated with the DisputeID #${disputeId} on the Ethereum ${getNetworkName(\n        env('CHAIN_ID')\n      )} network.`\n    )\n    this.disputeId = disputeId\n  }\n}\n\nexport const InvalidNetworkType = extendError('InvalidNetworkType', {\n  defaultMessage: 'The network type is invalid',\n})\nexport const InvalidURI = extendError('InvalidURI', {\n  defaultMessage: 'The URI is invalid',\n})\nexport const NoConnection = extendError('NoConnection', {\n  defaultMessage: 'There is no connection',\n})\n","const httpRegex = /^https?:\\/\\//\nconst websocketRegex = /^wss?:\\/\\/.+/\n\nexport function validHttpFormat(uri) {\n  return httpRegex.test(uri)\n}\n\nexport function validWebSocketFormat(uri) {\n  return websocketRegex.test(uri)\n}\n","import env from '../environment'\nimport { providers as Providers, utils } from 'ethers'\nimport { InvalidURI, InvalidNetworkType, NoConnection } from '../errors'\nimport { validHttpFormat } from './uri-utils'\n\nconst { id: keccak256, solidityKeccak256: soliditySha3, toUtf8String } = utils\n\nexport const DEFAULT_LOCAL_CHAIN = 'private'\nexport const ETH_FAKE_ADDRESS = `0x${''.padEnd(40, '0')}`\n\nconst ETH_ADDRESS_SPLIT_REGEX = /(0x[a-fA-F0-9]{40}(?:\\b|\\.|,|\\?|!|;))/g\nconst ETH_ADDRESS_TEST_REGEX = /(0x[a-fA-F0-9]{40}(?:\\b|\\.|,|\\?|!|;))/g\n\nexport function getFunctionSignature(func) {\n  return keccak256(func).slice(0, 10)\n}\n\nexport function getUseWalletProviders() {\n  const providers = [{ id: 'injected' }]\n\n  if (env('FORTMATIC_API_KEY')) {\n    providers.push({\n      id: 'fortmatic',\n      useWalletConf: { apiKey: env('FORTMATIC_API_KEY') },\n    })\n  }\n\n  if (env('PORTIS_DAPP_ID')) {\n    providers.push({\n      id: 'portis',\n      useWalletConf: { dAppId: env('PORTIS_DAPP_ID') },\n    })\n  }\n\n  return providers\n}\n\nexport function getUseWalletConnectors() {\n  return getUseWalletProviders().reduce((connectors, provider) => {\n    if (provider.useWalletConf) {\n      connectors[provider.id] = provider.useWalletConf\n    }\n    return connectors\n  }, {})\n}\n\nfunction toChecksumAddress(address) {\n  if (!/^(0x)?[0-9a-f]{40}$/i.test(address)) {\n    throw new Error(\n      'Given address \"' + address + '\" is not a valid Ethereum address.'\n    )\n  }\n\n  address = address.toLowerCase().replace(/^0x/i, '')\n\n  const addressHash = keccak256(address).replace(/^0x/i, '')\n  let checksumAddress = '0x'\n\n  for (let i = 0; i < address.length; i++) {\n    // If ith character is 9 to f then make it uppercase\n    if (parseInt(addressHash[i], 16) > 7) {\n      checksumAddress += address[i].toUpperCase()\n    } else {\n      checksumAddress += address[i]\n    }\n  }\n\n  return checksumAddress\n}\n\n// Check address equality with checksums\nexport function addressesEqual(first, second) {\n  first = first && toChecksumAddress(first)\n  second = second && toChecksumAddress(second)\n  return first === second\n}\n\nexport const addressPattern = '(0x)?[0-9a-fA-F]{40}'\n\n/**\n * Shorten an Ethereum address. `charsLength` allows to change the number of\n * characters on both sides of the ellipsis.\n *\n * Examples:\n *   shortenAddress('0x19731977931271')    // 0x19731271\n *   shortenAddress('0x19731977931271', 2) // 0x1971\n *   shortenAddress('0x197319')            // 0x197319 (already short enough)\n *\n * @param {string} address The address to shorten\n * @param {number} [charsLength=4] The number of characters to change on both sides of the ellipsis\n * @returns {string} The shortened address\n */\nexport function shortenAddress(address, charsLength = 4) {\n  const prefixLength = 2 // \"0x\"\n  if (!address) {\n    return ''\n  }\n  if (address.length < charsLength * 2 + prefixLength) {\n    return address\n  }\n  return (\n    address.slice(0, charsLength + prefixLength) +\n    '' +\n    address.slice(-charsLength)\n  )\n}\n\nexport function getNetworkType(chainId = env('CHAIN_ID')) {\n  chainId = String(chainId)\n\n  if (chainId === '1') return 'main'\n  if (chainId === '3') return 'ropsten'\n  if (chainId === '4') return 'rinkeby'\n  if (chainId === '43112') return 'dijets'\n\n  return DEFAULT_LOCAL_CHAIN\n}\n\nexport function getNetworkName(chainId = env('CHAIN_ID')) {\n  chainId = String(chainId)\n\n  if (chainId === '1') return 'Mainnet'\n  if (chainId === '3') return 'Ropsten'\n  if (chainId === '4') return 'Rinkeby'\n  if (chainId === '43112') return 'Dijets'\n\n  return 'unknown'\n}\n\nexport function sanitizeNetworkType(networkType) {\n  if (networkType === 'private') {\n    return 'dijets'\n  } else if (networkType === 'dijets') {\n    return 'dijets'\n  }\n  return networkType\n}\n\nexport function isLocalOrUnknownNetwork(chainId = env('CHAIN_ID')) {\n  return getNetworkType(chainId) === DEFAULT_LOCAL_CHAIN\n}\n\n// Detect Ethereum addresses in a string and transform each part.\n//\n// `callback` is called on every part with two params:\n//   - The string of the current part.\n//   - A boolean indicating if it is an address.\n//\nexport function transformAddresses(str, callback) {\n  return str\n    .split(ETH_ADDRESS_SPLIT_REGEX)\n    .map((part, index) =>\n      callback(part, ETH_ADDRESS_TEST_REGEX.test(part), index)\n    )\n}\n\n/**\n * Check if the ETH node at the given URI is compatible for the current environment\n * @param {string} uri URI of the ETH node.\n * @param {string} expectedNetworkType The expected network type of the ETH node.\n * @returns {Promise} Resolves if the ETH node is compatible, otherwise throws:\n *    - InvalidURI: URI given is not compatible (e.g. must be WebSockets)\n *    - InvalidNetworkType: ETH node connected to wrong network\n *    - NoConnection: Couldn't connect to URI\n */\nexport async function checkValidEthNode(uri) {\n  const isLocalOrUnknown = isLocalOrUnknownNetwork(env('CHAIN_ID'))\n\n  if (!validHttpFormat(uri)) {\n    throw new InvalidURI('The URI must use the HTTP protocol')\n  }\n\n  try {\n    const expectedNetworkType = getNetworkType()\n    const provider = await new Providers.JsonRpcProvider(uri)\n    const networkType = await provider.getNetwork()\n    const networkTypeName =\n      networkType.name === 'homestead' ? 'main' : networkType.name\n\n    if (!isLocalOrUnknown) {\n      if (networkTypeName !== expectedNetworkType) {\n        throw new InvalidNetworkType()\n      }\n    }\n  } catch (err) {\n    if (err instanceof InvalidNetworkType) {\n      throw err\n    }\n    throw new NoConnection()\n  }\n\n  return true\n}\n\nexport async function signMessage(wallet, message) {\n  let signHash\n  let error = false\n\n  try {\n    signHash = await wallet.ethers.getSigner().signMessage(message)\n  } catch (err) {\n    error = err\n  }\n\n  return { signHash, error }\n}\n\n// ethers utils exports\nexport { keccak256, soliditySha3, toUtf8String }\n","import { bigNum } from '../lib/math-utils'\nimport { addressesEqual } from '../lib/web3-utils'\nimport { toMs } from './date-utils'\n\nexport function transformAppealDataAttributes(appeal) {\n  const {\n    appealedRuling,\n    opposedRuling,\n    appealDeposit,\n    confirmAppealDeposit,\n    round,\n    settledAt,\n  } = appeal\n\n  return {\n    ...appeal,\n    round: {\n      ...round,\n      number: parseInt(round.number, 10),\n      dispute: {\n        ...round.dispute,\n        lastRoundId: parseInt(round.dispute.lastRoundId, 10),\n        rounds: round.dispute.rounds.map(round => ({\n          ...round,\n          number: parseInt(round.number, 10),\n        })),\n      },\n    },\n    appealedRuling: parseInt(appealedRuling, 10),\n    opposedRuling: parseInt(opposedRuling, 10),\n    appealDeposit: bigNum(appealDeposit),\n    confirmAppealDeposit: bigNum(confirmAppealDeposit),\n    settledAt: toMs(parseInt(settledAt || 0, 10)),\n  }\n}\n\nexport function shouldAppealerBeRewarded(appeal, connectedAccount) {\n  const { maker, taker, appealedRuling, opposedRuling, round } = appeal\n\n  const isMaker = addressesEqual(connectedAccount, maker)\n\n  // If appealer is maker and the appeal wasn't confirmed\n  if (isMaker && !opposedRuling) {\n    return true\n  }\n\n  const { finalRuling } = round.dispute\n  // If maker && appealed for the wininig outcome\n  if (isMaker && appealedRuling === finalRuling) {\n    return true\n  }\n\n  const isTaker = addressesEqual(connectedAccount, taker)\n\n  // If taker && confirmed appealed for the winning outcome\n  if (isTaker && opposedRuling === finalRuling) {\n    return true\n  }\n\n  // Check if  none of the appealers ruled for the winning outcome\n  return appealedRuling !== finalRuling && opposedRuling !== finalRuling\n}\n\n// Assumes the appealer should be rewarded\nexport function getAppealerFees(appeal, totalFees, connectedAccount) {\n  const {\n    maker,\n    appealDeposit,\n    appealedRuling,\n    taker,\n    confirmAppealDeposit,\n    opposedRuling,\n    round,\n  } = appeal\n\n  const isMaker = addressesEqual(connectedAccount, maker)\n  const isTaker = addressesEqual(connectedAccount, taker)\n\n  // If appealer is maker and the appeal wasn't confirmed\n  if (isMaker && !opposedRuling) {\n    return appealDeposit\n  }\n\n  const { finalRuling } = round.dispute\n  const totalDeposit = appealDeposit.add(confirmAppealDeposit)\n\n  // if appealed for the wininig outcome\n  if (\n    (isMaker && appealedRuling === finalRuling) ||\n    (isTaker && opposedRuling === finalRuling)\n  ) {\n    return totalDeposit.sub(totalFees)\n  }\n\n  // Note that since we assume that the appealer should be rewarded, we can ensure\n  // that the finalRuling is different from the appealedRuling and the opossedRuling\n  const feesRefund = totalFees.div(2)\n  return (isMaker ? appealDeposit : confirmAppealDeposit).sub(feesRefund)\n}\n","import { keccak256, soliditySha3 } from '../lib/web3-utils'\nimport { bigNum } from '../lib/math-utils'\n\nexport const OUTCOMES = {\n  Missing: 0,\n  Leaked: 1,\n  Refused: 2,\n  Against: 3,\n  InFavor: 4,\n}\n\nconst VALID_OUTCOMES = [OUTCOMES.Refused, OUTCOMES.Against, OUTCOMES.InFavor]\n\nexport const VOTE_OPTION_REFUSE = OUTCOMES.Refused\nexport const VOTE_OPTION_AGAINST = OUTCOMES.Against\nexport const VOTE_OPTION_IN_FAVOR = OUTCOMES.InFavor\nexport const NOBODY_APPEALED = 'Nobody appealed'\nexport const NOBODY_CONFIRMED = 'No confirmation'\n\nconst voteOptionStringMapping = {\n  [VOTE_OPTION_REFUSE]: 'REFUSE TO VOTE',\n  [VOTE_OPTION_AGAINST]: 'BLOCK ACTION',\n  [VOTE_OPTION_IN_FAVOR]: 'ALLOW ACTION',\n}\n\nexport function voteOptionToString(outcome) {\n  return voteOptionStringMapping[outcome]\n}\n\nconst appealOptionStringMapping = {\n  [VOTE_OPTION_REFUSE]: 'Refuse',\n  [VOTE_OPTION_AGAINST]: 'Block action',\n  [VOTE_OPTION_IN_FAVOR]: 'Allow action',\n}\n\nexport function appealOptionToString(outcome) {\n  return appealOptionStringMapping[outcome]\n}\n\nconst outcomeStringMapping = {\n  [OUTCOMES.Leaked]: 'Invalid ruling',\n  [OUTCOMES.Refused]: 'Refused to vote',\n  [OUTCOMES.Against]: 'Blocked action',\n  [OUTCOMES.InFavor]: 'Allowed action',\n}\n\nexport function juryOutcomeToString(outcome) {\n  if (!outcome) {\n    return outcomeStringMapping[OUTCOMES.Refused]\n  }\n  return outcomeStringMapping[outcome]\n}\n\nconst appealRulingStringMapping = {\n  [OUTCOMES.Leaked]: 'Invalid ruling',\n  [OUTCOMES.Refused]: 'Refused',\n  [OUTCOMES.Against]: 'Blocked action',\n  [OUTCOMES.InFavor]: 'Allowed action',\n}\n\nexport function appealRulingToString(outcome, confirm) {\n  if (!outcome) {\n    return confirm ? NOBODY_CONFIRMED : NOBODY_APPEALED\n  }\n  return appealRulingStringMapping[outcome]\n}\n\nconst finalRulingStringMapping = {\n  [OUTCOMES.Leaked]: 'Invalid ruling',\n  [OUTCOMES.Refused]: 'Refused',\n  [OUTCOMES.Against]: 'Blocked action',\n  [OUTCOMES.InFavor]: 'Allowed action',\n}\n\nexport function finalRulingToString(outcome) {\n  if (!outcome) {\n    return finalRulingStringMapping[OUTCOMES.refused]\n  }\n  return finalRulingStringMapping[outcome]\n}\n\n/**\n *\n * @param {String} outcome String representation of the outcome\n * @returns {Number} corresponding outcome number\n */\nexport function getOutcomeNumber(outcome) {\n  return OUTCOMES[outcome]\n}\n\n/**\n *\n * @param {bytes} commitment vote commitment\n * @param {bytes} password password used to get the commitment\n * @returns {Number} outcome\n */\nexport function getOutcomeFromCommitment(commitment, password) {\n  return VALID_OUTCOMES.find(\n    option => hashVote(option, password) === commitment\n  )\n}\n\n/**\n * returns all possible appeal ruling options\n * @param {Number} currentOutcome current round outcome\n * @returns {Array} Array of appeal ruling options\n */\nexport function getAppealRulingOptions(currentOutcome = OUTCOMES.Refused) {\n  return VALID_OUTCOMES.filter(\n    outcome => outcome !== currentOutcome\n  ).map(outcome => ({ outcome, description: appealOptionToString(outcome) }))\n}\n\nexport function filterByValidOutcome(totalValidOutcomes) {\n  return VALID_OUTCOMES.map(outcomeFilter => {\n    return {\n      outcomes: totalValidOutcomes.filter(\n        ({ outcome }) => outcome === outcomeFilter\n      ),\n      outcome: outcomeFilter,\n    }\n  })\n}\n\nexport function getVoteId(disputeId, roundId) {\n  return bigNum(2)\n    .pow(bigNum(128))\n    .mul(bigNum(disputeId))\n    .add(bigNum(roundId))\n}\n\nexport function hashPassword(password) {\n  return keccak256(password)\n}\n\nexport function hashVote(outcome, password) {\n  return soliditySha3(['uint8', 'bytes32'], [outcome, hashPassword(password)])\n}\n\n/**\n *\n * @param {Number} outcome vote outcome\n * @returns {Boolean} True if outcome is valid\n */\nexport function isValidOutcome(outcome) {\n  return (\n    VALID_OUTCOMES[0] <= outcome &&\n    outcome <= VALID_OUTCOMES[VALID_OUTCOMES.length - 1]\n  )\n}\n\nexport function isvoteLeaked(outcome) {\n  if (!outcome) return false\n\n  return outcome === OUTCOMES.Leaked\n}\n\nexport function getTotalOutcomeWeight(outcomes) {\n  return outcomes.reduce((acc, { weight }) => acc + weight, 0)\n}\n\n// Local storage helper functions\n\n// One time codes\nexport function saveCodeInLocalStorage(\n  connectedAccount,\n  disputeId,\n  oneTimeCode\n) {\n  localStorage.setItem(\n    `oneTimeCode:${connectedAccount}:${disputeId}`,\n    oneTimeCode\n  )\n}\n\nexport function getCodeFromLocalStorage(connectedAccount, disputeId) {\n  return localStorage.getItem(`oneTimeCode:${connectedAccount}:${disputeId}`)\n}\n\nexport function removeCodeFromLocalStorage(connectedAccount, disputeId) {\n  localStorage.removeItem(`oneTimeCode:${connectedAccount}:${disputeId}`)\n}\n\n// Auto reveal service preference\nexport function getAutoRevealPreference(connectedAccount, voteId) {\n  // Auto reveal preference can be either 'true' or 'false'\n  return (\n    localStorage.getItem(`autoRevealService:${connectedAccount}:${voteId}`) ===\n    'true'\n  )\n}\n\nexport function saveAutoRevealPreference(connectedAccount, voteId, enabled) {\n  localStorage.setItem(\n    `autoRevealService:${connectedAccount}:${voteId}`,\n    enabled\n  )\n}\n","export const ERROR_TYPES = {\n  ERROR_FETCHING_IPFS: Symbol('Error fetching ipfs content'),\n}\n\nexport const Status = {\n  Open: Symbol('Open'),\n  Closed: Symbol('Closed'),\n  Voided: Symbol('Voided'),\n}\n\nexport const Phase = {\n  All: Symbol('All'),\n  Invalid: Symbol('Invalid'),\n  Adjudicating: Symbol('Adjudicating'),\n  Ruled: Symbol('Ruled'),\n  Evidence: Symbol('Evidence submission'),\n  NotStarted: Symbol('Not started'),\n  JuryDrafting: Symbol('Jury drafting'),\n  VotingPeriod: Symbol('Voting period'),\n  RevealVote: Symbol('Reveal vote'),\n  AppealRuling: Symbol('Appealing'),\n  ConfirmAppeal: Symbol('ConfirmingAppeal'),\n  ClaimRewards: Symbol('Claim rewards'),\n  Ended: Symbol('Ended'),\n  ExecuteRuling: Symbol('Execute Ruling'),\n  Created: Symbol('Dispute created'),\n}\n\nconst stringMapping = {\n  [Status.Open]: 'Open',\n  [Status.Closed]: 'Closed',\n  [Phase.All]: 'All',\n  [Phase.Evidence]: 'Adding arguments',\n  [Phase.JuryDrafting]: 'Jury drafting',\n  [Phase.NotStarted]: 'Starts in',\n  [Phase.VotingPeriod]: 'Voting period',\n  [Phase.RevealVote]: 'Reveal vote',\n  [Phase.AppealRuling]: 'Appeal ruling',\n  [Phase.ConfirmAppeal]: 'Confirm appeal',\n  [Phase.ClaimRewards]: 'Claim rewards',\n  [Phase.Invalid]: 'Invalid',\n  [Phase.Ended]: 'Ended',\n  [Phase.ExecuteRuling]: 'Execute Ruling',\n  [Phase.Created]: 'Dispute created',\n}\n\nconst endedStringMapping = {\n  [Status.Open]: 'Open',\n  [Status.Closed]: 'Closed',\n  [Phase.All]: 'All',\n  [Phase.Evidence]: 'Arguments added',\n  [Phase.JuryDrafting]: 'Jury drafted',\n  [Phase.VotingPeriod]: 'Voting period',\n  [Phase.RevealVote]: 'Vote revealed',\n  [Phase.AppealRuling]: 'Appeal ruling',\n  [Phase.ConfirmAppeal]: 'Appeal confirmed',\n  [Phase.ClaimRewards]: 'Claim rewards',\n  [Phase.Invalid]: 'Started',\n  [Phase.Ended]: 'Ended',\n  [Phase.ExecuteRuling]: 'Ruling Executed',\n  [Phase.Created]: 'Dispute created',\n}\n\nconst symbolMapping = {\n  All: Phase.All,\n  Invalid: Phase.Invalid,\n  Committing: Phase.VotingPeriod,\n  Revealing: Phase.RevealVote,\n  Drafting: Phase.JuryDrafting,\n  Adjudicating: Phase.Adjudicating,\n  Appeal: Phase.AppealRuling,\n  ConfirmAppeal: Phase.ConfirmAppeal,\n  ConfirmingAppeal: Phase.ConfirmAppeal,\n  Ruled: Phase.Ruled,\n  Evidence: Phase.Evidence,\n  ExecuteRuling: Phase.ExecuteRuling,\n  Created: Phase.Created,\n}\n\nconst taskActionsMapping = {\n  [Phase.All]: 'All',\n  [Phase.VotingPeriod]: 'Commit vote',\n  [Phase.RevealVote]: 'Reveal vote',\n  [Phase.AppealRuling]: 'Appeal ruling',\n  [Phase.ConfirmAppeal]: 'Confirm appeal',\n}\n\nexport function convertFromString(str) {\n  return symbolMapping[str]\n}\n\nexport function convertToString(symbol) {\n  return stringMapping[symbol]\n}\n\nexport function getPhaseStringForStatus(symbol, active) {\n  if (active) {\n    return stringMapping[symbol]\n  } else {\n    return endedStringMapping[symbol]\n  }\n}\n\nexport function getTaskActionString(symbol) {\n  return taskActionsMapping[symbol]\n}\n","export const CourtModuleType = {\n  AragonCourt: Symbol('COURT_MAIN_MODULE'),\n  DisputeManager: Symbol('COURT_MODULE_DISPUTE_MANAGER'),\n  JurorsRegistry: Symbol('COURT_MODULE_JURORS_REGISTRY'),\n  Voting: Symbol('COURT_MODULE_VOTING'),\n  Treasury: Symbol('COURT_MODULE_TREASURY'),\n  Subscriptions: Symbol('COURT_MODULE_SUBSCRIPTIONS'),\n}\n","import { toMs } from './date-utils'\nimport { bigNum } from '../lib/math-utils'\n\nexport function transformSubscriptionModuleDataAttributes(subscriptionModule) {\n  return {\n    ...subscriptionModule,\n    currentPeriod: parseInt(subscriptionModule.currentPeriod, 10),\n    periodDuration: toMs(parseInt(subscriptionModule.periodDuration)),\n    periods: subscriptionModule.periods.map(period => ({\n      ...period,\n      id: parseInt(period.id, 10),\n      totalActiveBalance: period.totalActiveBalance,\n      collectedFees: bigNum(period.collectedFees),\n    })),\n  }\n}\n\nexport function transformClaimedFeesDataAttributes(claimedFee) {\n  return {\n    ...claimedFee,\n    period: {\n      id: parseInt(claimedFee.period.id, 10),\n    },\n  }\n}\n\nexport function hasJurorClaimed(claimedFees, periodId) {\n  return claimedFees.some(claimedFee => claimedFee.period.id === periodId)\n}\n","import { CourtModuleType } from '../types/court-module-types'\nimport { bigNum } from '../lib/math-utils'\nimport { transformSubscriptionModuleDataAttributes } from './subscription-utils'\nimport { toMs } from './date-utils'\n\nexport function transformCourtConfigDataAttributes(courtConfig) {\n  const { subscriptions: subscriptionModule } = courtConfig\n  return {\n    ...courtConfig,\n    draftFee: bigNum(courtConfig.draftFee),\n    settleFee: bigNum(courtConfig.settleFee),\n    jurorFee: bigNum(courtConfig.jurorFee),\n    minActiveBalance: bigNum(courtConfig.minActiveBalance),\n    maxRegularAppealRounds: parseInt(courtConfig.maxRegularAppealRounds, 10),\n    termDuration: toMs(parseInt(courtConfig.termDuration, 10)),\n    currentTerm: parseInt(courtConfig.currentTerm, 10),\n    evidenceTerms: parseInt(courtConfig.evidenceTerms, 10),\n    commitTerms: parseInt(courtConfig.commitTerms, 10),\n    revealTerms: parseInt(courtConfig.revealTerms, 10),\n    appealTerms: parseInt(courtConfig.appealTerms, 10),\n    appealConfirmationTerms: parseInt(courtConfig.appealConfirmationTerms, 10),\n    terms: courtConfig.terms.map(term => ({\n      ...term,\n      startTime: toMs(parseInt(term.startTime, 10)),\n    })),\n    subscriptionModule: transformSubscriptionModuleDataAttributes(\n      subscriptionModule\n    ),\n  }\n}\n\nfunction getFirstTermStartTime(terms) {\n  if (terms.length === 0) {\n    throw new Error('Terms cannot be empty')\n  }\n\n  return terms[0].startTime\n}\n\nexport function getExpectedCurrentTermId(now, { terms, termDuration }) {\n  const firstTermStartTime = getFirstTermStartTime(terms)\n  return Math.floor((now.valueOf() - firstTermStartTime) / termDuration)\n}\n\nexport function getTermStartTime(termId, { terms, termDuration }) {\n  const firstTermStartTime = getFirstTermStartTime(terms)\n  return termId * termDuration + firstTermStartTime\n}\n\nexport function getTermEndTime(termId, { terms, termDuration }) {\n  const termStartTime = getTermStartTime(termId, { terms, termDuration })\n\n  return termStartTime + (termDuration - 1)\n}\n\nexport function getTermPeriod(termId, { terms, termDuration }) {\n  return [getTermStartTime, getTermEndTime].map(f =>\n    f(termId, { terms, termDuration })\n  )\n}\n\nexport function getModuleAddress(modules, moduleType) {\n  const courtModule = modules.find(\n    mod => CourtModuleType[mod.type] === moduleType\n  )\n\n  return courtModule ? courtModule.address : null\n}\n","import environment from './environment'\nimport { getNetworkType, isLocalOrUnknownNetwork } from './lib/web3-utils'\n\nconst SUBGRAPH_NAME = environment('SUBGRAPH_NAME')\n\nexport const RINKEBY_COURT = '0xe9180dBE762Fe39520fC9883f7f7EFeBA6506534'\n\nexport const RINKEBY_STAGING_COURT =\n  '0x52180Af656A1923024D1ACcF1D827AB85cE48878'\n\nexport const networkConfigs = {\n  main: {\n    court: '0x5955aEF707ea079d91B24B59076840830554E429',\n    network_agent: '0x5e8c17a6065c35b172b10e80493d2266e2947df4',\n    network_reserve: '0xec0dd1579551964703246becfbf199c27cb84485',\n    nodes: {\n      defaultEth: 'https://mainnet.eth.aragon.network/',\n      subgraph:\n        'https://graph.backend.aragon.org/subgraphs/name/aragon/aragon-court',\n    },\n  },\n  rinkeby: {\n    court: getRinkebyCourtAddress(SUBGRAPH_NAME),\n    nodes: {\n      defaultEth: 'https://rinkeby.eth.aragon.network/',\n      subgraph: getRinkebySubgraphUrls(SUBGRAPH_NAME),\n    },\n  },\n  dijets: {\n    court: '0x5955aEF707ea079d91B24B59076840830554E429',\n    nodes: {\n      defaultEth: 'https://dijets.uksouth.cloudapp.azure.com:443/ext/bc/C/rpc',\n      subgraph:\n        'https://graphs.centralus.cloudapp.azure.com/subgraphs/name/aragon/aragon-court-dijets',\n    },\n  },\n  ropsten: {\n    court: '0x3b26bc496aebaed5b3E0E81cDE6B582CDe71396e',\n    nodes: {\n      defaultEth: 'https://ropsten.eth.aragon.network/',\n      subgraph:\n        'https://api.thegraph.com/subgraphs/name/aragon/aragon-court-ropsten',\n    },\n  },\n  local: {\n    court: '0x9b1f7F645351AF3631a656421eD2e40f2802E6c0',\n    nodes: {\n      defaultEth: 'http://localhost:8545',\n      subgraph: 'http://127.0.0.1:8000/subgraphs/name/aragon/aragon-court-rpc',\n    },\n  },\n}\n\nexport function getInternalNetworkName() {\n  return isLocalOrUnknownNetwork() ? 'local' : getNetworkType()\n}\n\nexport function getNetworkConfig() {\n  return networkConfigs[getInternalNetworkName()]\n}\n\nexport const networkAgentAddress = getNetworkConfig().network_agent\n\nexport const networkReserveAddress = getNetworkConfig().network_reserve\n\nfunction getRinkebyCourtAddress(subgraphName) {\n  if (subgraphName === 'staging') {\n    return RINKEBY_STAGING_COURT\n  }\n  return RINKEBY_COURT\n}\n\nfunction getRinkebySubgraphUrls(subgraphName) {\n  return `https://api.thegraph.com/subgraphs/name/aragon/aragon-court-${subgraphName ||\n    'rinkeby'}`\n}\n","import {\n  networkConfigs,\n  getInternalNetworkName,\n  getNetworkConfig,\n  RINKEBY_COURT,\n  RINKEBY_STAGING_COURT,\n} from '../networks'\nimport env from '../environment'\n\nconst VOIDED_DISPUTES = {\n  main: new Map([\n    [\n      networkConfigs.dijets.court,\n      new Map(\n        [\n          {\n            id: '0',\n            link:\n              'https://blog.aragon.one/update-on-aragon-courts-first-mock-dispute/',\n            description:\n              'Dispute #0 is void and all related content has been removed from the Dashboard. Aragon One has made the decision to void the dispute and consider it non-existent when considering precedence for future Aragon Court cases.',\n            text: 'This dispute has been voided and discontinued',\n          },\n        ].map(dispute => [dispute.id, dispute])\n      ),\n    ],\n  ]),\n  rinkeby: new Map([\n    [RINKEBY_COURT, new Map([])],\n    [RINKEBY_STAGING_COURT, new Map([])],\n  ]),\n  ropsten: new Map([[networkConfigs.ropsten.court, new Map([])]]),\n  local: new Map([[networkConfigs.local.court, new Map([])]]),\n  dijets: new Map([[networkConfigs.dijets.court, new Map([])]]),\n}\n\nexport function getVoidedDisputesByCourt() {\n  if (env('SKIP_VOIDING')) {\n    return new Map([])\n  }\n  const courtAddress = getNetworkConfig().court\n\n  return VOIDED_DISPUTES[getInternalNetworkName()].get(courtAddress)\n}\n","import {\n  networkConfigs,\n  getNetworkConfig,\n  getInternalNetworkName,\n  RINKEBY_COURT,\n  RINKEBY_STAGING_COURT,\n} from '../networks'\n\nconst PRECEDENCE_CAMPAIGN_DISPUTES = {\n  main: new Map([\n    [\n      networkConfigs.dijets.court,\n      new Map(new Array(21).fill().map((_, index) => [String(index + 1)])),\n    ],\n  ]),\n  rinkeby: new Map([\n    [RINKEBY_COURT, new Map([])],\n    [RINKEBY_STAGING_COURT, new Map([['0']])],\n  ]),\n  ropsten: new Map([[networkConfigs.ropsten.court, new Map([])]]),\n  local: new Map([[networkConfigs.local.court, new Map([])]]),\n}\n\nexport function getPrecedenceCampaignDisputesByCourt() {\n  const courtAddress = getNetworkConfig().court\n\n  return PRECEDENCE_CAMPAIGN_DISPUTES[getInternalNetworkName()].get(\n    courtAddress\n  )\n}\n","import { toMs } from './date-utils'\nimport { bigNum } from '../lib/math-utils'\nimport { getOutcomeNumber } from './crvoting-utils'\nimport * as DisputesTypes from '../types/dispute-status-types'\nimport { getTermEndTime, getTermStartTime } from './court-utils'\nimport { getVoidedDisputesByCourt } from '../flagged-disputes/voided-disputes'\nimport { getPrecedenceCampaignDisputesByCourt } from '../flagged-disputes/precedence-campaign-disputes'\n\nexport const FINAL_ROUND_WEIGHT_PRECISION = bigNum(1000)\nexport const PCT_BASE = bigNum(10000)\n\nexport function transformRoundDataAttributes(round) {\n  const { vote, appeal } = round\n\n  return {\n    ...round,\n    createdAt: toMs(parseInt(round.createdAt, 10)),\n    draftTermId: parseInt(round.draftTermId, 10),\n    delayedTerms: parseInt(round.delayedTerms, 10),\n    number: parseInt(round.number),\n    jurors: round.jurors.map(juror => ({\n      ...juror,\n      commitmentDate: toMs(parseInt(juror.commitmentDate || 0, 10)),\n      revealDate: toMs(parseInt(juror.revealDate || 0, 10)),\n      weight: parseInt(juror.weight, 10),\n    })),\n    vote: vote\n      ? {\n          ...vote,\n          winningOutcome: getOutcomeNumber(vote.winningOutcome),\n        }\n      : null,\n    appeal: appeal\n      ? {\n          ...appeal,\n          appealedRuling: parseInt(appeal.appealedRuling, 10),\n          opposedRuling: parseInt(appeal.opposedRuling, 10),\n          createdAt: toMs(parseInt(appeal.createdAt)),\n          confirmedAt: toMs(parseInt(appeal.confirmedAt || 0)),\n        }\n      : null,\n    state: DisputesTypes.convertFromString(round.state),\n  }\n}\n\n/**\n * Parses metadata of the given dispute\n\n * Disputes metadata comes in two forms:\n *        1 - Raw disputes: metadata is usually a JSON object containing `description` and `metadata` where the later is the metadata uri.\n *        2 - Disputables: there's no useful information in `metadata` itself, in this case we'll get the dispute information from the `disputable` attr.\n *  Note that this function is meant to parse only dispute description and metadata uri (in case it exists). More relevant information will be processed elsewhere.\n * @param {Object} dispute Dispute in question\n * @returns {Array<String>} Array where the first item is the dispute description and second item is the metadata uri if it exists\n */\nfunction parseMetadata(dispute) {\n  if (dispute.disputable) {\n    return [dispute.disputable.title]\n  }\n\n  try {\n    const { description, metadata } = JSON.parse(dispute.metadata)\n    return [description, metadata]\n  } catch (error) {\n    // if is not a json return the metadata as the description\n    return [dispute.metadata]\n  }\n}\n\nexport function transformDisputeDataAttributes(dispute) {\n  const [description, metadataUri] = parseMetadata(dispute)\n\n  const transformedDispute = {\n    ...dispute,\n    createdAt: toMs(parseInt(dispute.createdAt, 10)),\n    description,\n    metadataUri,\n    rounds: dispute.rounds.map(transformRoundDataAttributes),\n    state: DisputesTypes.convertFromString(dispute.state),\n    status:\n      DisputesTypes.convertFromString(dispute.state) ===\n      DisputesTypes.Phase.Ruled\n        ? DisputesTypes.Status.Closed\n        : DisputesTypes.Status.Open,\n  }\n\n  // If the dispute is part of the precedence campaign we will flag it as such\n  const precedenceCamapignDisputes = getPrecedenceCampaignDisputesByCourt()\n  const isPartOfPrecedenceCampaign = precedenceCamapignDisputes.has(dispute.id)\n  transformedDispute.marksPrecedent = isPartOfPrecedenceCampaign\n\n  // If the dispute is voided we will override certain data\n  const voidedDisputes = getVoidedDisputesByCourt()\n  const voidedDispute = voidedDisputes.get(dispute.id)\n\n  return voidedDispute\n    ? overrideVoidedDispute(transformedDispute, voidedDispute)\n    : transformedDispute\n}\n\nfunction overrideVoidedDispute(dispute, voidedDispute) {\n  return {\n    ...dispute,\n    evidences: [],\n    metadata: '',\n    status: DisputesTypes.Status.Voided,\n    voidedDescription: voidedDispute.description,\n    voidedLink: voidedDispute.link,\n    voidedText: voidedDispute.text,\n  }\n}\n\n/**\n * @param {Object} dispute The dispute to query the current phase and next transition of\n * @param {Number} currentTerm The court current term\n * @param {Object} courtConfig The court configuration\n * @returns {Object} Current phase and next phase transition for the given dispute\n */\nexport function getPhaseAndTransition(dispute, currentTerm, courtConfig) {\n  if (!dispute) return null\n\n  let phase\n  let nextTransition\n\n  const { state } = dispute\n  const lastRound = dispute.rounds[dispute.lastRoundId]\n  const { number } = lastRound\n\n  // Dispute already ruled\n  if (state === DisputesTypes.Phase.Ruled) {\n    phase = DisputesTypes.Phase.ClaimRewards\n    return {\n      phase,\n      roundId: number,\n      maxAppealReached: hasDisputeReachedMaxAppeals(dispute, courtConfig),\n    }\n  }\n\n  // Evidence submission\n  if (state === DisputesTypes.Phase.Evidence) {\n    const evidenceSubmissionEndTerm = getEvidenceSubmissionEndTerm(\n      dispute,\n      courtConfig\n    )\n    const evidenceSubmissionEndTime = getTermEndTime(\n      evidenceSubmissionEndTerm,\n      courtConfig\n    )\n\n    if (currentTerm > evidenceSubmissionEndTerm) {\n      phase = DisputesTypes.Phase.JuryDrafting\n    } else {\n      phase = state\n      nextTransition = evidenceSubmissionEndTime\n    }\n    return { phase, nextTransition, roundId: number }\n  }\n\n  // Jury Drafting phase\n  if (state === DisputesTypes.Phase.JuryDrafting) {\n    // When a new round is created, it could happen that the draft term has not been reached yet\n    // because the confirm appeal phase of the previous round has not yet ended\n    if (currentTerm < lastRound.draftTermId) {\n      const draftStartTime = getTermStartTime(\n        lastRound.draftTermId,\n        courtConfig\n      )\n\n      phase = DisputesTypes.Phase.NotStarted\n      nextTransition = draftStartTime\n    } else {\n      phase = DisputesTypes.Phase.JuryDrafting\n    }\n    return { phase, nextTransition, roundId: number }\n  }\n\n  // Adjudicating\n  if (state === DisputesTypes.Phase.Adjudicating) {\n    let currentAdjudicationPhase = getAdjudicationPhase(\n      dispute,\n      lastRound,\n      currentTerm,\n      courtConfig\n    )\n\n    const { phase, phaseEndTerm } = currentAdjudicationPhase\n    if (phase === DisputesTypes.Phase.Ended) {\n      currentAdjudicationPhase = {\n        ...currentAdjudicationPhase,\n        phase: DisputesTypes.Phase.ExecuteRuling,\n      }\n    }\n\n    const nextTransition = phaseEndTerm\n      ? getTermEndTime(phaseEndTerm, courtConfig)\n      : null\n\n    return { ...currentAdjudicationPhase, roundId: number, nextTransition }\n  }\n}\n\n/**\n * Tells the adjudication state of a dispute's round at a certain time.\n * @param {Object} dispute Dispute to query the adjudication round of\n * @param {Object} round The round that is being queried\n * @param {Number} termId The term at which to query the dispute's adjudication phase\n * @param {Object} courtConfig The court configuration\n * @returns {Object} The adjudication phase of the requested round at the given time\n */\nexport function getAdjudicationPhase(dispute, round, termId, courtConfig) {\n  const {\n    commitTerms,\n    revealTerms,\n    appealTerms,\n    appealConfirmationTerms,\n  } = courtConfig\n\n  const { draftTermId, delayedTerms, number: roundId } = round\n\n  const draftEndTerm = draftTermId + delayedTerms\n  const maxAppealReached = hasDisputeReachedMaxAppeals(dispute, courtConfig)\n\n  // When voting period has not yet started there are two possible cases:\n  //   * We are at the last possible round so adjudication phase hasn't started\n  //   * We are not in an adjudication phase so it is invalid\n  if (termId < draftEndTerm) {\n    if (maxAppealReached) {\n      return {\n        phase: DisputesTypes.Phase.NotStarted,\n        phaseEndTerm: draftEndTerm,\n        roundId,\n      }\n    }\n\n    return {\n      phase: DisputesTypes.Phase.Invalid,\n      roundId,\n    }\n  }\n\n  // Jurors can commit their votes between when the commit phase term starts and ends\n  // Note that the commit start term is the same as the draft end term\n  const commitEndTerm = draftEndTerm + commitTerms - 1\n  if (termId <= commitEndTerm) {\n    return {\n      phase: DisputesTypes.Phase.VotingPeriod,\n      phaseEndTerm: commitEndTerm,\n      maxAppealReached,\n      roundId,\n    }\n  }\n\n  // Jurors can reveal their votes between when the reveal phase term starts and ends\n  const revealEndTerm = commitEndTerm + revealTerms\n  if (termId <= revealEndTerm) {\n    return {\n      phase: DisputesTypes.Phase.RevealVote,\n      phaseEndTerm: revealEndTerm,\n      maxAppealReached,\n      roundId,\n    }\n  }\n\n  // If the max number of appeals has been reached, then the last round is the final round and can be considered ended\n  if (maxAppealReached) {\n    return { phase: DisputesTypes.Phase.Ended, maxAppealReached, roundId }\n  }\n\n  // If the last round was not appealed yet, check if the confirmation period has started or not\n  const isLastRoundAppealed =\n    !!round.appeal && round.appeal.appealedRuling !== 0\n  const appealEndTerm = revealEndTerm + appealTerms\n\n  if (!isLastRoundAppealed) {\n    // If given term is before the appeal confirmation start term, then the last round can still be appealed. Otherwise, it is ended.\n    if (termId <= appealEndTerm) {\n      return {\n        phase: DisputesTypes.Phase.AppealRuling,\n        phaseEndTerm: appealEndTerm,\n        roundId,\n      }\n    } else {\n      return {\n        phase: DisputesTypes.Phase.Ended,\n        roundId,\n      }\n    }\n  }\n\n  // If the last round was appealed and the given term is before the appeal confirmation end term, then the last round appeal can still be\n  // confirmed. Note that if the round being checked was already appealed and confirmed, it won't be the last round, thus it will be caught\n  // above by the first check and considered 'Ended'.\n  const appealConfirmationEndTerm = appealEndTerm + appealConfirmationTerms\n\n  if (termId < appealConfirmationEndTerm) {\n    return {\n      phase: DisputesTypes.Phase.ConfirmAppeal,\n      phaseEndTerm: appealConfirmationEndTerm,\n      roundId,\n    }\n  }\n\n  // If non of the above conditions have been met, the last round is considered ended\n  return {\n    phase: DisputesTypes.Phase.Ended,\n    roundId,\n  }\n}\n\n/**\n * Terminology here will be:\n *        Last round => last round actually reached in a dispute\n *        Final round => max possible round for a dispute (when the max appeals for a given dispute is reached)\n * @param {Object} round The round to get the phases from\n * @param {Object} currentPhase The dispute's current phase\n * @param {Number} currentTerm The court current term\n * @param {Object} courtConfig The court configuration\n * @returns {Array} Array of all `round` phases.\n */\nexport function getRoundPhasesAndTime(\n  round,\n  currentPhase,\n  currentTerm,\n  courtConfig\n) {\n  const {\n    commitTerms,\n    revealTerms,\n    appealTerms,\n    appealConfirmationTerms,\n  } = courtConfig\n\n  const { draftTermId, delayedTerms, number: roundId, vote, appeal } = round\n  const isCurrentRound = roundId === currentPhase.roundId\n  const { winningOutcome } = vote || {}\n\n  const draftStartTime = getTermStartTime(draftTermId, courtConfig)\n\n  // Case where we are in a next round and has not yet started\n  if (isCurrentRound && currentPhase.phase === DisputesTypes.Phase.NotStarted) {\n    return [\n      {\n        phase: DisputesTypes.Phase.NotStarted,\n        endTime: draftStartTime,\n        roundId,\n        active: true,\n      },\n    ]\n  }\n\n  const draftEndTerm = draftTermId + delayedTerms\n  // Note that the commit start term is the same as the draft end term\n  const votingEndTerm = draftEndTerm + commitTerms - 1\n  const revealEndTerm = votingEndTerm + revealTerms\n  const appealEndTerm = revealEndTerm + appealTerms\n  const confirmAppealEndTerm = appealEndTerm + appealConfirmationTerms\n\n  const roundAppealed = !!appeal\n  const roundAppealConfirmed = roundAppealed && appeal.opposedRuling > 0\n\n  const roundPhasesAndTime = [\n    {\n      // Jurors can be drafted at any time, so we'll only set the\n      // `endTime` when the drafting phase has already passed\n      phase: DisputesTypes.Phase.JuryDrafting,\n      endTime:\n        DisputesTypes.Phase.JuryDrafting !== currentPhase.phase\n          ? getTermEndTime(draftEndTerm, courtConfig)\n          : null,\n      active:\n        isCurrentRound &&\n        DisputesTypes.Phase.JuryDrafting === currentPhase.phase,\n      roundId,\n    },\n    {\n      phase: DisputesTypes.Phase.VotingPeriod,\n      endTime: getTermEndTime(votingEndTerm, courtConfig),\n      active:\n        isCurrentRound &&\n        DisputesTypes.Phase.VotingPeriod === currentPhase.phase,\n      roundId,\n    },\n    {\n      phase: DisputesTypes.Phase.RevealVote,\n      endTime: getTermEndTime(revealEndTerm, courtConfig),\n      active:\n        isCurrentRound && DisputesTypes.Phase.RevealVote === currentPhase.phase,\n      roundId,\n      outcome: winningOutcome,\n      showOutcome: currentTerm > revealEndTerm,\n    },\n    {\n      // If the round was appealed we know it's a past phase and must update the endTime for the time this took effect (appeal.createdAt)\n      // If it wasn't appealed we have two cases:\n      //       - It's a past phase so in that case the endTime will be the time at where it's supposed to end if taking the full appealTerms duration\n      //       - It's the dispute active phase (the round can still be appealed) so the endTime will be used to tell the timer remaining time before the appeal phase is closed\n      phase: DisputesTypes.Phase.AppealRuling,\n      endTime: roundAppealed\n        ? appeal.createdAt\n        : getTermEndTime(appealEndTerm, courtConfig),\n      active:\n        isCurrentRound &&\n        DisputesTypes.Phase.AppealRuling === currentPhase.phase,\n      roundId,\n      outcome: roundAppealed ? appeal.appealedRuling : null,\n      showOutcome: roundAppealed || currentTerm > appealEndTerm,\n      // If the round was appealed, we'll show the outcome (appeal ruling),\n      // If it wasn't appealed then we'll show a \"Nobodoy appealed\" message\n    },\n    {\n      // If the round was appeal confirmed we know it's a past phase and must update the endTime for the time this took effect (appeal.confirmedAt)\n      // If it wasn't appeal confirmed we have two cases:\n      //       - It's a past phase so in that case the endTime will be the time at where it's supposed to end if taking the full confirmAppealTerms duration\n      //       - It's the dispute active phase (the round can still be appeal confirmed) so the endTime will be used to tell the timer remaining time before the confirm appeal phase is closed\n      phase: DisputesTypes.Phase.ConfirmAppeal,\n      endTime: roundAppealConfirmed\n        ? appeal.confirmedAt\n        : getTermEndTime(confirmAppealEndTerm, courtConfig),\n      active:\n        isCurrentRound &&\n        DisputesTypes.Phase.ConfirmAppeal === currentPhase.phase,\n      roundId,\n      outcome: roundAppealConfirmed ? appeal.opposedRuling : null,\n      showOutcome: roundAppealConfirmed || currentTerm > confirmAppealEndTerm,\n    },\n  ]\n\n  // If it's not the last round means that the dispute reached the next appeal round\n  // so we show all possible phases\n  if (roundId < currentPhase.roundId) {\n    return roundPhasesAndTime\n  }\n\n  // If it's the last round and has already ended (show past phases)\n  if (\n    currentPhase.phase === DisputesTypes.Phase.ExecuteRuling ||\n    currentPhase.phase === DisputesTypes.Phase.ClaimRewards\n  ) {\n    // In the final round (maxAppealedReached), there's no drafting phase and appealing is not possible\n    // so we only must show Voting and Revealing\n    if (currentPhase.maxAppealReached) {\n      return roundPhasesAndTime.slice(1, 3)\n    }\n\n    // If round not appealed\n    if (!roundAppealed) {\n      return roundPhasesAndTime.slice(0, 4)\n    }\n\n    return roundPhasesAndTime\n  }\n\n  // Find the last round current phase\n  const currentPhaseIndex = roundPhasesAndTime.findIndex(\n    phase => phase.phase === currentPhase.phase\n  )\n\n  // When round has not yet ended\n  return roundPhasesAndTime.slice(\n    currentPhase.maxAppealReached ? 1 : 0,\n    currentPhaseIndex + 1\n  )\n}\n\n/**\n *\n * @param {Object} dispute The dispute in question\n * @param {Object} courtConfig The court configuration\n * @returns {Number} The end time of the evidence submission phase in ms\n */\nexport function getEvidenceSubmissionEndTerm(dispute, courtConfig) {\n  const firstRound = dispute.rounds[0]\n\n  // If the evidence period is closed before the full `evidenceTerms` period,\n  // the draftTermId for the first round is updated to the term this happened.\n  return firstRound.draftTermId - 1\n}\n\n/**\n * Tells whether the dispute has reached the maximum number of rounds possible\n * @param {Object} dispute The dispute in question\n * @param {Object} courtConfig The court configuration\n * @returns {Boolean} True if dispute has reached maximum number of rounds possible\n */\nfunction hasDisputeReachedMaxAppeals(dispute, courtConfig) {\n  const { maxRegularAppealRounds } = courtConfig\n  const numberOfRounds = dispute.rounds.length\n  return numberOfRounds > maxRegularAppealRounds\n}\n\n/**\n * @param {Object} dispute The dispute to get the last round from\n * @returns {Object} dispute's last round\n */\nexport function getDisputeLastRound(dispute) {\n  return dispute.rounds[dispute.lastRoundId]\n}\n\n/**\n *\n * @param {Object} round Round to calculate fees from\n * @param {Object} courtConfig The court configuration\n * @returns {BigNum} The total fees for the round\n */\nexport function getRoundFees(round, courtConfig) {\n  const {\n    draftFee,\n    settleFee,\n    jurorFee,\n    finalRoundReduction,\n    maxRegularAppealRounds,\n  } = courtConfig\n\n  // Final round\n  if (round.number === maxRegularAppealRounds) {\n    return jurorFee\n      .mul(round.jurorsNumber)\n      .div(FINAL_ROUND_WEIGHT_PRECISION.mul(finalRoundReduction).div(PCT_BASE))\n  }\n\n  // Regular round\n  return draftFee\n    .add(settleFee)\n    .add(jurorFee)\n    .mul(round.jurorsNumber)\n}\n\n/**\n *\n * @param {BigNum} minActiveBalance The minimum active balance required to become an active juror\n * @param {BigNum} penaltyPct Percentage (against PCT_BASE) of min active tokens balance to be locked to each drafted juror\n * @param {BigNum} weight Weight computed for a juror on a round\n * @returns {BigNum} The amount that will be locked each time a juror is drafted\n */\nexport function getDraftLockAmount(minActiveBalance, penaltyPct, weight) {\n  return minActiveBalance\n    .mul(penaltyPct)\n    .div(PCT_BASE)\n    .mul(weight)\n}\n","import { addressesEqual } from '../lib/web3-utils'\nimport { isvoteLeaked } from './crvoting-utils'\nimport { bigNum } from '../lib/math-utils'\nimport { toMs } from './date-utils'\n\nexport function getJurorDraft(round, jurorId) {\n  if (!round) return null\n\n  return round.jurors.find(jurorDraft =>\n    addressesEqual(jurorDraft.juror.id, jurorId)\n  )\n}\n\nexport function hasJurorVoted(jurorDraft) {\n  return !!jurorDraft.commitment\n}\n\nexport function canJurorReveal(jurorDraft) {\n  const hasNotRevealed = !jurorDraft.outcome\n  return (\n    hasNotRevealed &&\n    hasJurorVoted(jurorDraft) &&\n    !isvoteLeaked(jurorDraft.outcome)\n  )\n}\n\nexport function isJurorCoherent(jurorDraft) {\n  const { dispute } = jurorDraft.round\n  return dispute.finalRuling !== 0 && jurorDraft.outcome === dispute.finalRuling\n}\n\nexport function transformJurorDataAttributes(jurorDraft) {\n  const { rewardedAt, round, weight } = jurorDraft\n\n  return {\n    ...jurorDraft,\n    rewardedAt: toMs(parseInt(rewardedAt || 0, 10)),\n    weight: bigNum(weight),\n    round: {\n      ...round,\n      number: parseInt(round.number, 10),\n      collectedTokens: bigNum(round.collectedTokens),\n      jurorFees: bigNum(round.jurorFees),\n    },\n  }\n}\n","import gql from 'graphql-tag'\n\n// First juror subscription claimed\nexport const JurorFeesClaimed = gql`\n  query JurorFeesClaimed($owner: Bytes!) {\n    feeMovements(where: { owner: $owner }) {\n      id\n    }\n  }\n`\n\n// Last juror fee withdrawal movement\nexport const JurorLastFeeWithdrawal = gql`\n  query JurorLastFeeWithdrawal($owner: Bytes!) {\n    feeMovements(\n      where: { owner: $owner, type: \"Withdraw\" }\n      orderBy: createdAt\n      orderDirection: desc\n      first: 1\n    ) {\n      id\n      createdAt\n    }\n  }\n`\n\nexport const ActiveJurors = gql`\n  query ActiveJurors {\n    jurors(first: 1000, where: { activeBalance_gt: 0 }) {\n      id\n    }\n  }\n`\n","import { useMemo } from 'react'\nimport { useQuery } from 'urql'\nimport { useCourtConfig } from '../providers/CourtConfig'\n\n// queries\nimport { OpenTasks } from '../queries/tasks'\nimport {\n  CourtConfig,\n  FeeMovements,\n  JurorsRegistryModule,\n} from '../queries/court'\nimport { AllDisputes, SingleDispute } from '../queries/disputes'\nimport { AppealsByMaker, AppealsByTaker } from '../queries/appeals'\nimport {\n  JurorANJBalances,\n  JurorANJWalletBalance,\n  JurorTreasuryBalances,\n} from '../queries/balances'\nimport { JurorDraftsFrom, JurorDraftsRewards } from '../queries/jurorDrafts'\n\n// utils\nimport { bigNum } from '../lib/math-utils'\nimport { dayjs, toMs } from '../utils/date-utils'\nimport { groupMovements } from '../utils/anj-movement-utils'\nimport { transformAppealDataAttributes } from '../utils/appeal-utils'\nimport {\n  transformRoundDataAttributes,\n  transformDisputeDataAttributes,\n} from '../utils/dispute-utils'\nimport { transformJurorDataAttributes } from '../utils/juror-draft-utils'\nimport { transformClaimedFeesDataAttributes } from '../utils/subscription-utils'\nimport {\n  getModuleAddress,\n  transformCourtConfigDataAttributes,\n} from '../utils/court-utils'\n\n// types\nimport { CourtModuleType } from '../types/court-module-types'\nimport { JurorLastFeeWithdrawal } from '../queries/juror'\n\nconst NO_AMOUNT = bigNum(0)\n\nfunction useQuerySub(query, variables = {}, options = {}) {\n  return useQuery({\n    query: query,\n    variables: variables,\n    requestPolicy: 'cache-and-network',\n    pollInterval: 13 * 1000,\n    ...options,\n  })\n}\n\n// Subscription to get juror's wallet balance\nfunction useANJBalance(jurorId) {\n  const [{ data, error }] = useQuerySub(JurorANJWalletBalance, {\n    id: jurorId.toLowerCase(),\n  })\n  return { data, error }\n}\n\n// Subscription to get juror's active, inactive and\n// locked balances and all 24 hrs movements\nfunction useJuror(jurorId) {\n  // get 24hs from current time (seconds)\n  const yesterday = dayjs()\n    .subtract(1, 'day')\n    .unix()\n\n  const [{ data, error }] = useQuerySub(JurorANJBalances, {\n    id: jurorId.toLowerCase(),\n    from: yesterday,\n  })\n\n  return { data, error }\n}\n\n// Subscription to get all treasury balances of juror with id `jurorId`\nfunction useJurorTreasuryBalances(jurorId) {\n  const [{ data, error }] = useQuerySub(JurorTreasuryBalances, {\n    owner: jurorId.toLowerCase(),\n  })\n  return { data, error }\n}\n\n/**\n * Subscribes to all juror balances as well as to the latest 24h movements and all subscription fees claimed by the juror\n * @param {String} jurorId Address of the juror\n * @returns {Object} Object containing al juror balances (Wallet, Inactive, Active, Locked, Deactivation Process, Treasury),\n * latest 24h movements and all subscription fees claimed by the juror\n */\nexport function useJurorBalancesSubscription(jurorId) {\n  // Juror wallet balance\n  const { data: anjBalanceData, error: anjBalanceError } = useANJBalance(\n    jurorId\n  )\n\n  // Juror ANJ balances, 24h movements and subscritpion claimed fees\n  const { data: jurorData, error: jurorError } = useJuror(jurorId)\n  const {\n    data: treasuryBalancesData,\n    error: treasuryBalancesError,\n  } = useJurorTreasuryBalances(jurorId)\n\n  const errors = [anjBalanceError, jurorError, treasuryBalancesError].filter(\n    err => err\n  )\n\n  const {\n    anjBalances,\n    anjMovements,\n    claimedSubscriptionFees,\n    treasury,\n  } = useMemo(() => {\n    // Means it's still fetching\n    if (!jurorData || !anjBalanceData || !treasuryBalancesData) {\n      return {}\n    }\n\n    // If the account doesn't hold any ANJ we set 0 as default\n    const { amount: walletBalance = NO_AMOUNT } =\n      anjBalanceData.anjbalance || {}\n\n    // If the juror is null then means that the connnected account is not a juror but we are already done fetching\n    // We set 0 as default values\n    const {\n      activeBalance = NO_AMOUNT,\n      anjMovements = [],\n      availableBalance = NO_AMOUNT,\n      claimedSubscriptionFees = [],\n      deactivationBalance = NO_AMOUNT,\n      lockedBalance = NO_AMOUNT,\n    } = jurorData.juror || {}\n\n    const { treasuryBalances = [] } = treasuryBalancesData || {}\n\n    return {\n      anjBalances: {\n        activeBalance: bigNum(activeBalance),\n        deactivationBalance: bigNum(deactivationBalance),\n        inactiveBalance: bigNum(availableBalance),\n        lockedBalance: bigNum(lockedBalance),\n        walletBalance: bigNum(walletBalance),\n      },\n      anjMovements: groupMovements(anjMovements),\n      claimedSubscriptionFees: claimedSubscriptionFees.map(\n        transformClaimedFeesDataAttributes\n      ),\n      treasury: treasuryBalances.map(balance => ({\n        ...balance,\n        amount: bigNum(balance.amount),\n      })),\n    }\n  }, [anjBalanceData, jurorData, treasuryBalancesData])\n\n  return {\n    anjBalances,\n    anjMovements,\n    claimedSubscriptionFees,\n    treasury,\n    fetching: !anjBalances && errors.length === 0,\n    errors,\n  }\n}\n\n/**\n * Subscribes to the court configuration data\n * @param {String} courtAddress Adrress of the court contract\n * @returns {Object} Court configuration data\n */\nexport function useCourtConfigSubscription(courtAddress) {\n  const [{ data }] = useQuerySub(CourtConfig, {\n    id: courtAddress.toLowerCase(),\n  })\n\n  // TODO: handle possible errors\n  const courtConfig = useMemo(\n    () =>\n      data?.courtConfig\n        ? transformCourtConfigDataAttributes(data.courtConfig)\n        : null,\n    [data]\n  )\n\n  return courtConfig\n}\n\n/**\n * Subscribes to the dispute with id == `id`\n * @param {String} id Id of the dispute\n * @returns {Object} Dispute by `id`\n */\nexport function useSingleDisputeSubscription(id) {\n  const [{ data, error }] = useQuerySub(SingleDispute, { id })\n\n  const dispute = useMemo(\n    () =>\n      data && data.dispute\n        ? transformDisputeDataAttributes(data.dispute)\n        : null,\n    [data]\n  )\n\n  return { dispute, fetching: !data && !error, error }\n}\n\n/**\n * Subscribes to all existing disputes on the court\n * @returns {Object} All disputes\n */\nexport function useDisputesSubscription() {\n  const courtConfig = useCourtConfig()\n  const [{ data, error }] = useQuerySub(AllDisputes)\n\n  const disputes = useMemo(\n    () =>\n      data?.disputes\n        ? data.disputes.map(dispute =>\n            transformDisputeDataAttributes(dispute, courtConfig)\n          )\n        : null,\n    [courtConfig, data]\n  )\n\n  return { disputes, fetching: !data && !error, error }\n}\n\n/**\n * Subscribe to all `jurorId` drafts for the current term\n * @param {String} jurorId Address of the juror\n * @param {Number} termStartTime Start time of the term inseconds\n * @param {Boolean} pause Tells whether to pause the subscription or not\n * @returns {Object} All `jurorId` drafts for the current term\n */\nexport function useCurrentTermJurorDraftsSubscription(\n  jurorId,\n  termStartTime,\n  pause\n) {\n  const [result] = useQuerySub(\n    JurorDraftsFrom,\n    { id: jurorId.toLowerCase(), from: termStartTime },\n    { pause }\n  )\n\n  const { juror } = result.data || {}\n  return juror && juror.drafts ? juror.drafts : []\n}\n\n/**\n * Subscribes to all `jurorId` drafts\n * @dev This subscription is useful to get all rewards pending for claiming as well\n * as for the amount of locked ANJ a juror has per dispute\n * Ideally we would check that the round is not settled but we cannot do nested filters for now\n *\n * @param {String} jurorId Address of the juror\n * @returns {Object} All `jurorId` drafts\n */\nexport function useJurorDraftsRewardsSubscription(jurorId) {\n  const [{ data, error }] = useQuerySub(JurorDraftsRewards, {\n    id: jurorId.toLowerCase(),\n  })\n\n  const jurorDrafts = useMemo(() => {\n    if (!data) {\n      return null\n    }\n\n    return data.juror?.drafts.map(transformJurorDataAttributes) || []\n  }, [data])\n\n  return { jurorDrafts, fetching: !jurorDrafts && !error, error }\n}\n\nfunction useAppealsByMaker(jurorId) {\n  const [{ data, error }] = useQuerySub(AppealsByMaker, {\n    maker: jurorId.toLowerCase(),\n  })\n  return { data, error }\n}\n\nfunction useAppealsByTaker(jurorId) {\n  const [{ data, error }] = useQuerySub(AppealsByTaker, {\n    taker: jurorId.toLowerCase(),\n  })\n  return { data, error }\n}\n\n/**\n * Subscribes to all `jurorId` appeal collaterals\n * @dev Since we cannot do or operators on graphql queries, we need to get appeals by taker and maker separately\n *\n * @param {String} jurorId Address of the juror\n * @returns {Object} All `jurorId` appeal collaterals\n */\nexport function useAppealsByUserSubscription(jurorId) {\n  const {\n    data: makerAppealsData,\n    error: makerAppealsError,\n  } = useAppealsByMaker(jurorId)\n  const {\n    data: takerAppealsData,\n    error: takerAppealsError,\n  } = useAppealsByTaker(jurorId)\n\n  const appeals = useMemo(() => {\n    if (!makerAppealsData || !takerAppealsData) {\n      return null\n    }\n\n    const makerAppeals = makerAppealsData.appeals\n    const takerAppeals = takerAppealsData.appeals\n\n    return [...makerAppeals, ...takerAppeals].map(transformAppealDataAttributes)\n  }, [makerAppealsData, takerAppealsData])\n\n  const errors = [makerAppealsError, takerAppealsError].filter(err => err)\n\n  return { appeals, fetching: !appeals && errors.length === 0, errors }\n}\n\nexport function useTasksSubscription() {\n  // 1- Committing, 4-Confirming Appeal , 5- Ended\n  const subscriptionVariables = { state: [1, 4] }\n\n  const [{ data, error }] = useQuerySub(OpenTasks, subscriptionVariables)\n\n  const tasks =\n    data?.adjudicationRounds.map(transformRoundDataAttributes) || null\n\n  return { tasks, fetching: !data && !error, error }\n}\n\nexport function useJurorRegistrySubscription() {\n  const { modules } = useCourtConfig()\n  const jurorRegistryAddress = getModuleAddress(\n    modules,\n    CourtModuleType.JurorsRegistry\n  )\n\n  const [{ data, error }] = useQuerySub(JurorsRegistryModule, {\n    id: jurorRegistryAddress,\n  })\n\n  const jurorRegistryStats = data?.jurorsRegistryModule || null\n\n  return { data: jurorRegistryStats, error }\n}\n\nexport function useTotalRewardsSubscription() {\n  const [{ data, error }] = useQuerySub(FeeMovements)\n\n  const rewards = data?.feeMovements || null\n\n  return { data: rewards, error }\n}\n\n/**\n * Queries for the last withdrawal fee movement time made by the given juror\n * @param {String} jurorId Address of the juror\n * @returns {Number} Juror's last withdrawal fee movement date in unix time\n */\nexport function useJurorLastWithdrawalTimeSubscription(jurorId) {\n  const [{ data }] = useQuerySub(\n    JurorLastFeeWithdrawal,\n    { owner: jurorId?.toLowerCase() },\n    { pause: !jurorId }\n  )\n\n  if (!data) {\n    return null\n  }\n\n  if (data.feeMovements.length === 0) {\n    return -1\n  }\n\n  return toMs(data.feeMovements[0].createdAt)\n}\n","import React, { useContext } from 'react'\nimport PropTypes from 'prop-types'\nimport { useCourtConfigSubscription } from '../hooks/subscription-hooks'\nimport { getNetworkConfig } from '../networks'\n\nconst CourtConfigContext = React.createContext()\n\nfunction CourtConfigProvider({ children }) {\n  const courtAddress = getNetworkConfig().court\n  const courtConfig = useCourtConfigSubscription(courtAddress)\n\n  return (\n    <CourtConfigContext.Provider value={courtConfig}>\n      {children}\n    </CourtConfigContext.Provider>\n  )\n}\n\nCourtConfigProvider.propTypes = {\n  children: PropTypes.node,\n}\n\nfunction useCourtConfig() {\n  return useContext(CourtConfigContext)\n}\n\nexport { CourtConfigProvider, useCourtConfig }\n","import React from 'react'\nimport { SyncIndicator } from '@aragon/ui'\nimport { useCourtConfig } from '../providers/CourtConfig'\n\nfunction AppLoader({ children }) {\n  const courtConfig = useCourtConfig()\n\n  if (!courtConfig) {\n    return <SyncIndicator visible label=\"Loading court\" /> // TODO: Add better loader\n  }\n\n  return <React.Fragment>{children}</React.Fragment>\n}\n\nexport default AppLoader\n","import React, { useState, useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport {\n  Button,\n  ButtonBase,\n  Link,\n  GU,\n  IconDown,\n  RADIUS,\n  textStyle,\n  useTheme,\n} from '@aragon/ui'\n\nconst SUPPORT_URL = 'https://github.com/aragon/court-dashboard/issues/new'\n\nconst GenericError = React.memo(function GenericError({\n  detailsTitle,\n  detailsContent,\n  reportCallback,\n}) {\n  const theme = useTheme()\n  const [opened, setOpened] = useState(false)\n  const toggle = useCallback(() => {\n    setOpened(!opened)\n  }, [opened, setOpened])\n\n  return (\n    <React.Fragment>\n      <h1\n        css={`\n          color: ${theme.surfaceContent};\n          ${textStyle('title2')};\n          margin-bottom: ${1.5 * GU}px;\n          text-align: center;\n        `}\n      >\n        An unexpected error has occurred\n      </h1>\n      <p\n        css={`\n          margin-bottom: ${5 * GU}px;\n          text-align: center;\n          color: ${theme.surfaceContentSecondary};\n          ${textStyle('body2')};\n        `}\n      >\n        Something went wrong! You can restart the app, or you can{' '}\n        <Link href={SUPPORT_URL}>tell us what went wrong</Link> if the problem\n        persists\n      </p>\n      {(detailsTitle || detailsContent) && (\n        <div\n          css={`\n            text-align: left;\n            margin-bottom: ${5 * GU}px;\n          `}\n        >\n          <ButtonBase\n            onClick={toggle}\n            css={`\n              display: flex;\n              align-items: center;\n              color: ${theme.surfaceContentSecondary};\n              ${textStyle('label2')};\n            `}\n          >\n            Click here to see more details\n            <IconDown\n              size=\"tiny\"\n              css={`\n                margin-left: ${0.5 * GU}px;\n                transition: transform 150ms ease-in-out;\n                transform: rotate3d(0, 0, 1, ${opened ? 180 : 0}deg);\n              `}\n            />\n          </ButtonBase>\n          {opened && (\n            <div\n              css={`\n                overflow: auto;\n                padding: ${2 * GU}px;\n                max-height: 200px;\n                border-radius: ${RADIUS}px;\n                color: ${theme.text};\n                white-space: pre;\n                background: ${theme.surfaceUnder};\n                ${textStyle('body3')};\n              `}\n            >\n              {detailsTitle && (\n                <h2\n                  css={`\n                    ${textStyle('body2')};\n                    margin-bottom: ${1.5 * GU}px;\n                  `}\n                >\n                  {detailsTitle}\n                </h2>\n              )}\n              {detailsContent}\n            </div>\n          )}\n        </div>\n      )}\n      <div\n        css={`\n          ${reportCallback\n            ? `\n              display: flex;\n              justify-content: flex-end;\n            `\n            : ''}\n        `}\n      >\n        {reportCallback && (\n          <Button onClick={reportCallback}>Send Report</Button>\n        )}\n        <Button\n          mode=\"strong\"\n          onClick={() => window.location.reload(true)}\n          wide={!reportCallback}\n          css={`\n            margin-left: ${reportCallback ? 1.5 * GU : 0}px;\n          `}\n        >\n          Reload\n        </Button>\n      </div>\n    </React.Fragment>\n  )\n})\n\nGenericError.propTypes = {\n  detailsTitle: PropTypes.node,\n  detailsContent: PropTypes.node,\n  reportCallback: PropTypes.func,\n}\n\nexport default GenericError\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Card, GU, useTheme, useViewport } from '@aragon/ui'\nimport globalError from '../../assets/globalError.svg'\nimport backgroundError from '../../assets/backgroundError.svg'\nimport logo from '../../assets/logo.svg'\n\nfunction GlobalErrorScreen({ children }) {\n  const theme = useTheme()\n  return (\n    <div\n      css={`\n        height: 100vh;\n        min-width: ${45 * GU}px;\n        overflow: auto;\n        background: url(${backgroundError}),\n          linear-gradient(187.6deg, #fffaf1 -3.6%, #ffebeb 216.17%);\n        border-top-style: solid;\n        border-top-width: 4px;\n        border-top-color: ${theme.accent};\n      `}\n    >\n      <img\n        css={`\n          position: absolute;\n          top: ${2 * GU}px;\n          left: ${2 * GU}px;\n        `}\n        src={logo}\n      />\n      <div\n        css={`\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          padding: ${8 * GU}px;\n          min-height: 100%;\n        `}\n      >\n        <Container>\n          <img\n            src={globalError}\n            alt=\"\"\n            width=\"147\"\n            height=\"144\"\n            css={`\n              display: block;\n              margin: ${5 * GU}px auto ${1.5 * GU}px;\n            `}\n          />\n          {children}\n        </Container>\n      </div>\n    </div>\n  )\n}\n\nGlobalErrorScreen.propTypes = {\n  children: PropTypes.node,\n}\n\nfunction Container({ children }) {\n  const theme = useTheme()\n  const { width } = useViewport()\n  return width < 60 * GU ? (\n    <div\n      css={`\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        min-width: ${45 * GU}px;\n        overflow: auto;\n        background: ${theme.surface};\n        display: grid;\n        align-items: center;\n      `}\n    >\n      <div\n        css={`\n          padding: ${5 * GU}px ${6 * GU}px ${6 * GU}px;\n        `}\n      >\n        {children}\n      </div>\n    </div>\n  ) : (\n    <Card\n      css={`\n        display: block;\n        padding: ${5 * GU}px ${6 * GU}px;\n        width: 100%;\n        max-width: ${72 * GU}px;\n        height: auto;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n        cursor: unset;\n      `}\n    >\n      {children}\n    </Card>\n  )\n}\n\nContainer.propTypes = {\n  children: PropTypes.node,\n}\n\nexport default GlobalErrorScreen\n","import React from 'react'\nimport { Button, GU, textStyle, useTheme } from '@aragon/ui'\nimport { getNetworkName } from '../../lib/web3-utils'\nimport env from '../../environment'\n\nfunction DisputeNotFoundError({ disputeId }) {\n  const theme = useTheme()\n\n  return (\n    <React.Fragment>\n      <h1\n        css={`\n          color: ${theme.surfaceContent};\n          ${textStyle('title2')};\n          margin-bottom: ${1.5 * GU}px;\n          text-align: center;\n        `}\n      >\n        Dispute not found\n      </h1>\n      <div\n        css={`\n          margin-bottom: ${3 * GU}px;\n          text-align: center;\n          color: ${theme.surfaceContentSecondary};\n          ${textStyle('body2')};\n        `}\n      >\n        It looks like theres no dispute associated with{' '}\n        {`DisputeID #${disputeId}`} on the Ethereum{' '}\n        {getNetworkName(env('CHAIN_ID'))} network\n      </div>\n      <div\n        css={`\n          display: flex;\n          justify-content: space-around;\n        `}\n      >\n        <Button\n          mode=\"strong\"\n          label=\"Go back to dashboard\"\n          onClick={() => (window.location.href = '/disputes')}\n        />\n      </div>\n    </React.Fragment>\n  )\n}\n\nexport default DisputeNotFoundError\n","import { init as initSentry, captureMessage } from '@sentry/browser'\nimport env from './environment'\nimport { getNetworkType } from './lib/web3-utils'\n\nexport const sentryEnabled = Boolean(env('SENTRY_DSN'))\n\nexport default function initializeSentry() {\n  if (sentryEnabled) {\n    initSentry({\n      dsn: env('SENTRY_DSN'),\n      environment: getNetworkType(env('CHAIN_ID')),\n      release: 'court-dashboard@' + env('BUILD'),\n    })\n  }\n}\n\nexport function logWithSentry(message, level = 'warning') {\n  if (sentryEnabled) {\n    captureMessage(message, level)\n  }\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { captureException, showReportDialog } from '@sentry/browser'\nimport GenericError from './components/Errors/GenericError'\nimport GlobalErrorScreen from './components/Errors/GlobalErrorScreen'\nimport DisputeNotFoundError from './components/Disputes/DisputeNotFoundError'\n\nimport { DisputeNotFound } from './errors'\nimport { sentryEnabled } from './sentry'\n\nclass GlobalErrorHandler extends React.Component {\n  static propTypes = {\n    children: PropTypes.node,\n  }\n\n  state = { error: null, errorStack: null }\n\n  componentDidCatch(error, errorInfo) {\n    this.setState({\n      error,\n      errorStack: errorInfo.componentStack\n        .replace(/^\\n+|\\n+$/g, '')\n        .replace(/^ {4}/gm, ''),\n    })\n\n    // Once this point is reached, the app can not recover because the routing\n    // system, being below this component in the tree, is not functional\n    // anymore. To make hash changes work despite this (e.g. by pressing the\n    // back button in the browser), the page need to be reloaded.\n    window.removeEventListener('hashchange', this.handleHashchange)\n    window.addEventListener('hashchange', this.handleHashchange)\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('hashchange', this.handleHashchange)\n  }\n\n  handleReportClick = () => {\n    if (sentryEnabled) {\n      const eventId = captureException(this.state.error)\n      showReportDialog({ eventId })\n    }\n  }\n\n  handleHashchange = () => {\n    window.location.reload()\n  }\n\n  render() {\n    const { children } = this.props\n    const { error, errorStack } = this.state\n\n    return error ? (\n      <GlobalErrorScreen>\n        {error instanceof DisputeNotFound ? (\n          <DisputeNotFoundError disputeId={error.disputeId} />\n        ) : (\n          <GenericError\n            detailsTitle={error.message}\n            detailsContent={errorStack}\n            reportCallback={this.handleReportClick}\n          />\n        )}\n      </GlobalErrorScreen>\n    ) : (\n      children\n    )\n  }\n}\n\nexport default GlobalErrorHandler\n","import { useCallback, useRef } from 'react'\nimport { useHistory, useLocation } from 'react-router-dom'\n\n// Preferences base query string\nconst GLOBAL_PREFERENCES_QUERY_PARAM = '?preferences='\n\nexport function getPreferencesSearch(screen) {\n  return `${GLOBAL_PREFERENCES_QUERY_PARAM}${screen}`\n}\n\nfunction parsePreferences(search = '') {\n  const searchParams = new URLSearchParams(search)\n\n  return {\n    screen: searchParams.get('preferences'),\n  }\n}\n\n/**\n * Hook to interact with the preferences\n * @returns {Array} [open preferences handler, close preferences handler, current preference screen]\n */\nexport default function usePreferences() {\n  // We need to keep track of the path where the preference was called in order to return to the same path when the preference modal is closed\n  const { pathname: basePath, search } = useLocation()\n  const history = useHistory()\n\n  const { screen } = parsePreferences(search)\n\n  const preferenceScreen = useRef(screen)\n\n  const handleOpenPreferences = useCallback(\n    screen => {\n      preferenceScreen.current = screen\n      const fullPath = basePath + getPreferencesSearch(preferenceScreen.current)\n      history.push(fullPath)\n    },\n    [basePath, history]\n  )\n\n  const handleClosePreferences = useCallback(() => {\n    preferenceScreen.current = ''\n    history.push(basePath)\n  }, [basePath, history])\n\n  return [\n    handleOpenPreferences,\n    handleClosePreferences,\n    preferenceScreen.current,\n  ]\n}\n","import React from 'react'\nimport { GU, textStyle } from '@aragon/ui'\nimport headerLogoSvg from '../../assets/HeaderLogo.svg'\n\nfunction HeaderLogo() {\n  return (\n    <div\n      css={`\n        display: flex;\n        align-items: center;\n      `}\n    >\n      <img\n        alt=\"\"\n        src={headerLogoSvg}\n        width={7 * GU}\n        css={`\n          margin-right: ${1 * GU}px;\n        `}\n      />\n      <h1\n        css={`\n          display: flex;\n          height: 100%;\n          align-items: center;\n          ${textStyle('body1')};\n        `}\n      >\n        Dijets Governance Council\n      </h1>\n    </div>\n  )\n}\n\nexport default HeaderLogo\n","import React, { useCallback, useEffect, useState } from 'react'\nimport { useHistory, useRouteMatch } from 'react-router-dom'\nimport { ButtonBase, GU, springs, textStyle, useTheme } from '@aragon/ui'\n\nimport { Spring, animated } from 'react-spring/renderprops'\nimport HeaderLogo from './Header/HeaderLogo'\n\nimport dashboardMenuIcon from '../assets/dashboardMenuIcon.svg'\nimport tasksMenuIcon from '../assets/tasksMenuIcon.svg'\nimport disputesMenuIcon from '../assets/disputesMenuIcon.svg'\nimport { lerp } from '../lib/math-utils'\n\nexport const MENU_PANEL_SHADOW_WIDTH = 3\nexport const MENU_PANEL_WIDTH = 25 * GU\n\nconst { div: AnimDiv } = animated\n\nfunction MenuPanel({ showHeaderLogo, onOpenPage }) {\n  const theme = useTheme()\n\n  return (\n    <nav\n      css={`\n        display: flex;\n        flex-direction: column;\n        width: 100%;\n        height: 100%;\n        background: ${theme.surface};\n        margin-top: 2px;\n        box-shadow: rgba(0, 0, 0, 0.05) 2px 0px 3px;\n      `}\n    >\n      {showHeaderLogo && (\n        <div\n          css={`\n            padding: ${2 * GU}px ${3 * GU}px;\n          `}\n        >\n          <HeaderLogo />\n        </div>\n      )}\n      <div\n        css={`\n          padding: ${2 * GU}px 0;\n        `}\n      >\n        <h2\n          css={`\n            color: ${theme.surfaceContentSecondary};\n            margin-bottom: ${1 * GU}px;\n            padding: 0 ${3 * GU}px;\n            ${textStyle('label2')};\n          `}\n        >\n          Menu\n        </h2>\n        <MenuItem\n          to=\"/dashboard\"\n          icon={dashboardMenuIcon}\n          label=\"Dashboard\"\n          onActivate={onOpenPage}\n        />\n        <MenuItem\n          to=\"/tasks\"\n          icon={tasksMenuIcon}\n          label=\"Tasks\"\n          onActivate={onOpenPage}\n        />\n        <MenuItem\n          to=\"/disputes\"\n          icon={disputesMenuIcon}\n          label=\"Proposals\"\n          onActivate={onOpenPage}\n        />\n      </div>\n    </nav>\n  )\n}\n\nfunction MenuItem({ to, icon, label, onActivate }) {\n  const history = useHistory()\n  const theme = useTheme()\n  const active = useRouteMatch(to) !== null\n\n  const handlePageRequest = useCallback(() => {\n    onActivate()\n    history.push(to)\n  }, [history, onActivate, to])\n\n  return (\n    <ButtonBase\n      onClick={handlePageRequest}\n      css={`\n        display: flex;\n        align-items: center;\n        width: 100%;\n        height: ${5 * GU}px;\n        padding: 0 ${2 * GU}px 0 ${3 * GU}px;\n        border-radius: 0;\n        text-align: left;\n        background: ${active ? theme.surfacePressed : 'transparent'};\n        &:active {\n          background: ${theme.surfacePressed};\n        }\n      `}\n    >\n      <div\n        css={`\n          position: absolute;\n          left: 0;\n          width: 3px;\n          height: 100%;\n          background: ${theme.accent};\n          opacity: ${Number(active)};\n          transform: translate3d(${active ? '0%' : '-100%'}, 0, 0);\n          transform-position: 0 0;\n          transition-property: transform, opacity;\n          transition-duration: 150ms;\n          transition-timing-function: ease-in-out;\n        `}\n      />\n\n      <img src={icon} alt=\"\" />\n      <span\n        css={`\n          margin-left: ${1 * GU}px;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          ${textStyle('body2')};\n          font-weight: ${active ? '600' : '400'};\n        `}\n      >\n        {label}\n      </span>\n    </ButtonBase>\n  )\n}\n\nfunction AnimatedMenuPanel({\n  autoClosing,\n  opened,\n  onMenuPanelClose,\n  ...props\n}) {\n  const theme = useTheme()\n  const [animate, setAnimate] = useState(autoClosing)\n\n  useEffect(() => {\n    // If autoClosing has changed, it means we are switching from autoClosing\n    // to fixed or the opposite, and we should stop animating the panel for a\n    // short period of time.\n    setAnimate(false)\n    const animateTimer = setTimeout(() => setAnimate(true), 0)\n    return () => clearTimeout(animateTimer)\n  }, [autoClosing])\n\n  return (\n    <Spring\n      from={{ menuPanelProgress: 0 }}\n      to={{ menuPanelProgress: Number(opened) }}\n      config={springs.lazy}\n      immediate={!animate}\n      native\n    >\n      {({ menuPanelProgress }) => (\n        <div\n          css={`\n            height: 100%;\n            /* When the panel is autoclosing, we want it over the top bar as well */\n            ${autoClosing\n              ? `\n              position: absolute;\n              width: 100%;\n              top: 0;\n              ${!opened ? 'pointer-events: none' : ''}\n            `\n              : ''}\n          `}\n        >\n          {autoClosing && (\n            <AnimDiv\n              onClick={onMenuPanelClose}\n              css={`\n                position: absolute;\n                height: 100%;\n                width: 100%;\n                background: ${theme.overlay.alpha(0.9)};\n                ${!opened ? 'pointer-events: none' : ''}\n              `}\n              style={{\n                opacity: menuPanelProgress,\n              }}\n            />\n          )}\n          <AnimDiv\n            css={`\n              width: ${MENU_PANEL_WIDTH}px;\n              height: 100%;\n              flex: none;\n            `}\n            style={{\n              position: autoClosing ? 'absolute' : 'relative',\n              transform: menuPanelProgress.interpolate(\n                v =>\n                  `translate3d(\n                  ${lerp(\n                    v,\n                    -(MENU_PANEL_WIDTH + MENU_PANEL_SHADOW_WIDTH),\n                    0\n                  )}px, 0, 0)`\n              ),\n            }}\n          >\n            <MenuPanel showHeaderLogo={autoClosing} {...props} />\n          </AnimDiv>\n        </div>\n      )}\n    </Spring>\n  )\n}\n\nexport default AnimatedMenuPanel\n","import React from 'react'\nimport { ButtonBase, GU, IconDown, useTheme, useViewport } from '@aragon/ui'\nfunction HeaderModule({ icon, content, onClick }) {\n  const { above } = useViewport()\n  const theme = useTheme()\n\n  return (\n    <ButtonBase\n      onClick={onClick}\n      css={`\n        height: 100%;\n        padding: 0 ${1 * GU}px;\n        &:active {\n          background: ${theme.surfacePressed};\n        }\n      `}\n    >\n      <div\n        css={`\n          display: flex;\n          align-items: center;\n          text-align: left;\n          padding: 0 ${1 * GU}px;\n        `}\n      >\n        <>\n          {icon}\n          {above('medium') && (\n            <React.Fragment>\n              <div\n                css={`\n                  padding-left: ${1 * GU}px;\n                  padding-right: ${0.5 * GU}px;\n                `}\n              >\n                {content}\n              </div>\n              <IconDown\n                size=\"small\"\n                css={`\n                  color: ${theme.surfaceIcon};\n                `}\n              />\n            </React.Fragment>\n          )}\n        </>\n      </div>\n    </ButtonBase>\n  )\n}\n\nexport default HeaderModule\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { EthIdenticon, GU, RADIUS, textStyle, useTheme } from '@aragon/ui'\n\nimport { useWallet } from 'use-wallet'\nimport HeaderModule from '../Header/HeaderModule'\nimport { shortenAddress } from '../../lib/web3-utils'\n\nfunction AccountButton({ label, onClick }) {\n  const theme = useTheme()\n  const wallet = useWallet()\n\n  return (\n    <HeaderModule\n      icon={\n        <div css=\"position: relative\">\n          <EthIdenticon address={wallet.account} radius={RADIUS} />\n          <div\n            css={`\n              position: absolute;\n              bottom: -3px;\n              right: -3px;\n              width: 10px;\n              height: 10px;\n              background: ${theme.positive};\n              border: 2px solid ${theme.surface};\n              border-radius: 50%;\n            `}\n          />\n        </div>\n      }\n      content={\n        <>\n          <div\n            css={`\n              margin-bottom: -5px;\n              ${textStyle('body2')}\n            `}\n          >\n            {label ? (\n              <div\n                css={`\n                  overflow: hidden;\n                  max-width: ${16 * GU}px;\n                  text-overflow: ellipsis;\n                  white-space: nowrap;\n                `}\n              >\n                {label}\n              </div>\n            ) : (\n              <div>{shortenAddress(wallet.account)}</div>\n            )}\n          </div>\n          <div\n            css={`\n              font-size: 11px; /* doesnt exist in aragonUI */\n              color: ${theme.positive};\n            `}\n          >\n            Connected\n          </div>\n        </>\n      }\n      onClick={onClick}\n    />\n  )\n}\nAccountButton.propTypes = {\n  label: PropTypes.string,\n  onClick: PropTypes.func.isRequired,\n}\n\nexport default AccountButton\n","import React, { useState, useEffect, useRef } from 'react'\nimport PropTypes from 'prop-types'\nimport { GU, Popover, springs, textStyle, useTheme } from '@aragon/ui'\nimport { Spring, Transition, animated } from 'react-spring/renderprops'\n\nconst AnimatedDiv = animated.div\n\nfunction AccountPopover({\n  children,\n  direction,\n  heading,\n  onClose,\n  opener,\n  screenData,\n  screenId,\n  screenKey,\n  visible,\n}) {\n  const theme = useTheme()\n\n  const [animate, setAnimate] = useState(false)\n  const [height, setHeight] = useState(30 * GU)\n  const [measuredHeight, setMeasuredHeight] = useState(true)\n\n  // Prevents to lose the focus on the popover when a screen leaves while an\n  // element inside is focused (e.g. when clicking on the disconnect button).\n  const popoverFocusElement = useRef()\n  useEffect(() => {\n    if (popoverFocusElement.current) {\n      popoverFocusElement.current.focus()\n    }\n  }, [screenId])\n\n  // Dont animate the slider until the popover has opened\n  useEffect(() => {\n    let timer\n\n    setAnimate(false)\n\n    if (visible) {\n      timer = setTimeout(() => {\n        setAnimate(true)\n      }, 0)\n    }\n\n    return () => clearTimeout(timer)\n  }, [visible])\n\n  return (\n    <Popover\n      closeOnOpenerFocus\n      onClose={onClose}\n      opener={opener}\n      placement=\"bottom-end\"\n      visible={visible}\n      css={`\n        width: ${51 * GU}px;\n      `}\n    >\n      <section\n        css={`\n          display: flex;\n          flex-direction: column;\n          overflow: hidden;\n        `}\n      >\n        <h1\n          css={`\n            display: flex;\n            flex-grow: 0;\n            flex-shrink: 0;\n            align-items: center;\n            height: ${4 * GU}px;\n            padding-left: ${2 * GU}px;\n            border-bottom: 1px solid ${theme.border};\n            color: ${theme.contentSecondary};\n            ${textStyle('label2')};\n          `}\n        >\n          {heading}\n        </h1>\n        <Spring\n          config={springs.smooth}\n          from={{ height: 32 * GU }}\n          to={{ height }}\n          immediate={!animate}\n          native\n        >\n          {({ height }) => (\n            <AnimatedDiv\n              ref={popoverFocusElement}\n              tabIndex=\"0\"\n              style={{ height: measuredHeight ? height : 'auto' }}\n              css={`\n                position: relative;\n                flex-grow: 1;\n                width: 100%;\n                overflow: hidden;\n                outline: 0;\n              `}\n            >\n              <Transition\n                native\n                config={springs.smooth}\n                items={screenData}\n                keys={screenKey}\n                from={{\n                  opacity: 0,\n                  transform: `translate3d(${3 * GU * direction}px, 0, 0)`,\n                }}\n                enter={{ opacity: 1, transform: `translate3d(0, 0, 0)` }}\n                leave={{\n                  opacity: 0,\n                  transform: `translate3d(${3 * GU * -direction}px, 0, 0)`,\n                }}\n                immediate={!animate}\n                onRest={(_, status) => {\n                  if (status === 'update') {\n                    setMeasuredHeight(false)\n                  }\n                }}\n                onStart={(_, status) => {\n                  setMeasuredHeight(true)\n                }}\n              >\n                {screenData => ({ opacity, transform }) => (\n                  <AnimatedDiv\n                    ref={elt => {\n                      if (elt) {\n                        setHeight(elt.clientHeight)\n                      }\n                    }}\n                    style={{ opacity, transform }}\n                    css={`\n                      position: ${measuredHeight ? 'absolute' : 'static'};\n                      top: 0;\n                      left: 0;\n                      right: 0;\n                    `}\n                  >\n                    {children(screenData)}\n                  </AnimatedDiv>\n                )}\n              </Transition>\n            </AnimatedDiv>\n          )}\n        </Spring>\n      </section>\n    </Popover>\n  )\n}\n\nAccountPopover.propTypes = {\n  children: PropTypes.func.isRequired,\n  direction: PropTypes.oneOf([-1, 1]).isRequired,\n  heading: PropTypes.node.isRequired,\n  onClose: PropTypes.func.isRequired,\n  opener: PropTypes.any,\n  screenData: PropTypes.object.isRequired,\n  screenId: PropTypes.string.isRequired,\n  screenKey: PropTypes.func.isRequired,\n  visible: PropTypes.bool.isRequired,\n}\n\nexport default AccountPopover\n","import React from 'react'\nimport { IdentityBadge as Badge } from '@aragon/ui'\nimport { getNetworkType } from '../lib/web3-utils'\n\nfunction IdentityBadge({ entity, ...props }) {\n  return <Badge entity={entity} networkType={getNetworkType()} {...props} />\n}\n\nIdentityBadge.propTypes = {\n  ...Badge.propTypes,\n}\n\nexport default IdentityBadge\n","import frame from './icons/Frame.png'\nimport cipher from './icons/Cipher.png'\nimport metamask from './icons/Metamask.png'\nimport status from './icons/Status.png'\nimport wallet from './icons/wallet.svg'\nimport fortmatic from './icons/Fortmatic.svg'\nimport portis from './icons/Portis.svg'\n\n// See the corresponding prop type, EthereumProviderType, in prop-types.js.\nconst PROVIDERS = new Map(\n  [\n    {\n      id: 'frame',\n      name: 'Frame',\n      type: 'Desktop',\n      image: frame,\n      strings: {\n        'your Ethereum wallet': 'Frame',\n      },\n    },\n    {\n      id: 'metamask',\n      name: 'Decypher',\n      type: 'Desktop',\n      image: metamask,\n      strings: {\n        'Dijets Utility Chain': 'Decypher',\n      },\n    },\n    {\n      id: 'status',\n      name: 'Status',\n      type: 'Mobile',\n      image: status,\n      strings: {\n        'your Ethereum wallet': 'Status',\n      },\n    },\n    {\n      id: 'cipher',\n      name: 'Cipher',\n      type: 'Mobile',\n      image: cipher,\n      strings: {\n        'your Ethereum wallet': 'Cipher',\n      },\n    },\n    {\n      id: 'fortmatic',\n      name: 'Fortmatic',\n      type: 'Any',\n      image: fortmatic,\n      strings: {\n        'your Ethereum wallet': 'Fortmatic',\n      },\n    },\n    {\n      id: 'portis',\n      name: 'Portis',\n      type: 'Any',\n      image: portis,\n      strings: {\n        'your Ethereum wallet': 'Portis',\n      },\n    },\n    {\n      id: 'unknown',\n      name: 'Unknown',\n      type: 'Desktop',\n      image: wallet,\n      strings: {\n        'your Ethereum wallet': 'your wallet',\n      },\n    },\n  ].map(provider => [provider.id, provider])\n)\n\n// Get a providers object for a given ID.\nfunction getProvider(providerId) {\n  return PROVIDERS.get(providerId)\n}\n\n// Get a string that depends on the current Ethereum provider.\n// The default string is used as an identifier ( la gettext).\nfunction getProviderString(string, providerId = 'unknown') {\n  const provider = getProvider(providerId)\n  return (provider && provider.strings[string]) || string\n}\n\n// Get an identifier for the provider, if it can be detected.\nfunction identifyProvider(provider) {\n  if (provider && provider.isMetaMask) {\n    return 'metamask'\n  }\n  return 'unknown'\n}\n\n// Get a provider from its useWallet() identifier.\nfunction getProviderFromUseWalletId(id) {\n  if (id === 'injected') {\n    return (\n      getProvider(identifyProvider(window.ethereum)) || getProvider('unknown')\n    )\n  }\n  return getProvider(id) || getProvider('unknown')\n}\n\nexport {\n  getProvider,\n  identifyProvider,\n  getProviderString,\n  getProviderFromUseWalletId,\n}\nexport default PROVIDERS\n","import React from 'react'\nimport {\n  Button,\n  ButtonBase,\n  GU,\n  IconCheck,\n  IconCopy,\n  RADIUS,\n  textStyle,\n  useTheme,\n} from '@aragon/ui'\nimport IdentityBadge from '../IdentityBadge'\nimport { getProviderFromUseWalletId } from '../../ethereum-providers'\nimport { useCopyToClipboard } from '../../hooks/useCopyToClipboard'\n\nfunction AccountScreenConnected({ wallet }) {\n  const theme = useTheme()\n  const copy = useCopyToClipboard()\n\n  const walletNetworkName = wallet.networkName\n\n  const providerInfo = getProviderFromUseWalletId(wallet.connector)\n\n  return (\n    <div\n      css={`\n        padding: ${2 * GU}px;\n      `}\n    >\n      <div\n        css={`\n          display: flex;\n          align-items: center;\n          width: 100%;\n        `}\n      >\n        <div\n          css={`\n            display: flex;\n            align-items: center;\n            margin-right: ${3 * GU}px;\n          `}\n        >\n          <img\n            src={providerInfo.image}\n            alt=\"\"\n            css={`\n              width: ${2.5 * GU}px;\n              height: ${2.5 * GU}px;\n              margin-right: ${0.5 * GU}px;\n              transform: translateY(-2px);\n            `}\n          />\n          <span>\n            {providerInfo.id === 'unknown' ? 'Wallet' : providerInfo.name}\n          </span>\n        </div>\n        <div\n          css={`\n            display: flex;\n            align-items: center;\n            justify-content: flex-end;\n            width: 100%;\n          `}\n        >\n          <ButtonBase\n            onClick={() => copy(wallet.account)}\n            focusRingRadius={RADIUS}\n            css={`\n              display: flex;\n              align-items: center;\n              justify-self: flex-end;\n              padding: ${0.5 * GU}px;\n              &:active {\n                background: ${theme.surfacePressed};\n              }\n            `}\n          >\n            <IdentityBadge\n              entity={wallet.account}\n              compact\n              badgeOnly\n              css=\"cursor: pointer\"\n            />\n            <IconCopy\n              css={`\n                color: ${theme.hint};\n              `}\n            />\n          </ButtonBase>\n        </div>\n      </div>\n      <div\n        css={`\n          display: flex;\n          align-items: center;\n          margin-top: ${1 * GU}px;\n          color: ${theme.positive};\n          ${textStyle('label2')};\n        `}\n      >\n        <IconCheck size=\"small\" />\n        <span\n          css={`\n            margin-left: ${0.5 * GU}px;\n          `}\n        >\n          {`Connected to ${walletNetworkName} Network`}\n        </span>\n      </div>\n\n      <Button\n        onClick={() => wallet.reset()}\n        wide\n        css={`\n          margin-top: ${1 * GU}px;\n        `}\n      >\n        Disconnect wallet\n      </Button>\n    </div>\n  )\n}\n\nexport default AccountScreenConnected\n","import { useCallback } from 'react'\nimport { useToast } from '@aragon/ui'\nimport { writeText as copy } from 'clipboard-polyfill'\n\nexport function useCopyToClipboard() {\n  const toast = useToast()\n  return useCallback(\n    (text, confirmationMessage = 'Copied') => {\n      copy(text)\n      if (confirmationMessage) {\n        toast(confirmationMessage)\n      }\n    },\n    [toast]\n  )\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { keyframes } from 'styled-components'\nimport { GU, useTheme, textStyle, Link } from '@aragon/ui'\nimport {\n  getProviderFromUseWalletId,\n  getProviderString,\n} from '../../ethereum-providers'\n\nimport loadingRing from './assets/loading-ring.svg'\n\nconst spin = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`\n\nfunction AccountModuleConnectingScreen({ onCancel, providerId }) {\n  const theme = useTheme()\n  const provider = getProviderFromUseWalletId(providerId)\n  return (\n    <section\n      css={`\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        padding: ${2 * GU}px;\n        height: 100%;\n      `}\n    >\n      <div\n        css={`\n          flex-grow: 1;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          text-align: center;\n        `}\n      >\n        <div\n          css={`\n            position: relative;\n            width: ${10.5 * GU}px;\n            height: ${10.5 * GU}px;\n          `}\n        >\n          <div\n            css={`\n              position: absolute;\n              top: 0;\n              left: 0;\n              right: 0;\n              bottom: 0;\n              background: url(${loadingRing}) no-repeat 0 0;\n              animation-duration: 1s;\n              animation-iteration-count: infinite;\n              animation-timing-function: linear;\n              animation-name: ${spin};\n              // prevents flickering on Firefox\n              backface-visibility: hidden;\n            `}\n          />\n          <div\n            css={`\n              position: absolute;\n              top: 0;\n              left: 0;\n              right: 0;\n              bottom: 0;\n              background: 50% 50% / auto ${5 * GU}px no-repeat\n                url(${provider.image});\n            `}\n          />\n        </div>\n        <h1\n          css={`\n            padding-top: ${2 * GU}px;\n            ${textStyle('body1')};\n            font-weight: 600;\n          `}\n        >\n          Connecting to {provider.name}\n        </h1>\n        <p\n          css={`\n            width: ${36 * GU}px;\n            color: ${theme.surfaceContentSecondary};\n          `}\n        >\n          Log into {getProviderString('your Ethereum wallet', provider.id)}. You\n          may be temporarily redirected to a new screen.\n        </p>\n      </div>\n      <div\n        css={`\n          flex-grow: 0;\n        `}\n      >\n        <Link onClick={onCancel}>Cancel</Link>\n      </div>\n    </section>\n  )\n}\n\nAccountModuleConnectingScreen.propTypes = {\n  providerId: PropTypes.string,\n  onCancel: PropTypes.func.isRequired,\n}\n\nexport default AccountModuleConnectingScreen\n","import React, { useMemo, useRef } from 'react'\nimport PropTypes from 'prop-types'\nimport { GU, Link, textStyle, useTheme } from '@aragon/ui'\nimport { ChainUnsupportedError } from 'use-wallet'\nimport { getNetworkName } from '../../lib/web3-utils'\nimport connectionError from './assets/connection-error.png'\n\nfunction AccountModuleErrorScreen({ error, onBack }) {\n  const theme = useTheme()\n  const elementRef = useRef()\n\n  const [title, secondary] = useMemo(() => {\n    if (error instanceof ChainUnsupportedError) {\n      return [\n        'Wrong network',\n        `Please select the ${getNetworkName()} network in your wallet and try again.`,\n      ]\n    }\n    return [\n      'Failed to enable your account',\n      'You can try another Ethereum wallet.',\n    ]\n  }, [error])\n\n  return (\n    <section\n      ref={elementRef}\n      css={`\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        padding: ${2 * GU}px;\n        height: 100%;\n      `}\n    >\n      <div\n        css={`\n          flex-grow: 1;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          text-align: center;\n        `}\n      >\n        <div\n          css={`\n            position: relative;\n            width: 281px;\n            height: 188px;\n            background: 50% 50% / 100% 100% no-repeat url(${connectionError});\n          `}\n        />\n        <h1\n          css={`\n            padding-top: ${2 * GU}px;\n            ${textStyle('body1')};\n            font-weight: 600;\n          `}\n        >\n          {title}\n        </h1>\n        <p\n          css={`\n            width: ${36 * GU}px;\n            color: ${theme.surfaceContentSecondary};\n          `}\n        >\n          {secondary}\n        </p>\n      </div>\n      <div\n        css={`\n          flex-grow: 0;\n        `}\n      >\n        <Link onClick={onBack}>OK, try again</Link>\n      </div>\n    </section>\n  )\n}\n\nAccountModuleErrorScreen.propTypes = {\n  error: PropTypes.instanceOf(Error),\n  onBack: PropTypes.func.isRequired,\n}\n\nexport default AccountModuleErrorScreen\n","import React, { useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport { ButtonBase, GU, Link, RADIUS, useTheme, textStyle } from '@aragon/ui'\nimport { getProviderFromUseWalletId } from '../../ethereum-providers'\nimport { getUseWalletProviders } from '../../lib/web3-utils'\n\nconst PROVIDERS_INFO = getUseWalletProviders().map(provider => [\n  provider.id,\n  getProviderFromUseWalletId(provider.id),\n])\n\nfunction ScreenProviders({ onActivate }) {\n  return (\n    <div\n      css={`\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        width: 100%;\n        padding: ${2 * GU}px ${2 * GU}px 0;\n      `}\n    >\n      <div\n        css={`\n          display: grid;\n          grid-gap: ${1.5 * GU}px;\n          grid-auto-flow: row;\n          grid-template-columns: repeat(2, 1fr);\n        `}\n      >\n        {PROVIDERS_INFO.map(([id, provider]) => (\n          <ProviderButton\n            key={id}\n            id={id}\n            provider={provider}\n            onActivate={onActivate}\n          />\n        ))}\n      </div>\n      <div\n        css={`\n          display: flex;\n          justify-content: center;\n          margin-top: ${2 * GU}px;\n        `}\n      >\n        <Link href=\"https://ethereum.org/wallets/\" css=\"text-decoration: none\">\n          Dont have an Ethereum account?\n        </Link>\n      </div>\n    </div>\n  )\n}\nScreenProviders.propTypes = {\n  onActivate: PropTypes.func.isRequired,\n}\n\nfunction ProviderButton({ id, provider, onActivate }) {\n  const theme = useTheme()\n\n  const handleClick = useCallback(() => {\n    onActivate(id)\n  }, [onActivate, id])\n\n  return (\n    <ButtonBase\n      key={id}\n      onClick={handleClick}\n      css={`\n        position: relative;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        width: 100%;\n        height: ${12 * GU}px;\n        background: ${theme.surface};\n        box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.15);\n        border-radius: ${RADIUS}px;\n        &:active {\n          top: 1px;\n          box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n      `}\n    >\n      <img src={provider.image} alt=\"\" height={5.25 * GU} />\n      <div\n        css={`\n          margin-top: ${1 * GU}px;\n          ${textStyle('body1')};\n        `}\n      >\n        {provider.name}\n      </div>\n    </ButtonBase>\n  )\n}\nProviderButton.propTypes = {\n  id: PropTypes.string.isRequired,\n  onActivate: PropTypes.func.isRequired,\n  provider: PropTypes.shape({\n    image: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ScreenProviders\n","import React, { useCallback, useEffect, useMemo, useRef, useState } from 'react'\nimport { useWallet } from 'use-wallet'\nimport { Button, GU, IconConnect, useViewport } from '@aragon/ui'\nimport { shortenAddress } from '../../lib/web3-utils'\nimport AccountButton from './AccountButton'\nimport AccountPopover from './AccountPopover'\nimport ScreenConnected from './ScreenConnected'\nimport ScreenConnecting from './ScreenConnecting'\nimport ScreenError from './ScreenError'\nimport ScreenProviders from './ScreenProviders'\n\nconst SCREENS = [\n  { id: 'providers', title: 'Use account from' },\n  { id: 'connecting', title: 'Use account from' },\n  { id: 'connected', title: 'Active account' },\n  { id: 'error', title: 'Connection error' },\n]\n\nfunction AccountModule() {\n  const [opened, setOpened] = useState(false)\n  const [activatingDelayed, setActivatingDelayed] = useState(null)\n  const buttonRef = useRef()\n  const { below } = useViewport()\n  const compactMode = below('medium')\n  const wallet = useWallet()\n  const { account, connector, error, status } = wallet\n\n  const open = useCallback(() => setOpened(true), [])\n  const toggle = useCallback(() => setOpened(opened => !opened), [])\n\n  useEffect(() => {\n    let timer\n\n    if (status === 'error') {\n      setActivatingDelayed(null)\n    }\n\n    if (status === 'connecting') {\n      setActivatingDelayed(connector)\n      timer = setTimeout(() => {\n        setActivatingDelayed(null)\n      }, 400)\n    }\n\n    return () => clearTimeout(timer)\n  }, [connector, status])\n\n  const handleResetConnection = useCallback(() => {\n    wallet.reset()\n  }, [wallet])\n\n  const handleActivate = useCallback(providerId => wallet.connect(providerId), [\n    wallet,\n  ])\n\n  const previousScreenIndex = useRef(-1)\n\n  const { screenIndex, direction } = useMemo(() => {\n    const screenId = status === 'disconnected' ? 'providers' : status\n\n    const screenIndex = SCREENS.findIndex(screen => screen.id === screenId)\n    const direction = previousScreenIndex.current > screenIndex ? -1 : 1\n\n    previousScreenIndex.current = screenIndex\n\n    return { direction, screenIndex }\n  }, [status])\n\n  const screen = SCREENS[screenIndex]\n  const screenId = screen.id\n\n  const handlePopoverClose = useCallback(() => {\n    if (screenId === 'connecting' || screenId === 'error') {\n      // reject closing the popover\n      return false\n    }\n    setOpened(false)\n  }, [screenId])\n\n  return (\n    <div\n      ref={buttonRef}\n      tabIndex=\"0\"\n      css={`\n        display: flex;\n        align-items: center;\n        justify-content: space-around;\n        width: ${compactMode ? 'auto' : `${24.5 * GU}px`};\n        outline: 0;\n      `}\n    >\n      {screen.id === 'connected' ? (\n        <AccountButton\n          label={shortenAddress(wallet.account)}\n          onClick={toggle}\n        />\n      ) : (\n        <Button\n          icon={<IconConnect />}\n          label=\"Connect account\"\n          onClick={toggle}\n          display={compactMode ? 'icon' : 'all'}\n        />\n      )}\n      <AccountPopover\n        direction={direction}\n        heading={screen.title}\n        keys={({ screenId }) => screenId + status + error.name}\n        onClose={handlePopoverClose}\n        onOpen={open}\n        opener={buttonRef.current}\n        screenId={screenId}\n        screenData={{\n          account,\n          activating: activatingDelayed,\n          activationError: error,\n          status,\n          screenId,\n        }}\n        screenKey={({ account, activating, activationError, screenId }) =>\n          (activationError ? activationError.name : '') +\n          account +\n          activating +\n          screenId\n        }\n        visible={opened}\n      >\n        {({ activating, activationError, screenId }) => {\n          if (screenId === 'connecting') {\n            return (\n              <ScreenConnecting\n                providerId={activating}\n                onCancel={handleResetConnection}\n              />\n            )\n          }\n          if (screenId === 'connected') {\n            return <ScreenConnected wallet={wallet} />\n          }\n          if (screenId === 'error') {\n            return (\n              <ScreenError\n                error={activationError}\n                onBack={handleResetConnection}\n              />\n            )\n          }\n          return <ScreenProviders onActivate={handleActivate} />\n        }}\n      </AccountPopover>\n    </div>\n  )\n}\n\nexport default AccountModule\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { GU, Popover, springs, textStyle, useTheme } from '@aragon/ui'\nimport { Spring, animated } from 'react-spring/renderprops'\n\nconst AnimatedSection = animated.section\n\nfunction HeaderPopover({\n  animateHeight,\n  children,\n  height,\n  width,\n  heading,\n  onClose,\n  opener,\n  visible,\n}) {\n  const theme = useTheme()\n\n  return (\n    <Popover\n      closeOnOpenerFocus\n      onClose={onClose}\n      opener={opener}\n      placement=\"bottom-end\"\n      visible={visible}\n      css={`\n        width: ${width}px;\n      `}\n    >\n      <Spring\n        config={springs.smooth}\n        from={{ height: `${38 * GU}px` }}\n        to={{ height: `${height}px` }}\n        immediate={!animateHeight}\n        native\n      >\n        {({ height }) => (\n          <AnimatedSection\n            style={{ height }}\n            css={`\n              display: flex;\n              flex-direction: column;\n              overflow: hidden;\n            `}\n          >\n            <h1\n              css={`\n                display: flex;\n                flex-grow: 0;\n                flex-shrink: 0;\n                align-items: center;\n                height: ${4 * GU}px;\n                padding-left: ${2 * GU}px;\n                border-bottom: 1px solid ${theme.border};\n                color: ${theme.contentSecondary};\n                ${textStyle('label2')};\n              `}\n            >\n              {heading}\n            </h1>\n            <div\n              css={`\n                position: relative;\n                flex-grow: 1;\n                width: 100%;\n              `}\n            >\n              {children}\n            </div>\n          </AnimatedSection>\n        )}\n      </Spring>\n    </Popover>\n  )\n}\n\nHeaderPopover.propTypes = {\n  animateHeight: PropTypes.bool.isRequired,\n  children: PropTypes.node.isRequired,\n  heading: PropTypes.node.isRequired,\n  height: PropTypes.number.isRequired,\n  onClose: PropTypes.func.isRequired,\n  opener: PropTypes.any,\n  visible: PropTypes.bool.isRequired,\n}\n\nexport default HeaderPopover\n","import { useEffect, useState } from 'react'\nimport { dayjs } from '../utils/date-utils'\n\nexport default function useNow(updateEvery = 1000) {\n  const [now, setNow] = useState(dayjs())\n  useEffect(() => {\n    const timer = setInterval(() => {\n      setNow(dayjs())\n    }, updateEvery)\n    return () => {\n      clearInterval(timer)\n    }\n  }, [updateEvery])\n  return now\n}\n","import React, { useContext, useMemo } from 'react'\nimport PropTypes from 'prop-types'\n\nimport useNow from '../hooks/useNow'\nimport { useCourtConfig } from './CourtConfig'\nimport { getTermPeriod, getExpectedCurrentTermId } from '../utils/court-utils'\n\nconst CourtClockContext = React.createContext()\n\nfunction CourtClockProvider({ children }) {\n  const now = useNow()\n  const courtConfig = useCourtConfig()\n\n  const { currentTerm: actualCurrentTerm, terms = [], termDuration = 0 } =\n    courtConfig || {}\n\n  let expectedCurrentTerm = 0\n  let [termStartTime, termEndTime] = [0, 0]\n\n  if (terms.length > 0) {\n    expectedCurrentTerm = getExpectedCurrentTermId(now, {\n      terms,\n      termDuration,\n    })\n\n    const termPeriod = getTermPeriod(expectedCurrentTerm, {\n      terms,\n      termDuration,\n    })\n\n    termStartTime = termPeriod[0]\n    termEndTime = termPeriod[1]\n  }\n\n  const courtClock = useMemo(\n    () => ({\n      currentTermId: expectedCurrentTerm,\n      currentTermStartDate: new Date(termStartTime),\n      currentTermEndDate: new Date(termEndTime),\n      isSynced: expectedCurrentTerm === actualCurrentTerm,\n      neededTransitions: expectedCurrentTerm - actualCurrentTerm,\n    }),\n    [actualCurrentTerm, expectedCurrentTerm, termEndTime, termStartTime]\n  )\n\n  return (\n    <CourtClockContext.Provider value={courtClock}>\n      {children}\n    </CourtClockContext.Provider>\n  )\n}\n\nCourtClockProvider.propTypes = {\n  children: PropTypes.node,\n}\n\nfunction useCourtClock() {\n  return useContext(CourtClockContext)\n}\n\nexport { CourtClockProvider, useCourtClock }\n","class StoredList {\n  // name: the key used by StoredList to save the list in localStorage.\n  // preStringify: use this to transform an item of the list before being saved.\n  // postParse: use this to transform an item of the list after it got loaded.\n  constructor(name, { preStringify = v => v, postParse = v => v } = {}) {\n    this.options = { preStringify, postParse }\n    this.name = name\n    this.items = this.loadItems()\n  }\n\n  loadItems() {\n    let items = null\n    const value = localStorage.getItem(this.name)\n\n    if (value === null) {\n      return []\n    }\n\n    try {\n      items = JSON.parse(value)\n    } catch (err) {\n      console.error(\n        `StoredList (${this.name}) couldnt parse the loaded items`,\n        err\n      )\n    }\n\n    if (!Array.isArray(items)) {\n      items = null\n      console.error(\n        `The data loaded by StoredList (${this.name}) is not an array`,\n        items\n      )\n    }\n\n    return items === null ? [] : items.map(this.options.postParse)\n  }\n\n  saveItems() {\n    localStorage.setItem(\n      this.name,\n      JSON.stringify(this.items.map(this.options.preStringify))\n    )\n  }\n\n  getItems() {\n    return this.items\n  }\n\n  update(items = []) {\n    this.items = items\n    this.saveItems()\n    return items\n  }\n\n  add(value) {\n    return this.update([...this.items, value])\n  }\n\n  remove(index) {\n    return this.update([\n      ...this.items.slice(0, index),\n      ...this.items.slice(index + 1),\n    ])\n  }\n\n  has(cond) {\n    return this.items.some(cond)\n  }\n}\n\nexport default StoredList\n","import React, { useContext, useMemo } from 'react'\nimport { providers as EthersProviders } from 'ethers'\nimport { UseWalletProvider, useWallet } from 'use-wallet'\nimport { getUseWalletConnectors } from '../lib/web3-utils'\n\nconst WalletAugmentedContext = React.createContext()\n\nfunction useWalletAugmented() {\n  return useContext(WalletAugmentedContext)\n}\n\n// Adds Ethers.js to the useWallet() object\nfunction WalletAugmented({ children }) {\n  const wallet = useWallet()\n  const { ethereum } = wallet\n\n  const ethers = useMemo(\n    () => (ethereum ? new EthersProviders.Web3Provider(ethereum) : null),\n    [ethereum]\n  )\n\n  const contextValue = useMemo(() => ({ ...wallet, ethers }), [wallet, ethers])\n\n  return (\n    <WalletAugmentedContext.Provider value={contextValue}>\n      {children}\n    </WalletAugmentedContext.Provider>\n  )\n}\n\nfunction WalletProvider({ children }) {\n  return (\n    <UseWalletProvider chainId={43112} connectors={getUseWalletConnectors()}>\n      <WalletAugmented>{children}</WalletAugmented>\n    </UseWalletProvider>\n  )\n}\n\nexport { useWalletAugmented as useWallet, WalletProvider }\n","export const ACTIVITY_STATUS_CONFIRMED = Symbol('ACTIVITY_STATUS_CONFIRMED')\nexport const ACTIVITY_STATUS_FAILED = Symbol('ACTIVITY_STATUS_FAILED')\nexport const ACTIVITY_STATUS_PENDING = Symbol('ACTIVITY_STATUS_PENDING')\nexport const ACTIVITY_STATUS_TIMED_OUT = Symbol('ACTIVITY_STATUS_TIMED_OUT')\n","export default {\n  ACTIVATE_ANJ: Symbol('ACTIVATE_ANJ'),\n  DEACTIVATE_ANJ: Symbol('DEACTIVATE_ANJ'),\n  WITHDRAW_ANJ: Symbol('WITHDRAW_ANJ'),\n  DRAFT_JURY: Symbol('DRAFT_JURY'),\n  COMMIT_VOTE: Symbol('COMMIT_VOTE'),\n  REVEAL_VOTE: Symbol('REVEAL_VOTE'),\n  LEAK_VOTE: Symbol('LEAK_VOTE'),\n  APPROVE_FEE_DEPOSIT: Symbol('APPROVE_FEE_DEPOSIT'),\n  APPEAL_RULING: Symbol('APPEAL_RULING'),\n  CONFIRM_APPEAL: Symbol('CONFIRM_APPEAL'),\n  EXECUTE_RULING: Symbol('EXECUTE_RULING'),\n  HEARTBEAT: Symbol('HEARTBEAT'),\n  SETTLE_REWARD: Symbol('SETTLE_REWARD'),\n  SETTLE_APPEAL_DEPOSIT: Symbol('SETTLE_APPEAL_DEPOSIT'),\n  CLAIM_REWARDS: Symbol('CLAIM_REWARDS'),\n  CLAIM_SUBSCRIPTION_FEES: Symbol('CLAIM_SUBSCRIPTION_FEES'),\n}\n","import React, {\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react'\nimport PropTypes from 'prop-types'\nimport StoredList from '../StoredList'\nimport { getNetworkType } from '../lib/web3-utils'\nimport { MINUTE } from '../utils/date-utils'\nimport { useWallet } from './Wallet'\nimport {\n  ACTIVITY_STATUS_CONFIRMED,\n  ACTIVITY_STATUS_FAILED,\n  ACTIVITY_STATUS_PENDING,\n  ACTIVITY_STATUS_TIMED_OUT,\n} from '../components/Activity/activity-statuses'\nimport actions from '../actions/court-action-types'\n\nconst ActivityContext = React.createContext()\n\n// Only used to serialize / deserialize the symbols\nconst StatusSymbolsByName = new Map(\n  Object.entries({\n    ACTIVITY_STATUS_CONFIRMED,\n    ACTIVITY_STATUS_FAILED,\n    ACTIVITY_STATUS_PENDING,\n    ACTIVITY_STATUS_TIMED_OUT,\n  })\n)\n\nconst TypeSymbolsByName = new Map(Object.entries(actions))\n\nconst TIMEOUT_DURATION = 10 * MINUTE\n\nfunction getStoredList(account) {\n  return new StoredList(`activity:${getNetworkType()}:${account}`, {\n    preStringify: activity => ({\n      ...activity,\n      status: activity.status.description.replace('ACTIVITY_STATUS_', ''),\n      type: activity.type.description,\n    }),\n    postParse: activity => ({\n      ...activity,\n      status: StatusSymbolsByName.get(`ACTIVITY_STATUS_${activity.status}`),\n      type: TypeSymbolsByName.get(activity.type),\n    }),\n  })\n}\n\nasync function getActivityFinalStatus(\n  ethers,\n  { createdAt, transactionHash, status }\n) {\n  if (status !== ACTIVITY_STATUS_PENDING) {\n    return status\n  }\n\n  const now = Date.now()\n\n  return Promise.race([\n    // Get the transaction status once mined\n    ethers\n      .getTransaction(String(transactionHash))\n      .then(tx => {\n        // tx is null if no tx was found\n        if (!tx) {\n          throw new Error('No transaction found')\n        }\n        return tx.wait().then(receipt => {\n          return receipt.blockNumber\n            ? ACTIVITY_STATUS_CONFIRMED\n            : ACTIVITY_STATUS_FAILED\n        })\n      })\n      .catch(() => {\n        return ACTIVITY_STATUS_FAILED\n      }),\n\n    // Timeout after 10 minutes\n    new Promise(resolve => {\n      if (now - createdAt > TIMEOUT_DURATION) {\n        return ACTIVITY_STATUS_TIMED_OUT\n      }\n      setTimeout(() => {\n        resolve(ACTIVITY_STATUS_TIMED_OUT)\n      }, TIMEOUT_DURATION - (now - createdAt))\n    }),\n  ])\n}\n\nfunction ActivityProvider({ children }) {\n  const [activities, setActivities] = useState([])\n  const storedList = useRef(null)\n  const wallet = useWallet()\n  const { account, ethers } = wallet\n\n  // Update the activities, ensuring the activities\n  // are updated in the stored list and in the state.\n  const updateActivities = useCallback(\n    cb => {\n      const newActivities = cb(activities)\n      setActivities(newActivities)\n      if (storedList.current) {\n        storedList.current.update(newActivities)\n      }\n    },\n    [activities]\n  )\n\n  // Add a single activity.\n  const addActivity = useCallback(\n    async (\n      tx,\n\n      // see types defined in ../actions/court-action-types.js\n      type,\n      description = ''\n    ) => {\n      // tx might be a promise resolving into a tx\n      tx = await tx\n\n      updateActivities(activities => [\n        ...activities,\n        {\n          createdAt: Date.now(),\n          description,\n          from: tx.from,\n          nonce: tx.nonce,\n          read: false,\n          status: ACTIVITY_STATUS_PENDING,\n          type,\n          to: tx.to,\n          transactionHash: tx.hash,\n        },\n      ])\n\n      return tx\n    },\n    [updateActivities]\n  )\n\n  // Clear a single activity\n  const removeActivity = useCallback(\n    transactionHash => {\n      updateActivities(activities =>\n        activities.filter(\n          activity => activity.transactionHash !== transactionHash\n        )\n      )\n    },\n    [updateActivities]\n  )\n\n  // Clear all non pending activities  we dont clear\n  // pending because were awaiting state change.\n  const clearActivities = useCallback(() => {\n    updateActivities(activities =>\n      activities.filter(activity => activity.status === ACTIVITY_STATUS_PENDING)\n    )\n  }, [updateActivities])\n\n  // Update the status of a single activity,\n  // using its transaction hash.\n  const updateActivityStatus = useCallback(\n    (hash, status) => {\n      updateActivities(activities =>\n        activities.map(activity => {\n          if (activity.transactionHash !== hash) {\n            return activity\n          }\n          return { ...activity, read: false, status }\n        })\n      )\n    },\n    [updateActivities]\n  )\n\n  // Mark the current users activities as read\n  const markActivitiesRead = useCallback(() => {\n    updateActivities(activities =>\n      activities.map(activity => ({ ...activity, read: true }))\n    )\n  }, [updateActivities])\n\n  // Total number of unread activities\n  const unreadCount = useMemo(() => {\n    return activities.reduce((count, { read }) => count + Number(!read), 0)\n  }, [activities])\n\n  const updateActivitiesFromStorage = useCallback(() => {\n    if (!storedList.current) {\n      return\n    }\n\n    const activitiesFromStorage = storedList.current.getItems()\n\n    // We will diff activities from storage and activites from state to prevent loops in the useEffect below\n    const activitiesChanged =\n      activities.length !== activitiesFromStorage.length ||\n      activitiesFromStorage.filter(\n        ({ transactionHash }) =>\n          activities.findIndex(\n            activity => activity.transactionHash === transactionHash\n          ) === -1\n      ) > 0\n\n    if (activitiesChanged) {\n      setActivities(activitiesFromStorage)\n    }\n  }, [activities])\n\n  // Triggered every time the account changes\n  useEffect(() => {\n    if (!account) {\n      return\n    }\n\n    let cancelled = false\n    storedList.current = getStoredList(account)\n    updateActivitiesFromStorage()\n\n    activities.forEach(async activity => {\n      const status = await getActivityFinalStatus(ethers, activity)\n      if (!cancelled && status !== activity.status) {\n        updateActivityStatus(activity.transactionHash, status)\n      }\n    })\n\n    return () => {\n      cancelled = true\n    }\n  }, [\n    account,\n    activities,\n    ethers,\n    updateActivitiesFromStorage,\n    updateActivityStatus,\n  ])\n\n  return (\n    <ActivityContext.Provider\n      value={{\n        activities,\n        addActivity,\n        clearActivities,\n        markActivitiesRead,\n        removeActivity,\n        unreadCount,\n        updateActivities,\n      }}\n    >\n      {children}\n    </ActivityContext.Provider>\n  )\n}\n\nActivityProvider.propTypes = {\n  children: PropTypes.node,\n}\n\nfunction useActivity() {\n  return useContext(ActivityContext)\n}\n\nexport { ActivityProvider, useActivity }\n","import React, { useCallback, useContext, useState } from 'react'\nimport PropTypes from 'prop-types'\n\nconst RequestQueueContext = React.createContext()\n\nfunction RequestQueueProvider({ children }) {\n  const [requestQueue, setRequestQueue] = useState([])\n\n  const addRequests = useCallback(\n    requests => {\n      const newRequests = requestQueue.concat(requests)\n      return setRequestQueue(newRequests)\n    },\n    [requestQueue]\n  )\n\n  const clearRequestQueue = useCallback(() => {\n    return setRequestQueue([])\n  }, [])\n\n  return (\n    <RequestQueueContext.Provider\n      value={{\n        addRequests,\n        clearRequestQueue,\n        requests: requestQueue,\n      }}\n    >\n      {children}\n    </RequestQueueContext.Provider>\n  )\n}\n\nRequestQueueProvider.propTypes = {\n  children: PropTypes.node,\n}\n\nfunction useRequestQueue() {\n  return useContext(RequestQueueContext)\n}\n\nexport { RequestQueueProvider, useRequestQueue }\n","import actions from './court-action-types'\n\nconst TERM_AGNOSTIC = -1\n\n// Some court actions cannot be executed if the court clock term is not synced or is more than a certain number of terms behind.\n// This is a mapping of every action and its number of maximum allowed terms behind to be able to be executed.\nexport default {\n  [actions.APPROVE_FEE_DEPOSIT]: TERM_AGNOSTIC,\n  [actions.ACTIVATE_ANJ]: 1,\n  [actions.APPEAL_RULING]: 1,\n  [actions.CLAIM_REWARDS]: TERM_AGNOSTIC,\n  [actions.CLAIM_SUBSCRIPTION_FEES]: TERM_AGNOSTIC,\n  [actions.COMMIT_VOTE]: 1,\n  [actions.CONFIRM_APPEAL]: 1,\n  [actions.DEACTIVATE_ANJ]: 1,\n  [actions.DRAFT_JURY]: 0,\n  [actions.EXECUTE_RULING]: 1,\n  [actions.HEARTBEAT]: TERM_AGNOSTIC,\n  [actions.LEAK_VOTE]: 1,\n  [actions.REVEAL_VOTE]: 1,\n  [actions.SETTLE_REWARD]: TERM_AGNOSTIC,\n  [actions.SETTLE_APPEAL_DEPOSIT]: TERM_AGNOSTIC,\n  [actions.WITHDRAW_ANJ]: 0,\n}\n","import { useCallback } from 'react'\nimport { useHeartbeat } from './useCourtContracts'\nimport { useCourtClock } from '../providers/CourtClock'\nimport { useActivity } from '../providers/ActivityProvider'\nimport { useRequestQueue } from '../providers/RequestQueue'\n\nimport allowedTermsBehind from '../actions/allowedTermsBehind'\n\nexport function useRequestProcessor() {\n  const { addActivity } = useActivity()\n  const { addRequests } = useRequestQueue()\n  const { heartbeatRequest } = useHeartbeat()\n  const { neededTransitions } = useCourtClock()\n\n  const processRequests = useCallback(\n    (requests = []) => {\n      const processedRequests = requests.map(\n        ({\n          action,\n          description,\n          ensureConfirmation = false,\n          isTx = true,\n          type,\n          ...request\n        }) => {\n          const intent = isTx\n            ? () => addActivity(action(), type, description)\n            : action\n\n          return {\n            type,\n            intent,\n            description,\n            ensureConfirmation,\n            isTx,\n            ...request,\n          }\n        }\n      )\n\n      const maxAllowedTermsBehind = processedRequests\n        .filter(req => req.isTx)\n        .reduce((acc, req) => Math.max(acc, allowedTermsBehind[req.type]), -1)\n\n      // Some court actions require the court clock to be at most x terms behind\n      // Check if a term transition is needed\n      if (\n        maxAllowedTermsBehind >= 0 &&\n        neededTransitions > maxAllowedTermsBehind\n      ) {\n        processedRequests.unshift(heartbeatRequest(neededTransitions, true))\n      }\n\n      // Add requests to tx queue\n      addRequests(processedRequests)\n    },\n    [addActivity, addRequests, heartbeatRequest, neededTransitions]\n  )\n\n  return processRequests\n}\n","import env from './environment'\nimport { graphEndpoint, IPFS_ENDPOINT } from './endpoints'\n\nconst CLIENT_THEME = 'THEME'\nconst DEFAULT_ETH_NODE = 'DEFAULT_ETH_NODE'\nconst IPFS_GATEWAY = 'IPFS_GATEWAY'\nconst PACKAGE_VERSION = 'PACKAGE_VERSION'\nconst SUBGRAPH_HTTP_ENDPOINT = 'SUBGRAPH_HTTP_ENDPOINT'\nconst DEFAULT_SUBGRAPH_HTTP_ENDPOINT = graphEndpoint()\n\n// Get a setting from localStorage\nfunction getLocalStorageSetting(confKey) {\n  const storageKey = `${confKey}_KEY`\n  return window.localStorage.getItem(storageKey)\n}\n\n// Get a local setting: from the local storage if available, or the env vars.\nfunction getLocalSetting(confKey) {\n  return getLocalStorageSetting(confKey) || env(confKey)\n}\n\nfunction setLocalSetting(confKey, value) {\n  const storageKey = `${confKey}_KEY`\n  return window.localStorage.setItem(storageKey, value)\n}\n\nexport function clearLocalStorageNetworkSettings() {\n  window.localStorage.removeItem('DEFAULT_ETH_NODE_KEY')\n  window.localStorage.removeItem('IPFS_GATEWAY_KEY')\n  window.localStorage.removeItem('SUBGRAPH_HTTP_ENDPOINT_KEY')\n}\n\nexport function getDefaultEthNode() {\n  // Let the network configuration handle node defaults\n  return getLocalSetting(DEFAULT_ETH_NODE) || ''\n}\n\nexport function setDefaultEthNode(node) {\n  return setLocalSetting(DEFAULT_ETH_NODE, node)\n}\n\nexport function getIpfsGateway() {\n  return getLocalSetting(IPFS_GATEWAY) || IPFS_ENDPOINT\n}\n\nexport function setIpfsGateway(gateway) {\n  return setLocalSetting(IPFS_GATEWAY, gateway)\n}\n\n// The previous package version is stored in localStorage,\n// while the current one is coming from the environment.\nexport function getPackageVersion() {\n  return env(PACKAGE_VERSION) || ''\n}\n\nexport function getLastPackageVersion() {\n  return getLocalStorageSetting(PACKAGE_VERSION) || ''\n}\n\nexport function setPackageVersion(version) {\n  return setLocalSetting(PACKAGE_VERSION, version)\n}\n\nexport function getSubgraphHttpEndpoint() {\n  return (\n    getLocalSetting(SUBGRAPH_HTTP_ENDPOINT) || DEFAULT_SUBGRAPH_HTTP_ENDPOINT\n  )\n}\n\nexport function setSubgraphHttpEndpoint(endpoint) {\n  return setLocalSetting(SUBGRAPH_HTTP_ENDPOINT, endpoint)\n}\n\nexport function getClientTheme() {\n  const storedClientTheme = getLocalStorageSetting(CLIENT_THEME)\n  if (storedClientTheme) {\n    try {\n      return JSON.parse(storedClientTheme)\n    } catch (err) {}\n  }\n  return {\n    // To be replaced by an auto state\n    appearance: window.matchMedia('(prefers-color-scheme: dark)').matches\n      ? 'dark'\n      : 'light',\n    theme: null,\n  }\n}\n\nexport function setClientTheme(appearance, theme = null) {\n  return setLocalSetting(CLIENT_THEME, JSON.stringify({ appearance, theme }))\n}\n","import environment from './environment'\n\nimport { isLocalOrUnknownNetwork, getNetworkType } from './lib/web3-utils'\nimport { getNetworkConfig } from './networks'\nimport {\n  getDefaultEthNode,\n  getIpfsGateway,\n  getSubgraphHttpEndpoint,\n} from './local-settings'\n\nconst CHAIN_ID = environment('CHAIN_ID')\nconst COURT_SERVER_NAME = environment('COURT_SERVER_NAME')\n\n// IPFS endpoint\nexport const IPFS_ENDPOINT = isLocalOrUnknownNetwork(CHAIN_ID)\n  ? 'http://localhost:8080/ipfs'\n  : 'http://localhost:8080/ipfs'\n\n// Court server endpoint\nexport function courtServerEndpoint() {\n  if (isLocalOrUnknownNetwork(CHAIN_ID)) {\n    return 'http://127.0.0.1:8000'\n  }\n\n  const networkType = getNetworkType(CHAIN_ID)\n  return `http://localhost:8000${\n    networkType === 'dijets' ? '' : `-${COURT_SERVER_NAME || networkType}`\n  }`\n}\n\nexport function graphEndpoint() {\n  const { nodes } = getNetworkConfig()\n  return nodes.subgraph\n}\n\nexport const defaultEthNode =\n  getDefaultEthNode() || getNetworkConfig().nodes.defaultEth\n\nexport const defaultIpfsGateway = getIpfsGateway()\n\nexport const defaultSubgraphHttpEndpoint = getSubgraphHttpEndpoint()\n","import { useMemo } from 'react'\nimport { Contract as EthersContract, providers as Providers } from 'ethers'\nimport { useWallet } from './providers/Wallet'\nimport { defaultEthNode } from './endpoints'\n\nconst DEFAULT_PROVIDER = new Providers.JsonRpcProvider(defaultEthNode)\n\nexport function useContract(address, abi, signer = true) {\n  const { account, ethers } = useWallet()\n\n  return useMemo(() => {\n    // Apparently .getSigner() returns a new object every time, so we use the\n    // connected account as memo dependency.\n\n    if (!address || !ethers || !account) {\n      return null\n    }\n\n    return getContract(address, abi, signer ? ethers.getSigner() : ethers)\n  }, [abi, account, address, ethers, signer])\n}\n\nexport function useContractReadOnly(address, abi) {\n  return useMemo(() => {\n    if (!address) {\n      return null\n    }\n    return getContract(address, abi)\n  }, [abi, address])\n}\n\nexport function getContract(address, abi, provider = DEFAULT_PROVIDER) {\n  return new EthersContract(address, abi, provider)\n}\n","import { courtServerEndpoint } from '../endpoints'\nimport { getVoteId, hashPassword } from '../utils/crvoting-utils'\n\nconst COURT_SERVER_ENDPOINT = courtServerEndpoint()\n\nexport async function requestAutoReveal(\n  juror,\n  disputeId,\n  roundId,\n  outcome,\n  password\n) {\n  const voteId = getVoteId(disputeId, roundId).toString()\n  const salt = hashPassword(password)\n\n  try {\n    const rawResponse = await fetch(`${COURT_SERVER_ENDPOINT}/reveals`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        juror: juror.toLowerCase(),\n        voteId,\n        outcome: outcome.toString(),\n        salt,\n      }),\n    })\n\n    if (rawResponse.ok) {\n      return\n    }\n\n    const response = await rawResponse.json()\n    const errors = response.errors\n      .map(err => Object.values(err).join(', '))\n      .join(', ')\n\n    throw new Error(\n      `Failed to request auto-reveal service due to errors: ${errors}`\n    )\n  } catch (err) {\n    console.error(err)\n    throw err\n  }\n}\n\nexport async function getAutoRevealRequest(juror, disputeId, roundId) {\n  const voteId = getVoteId(disputeId, roundId).toString()\n\n  try {\n    const rawResponse = await fetch(\n      `${COURT_SERVER_ENDPOINT}/reveals/${juror}/${voteId}`,\n      {\n        method: 'GET',\n        headers: { 'Content-Type': 'application/json' },\n      }\n    )\n\n    if (rawResponse.ok) {\n      const { reveal } = await rawResponse.json()\n      return reveal\n    }\n\n    return null\n  } catch (err) {\n    console.error(err)\n    throw err\n  }\n}\n","import {\n  voteOptionToString,\n  appealOptionToString,\n} from './utils/crvoting-utils'\nimport { numberToWord } from './lib/math-utils'\nimport actions from './actions/court-action-types'\n\nexport default {\n  [actions.APPROVE_FEE_DEPOSIT]: ({ amount }) => {\n    return `Approve fee deposit: ${amount} DAI`\n  },\n  [actions.ACTIVATE_ANJ]: ({ amount }) => {\n    return `Activate the total amount of ${amount} ANJ`\n  },\n  [actions.APPEAL_RULING]: ({ disputeId, roundId, ruling }) => {\n    return `Appeal round ${numberToWord(\n      roundId\n    )} of dispute #${disputeId} in favor of ruling: ${appealOptionToString(\n      ruling\n    )}`\n  },\n  [actions.CLAIM_REWARDS]: ({ amount }) => {\n    return `Claim rewards for a total amount of ${amount} DAI`\n  },\n  [actions.CLAIM_SUBSCRIPTION_FEES]: ({ periodId }) => {\n    return `Claim subscription rewards for period ${periodId}`\n  },\n  [actions.COMMIT_VOTE]: ({ disputeId, roundId, outcome }) => {\n    return `Vote ${voteOptionToString(outcome)} on round ${numberToWord(\n      roundId\n    )} of dispute #${disputeId}`\n  },\n  [actions.CONFIRM_APPEAL]: ({ disputeId, roundId, ruling }) => {\n    return `\n        Confirm appeal round ${numberToWord(\n          roundId\n        )} of dispute #${disputeId} in favor of\n        ruling: ${appealOptionToString(ruling)}\n      `\n  },\n  [actions.DEACTIVATE_ANJ]: ({ amount }) => {\n    return `\n        Deactivate the total amount of ${amount} ANJ\n      `\n  },\n  [actions.DRAFT_JURY]: ({ disputeId }) => {\n    return `\n        Draft jurors for the next round of dispute #${disputeId}\n      `\n  },\n  [actions.EXECUTE_RULING]: ({ disputeId }) => {\n    return `\n        Compute the final ruling for dispute #${disputeId}\n      `\n  },\n  [actions.HEARTBEAT]: ({ transitions }) => {\n    return `\n        Transition ${transitions} court term${transitions > 1 ? 's' : ''}\n      `\n  },\n  [actions.LEAK_VOTE]: ({ voteId, voter }) => {\n    return `\n        Report code leaked by ${voter} for vote #${voteId}\n      `\n  },\n  [actions.REVEAL_VOTE]: ({ disputeId, roundId }) => {\n    return `\n        Reveal vote on round ${numberToWord(roundId)} for dispute #${disputeId}\n      `\n  },\n  [actions.SETTLE_REWARD]: ({ roundId, disputeId }) => {\n    return `\n        Settle reward for round ${numberToWord(\n          roundId\n        )} of dispute #${disputeId}\n      `\n  },\n  [actions.SETTLE_APPEAL_DEPOSIT]: ({ roundId, disputeId }) => {\n    return `\n        Settle appeal deposit for round ${numberToWord(\n          roundId\n        )} of dispute #${disputeId}\n      `\n  },\n  [actions.WITHDRAW_ANJ]: ({ amount }) => {\n    return `\n        Withdraw the total amount of ${amount} ANJ\n      `\n  },\n}\n","export const retryMax = async (callback, maxAttempts = 5) => {\n  let retryNum = 0\n\n  const attempt = async () => {\n    try {\n      return await callback()\n    } catch (err) {\n      if (retryNum === maxAttempts) {\n        throw err\n      }\n      ++retryNum\n\n      console.log(`Retrying attempt #${retryNum}...`)\n      return attempt()\n    }\n  }\n\n  return attempt()\n}\n","import { getInternalNetworkName } from '../networks'\n\nexport const KNOWN_TOKEN_BY_ENV = {\n  ANJ: {\n    main: {\n      address: '0xcD62b1C403fa761BAadFC74C525ce2B51780b184',\n      decimals: 18,\n      symbol: 'ANJ',\n    },\n    rinkeby: {\n      address: '0x1FAB7d0D028ded72195322998003F6e82cF4cFdB',\n      decimals: 18,\n      symbol: 'ANJ',\n    },\n    ropsten: {\n      address: '0xc863E1CcC047befF17022F4229DBE6321A6BCe65',\n      decimals: 18,\n      symbol: 'ANJ',\n    },\n    local: {\n      address: '0xcD62b1C403fa761BAadFC74C525ce2B51780b184',\n      decimals: 18,\n      symbol: 'ANJ',\n    },\n    dijets: {\n      address: '0x3CfEa92CF065cA37a29bF89C3DA844B1Ac6B1439',\n      decimals: 18,\n      symbol: 'ANJ',\n    },\n  },\n  ANT: {\n    main: {\n      address: '0x960b236A07cf122663c4303350609A66A7B288C0',\n      decimals: 18,\n      symbol: 'ANT',\n    },\n    rinkeby: {\n      address: '0x8cf8196c14A654dc8Aceb3cbb3dDdfd16C2b652D',\n      decimals: 18,\n      symbol: 'ANT',\n    },\n    ropsten: {\n      address: '0x0cb95D9537c8Fb0C947eD48FDafc66A7b72EfC86',\n      decimals: 18,\n      symbol: 'ANT',\n    },\n    dijets: {\n      address: '0xD20132c77165A0b0c7fDa31F9746B0FFd6b6532d',\n      decimals: 18,\n      symbol: 'ANT',\n    },\n  },\n  DAI: {\n    main: {\n      address: '0x6b175474e89094c44da98b954eedeac495271d0f',\n      decimals: 18,\n      symbol: 'DAI',\n    },\n    rinkeby: {\n      address: '0x5592EC0cfb4dbc12D3aB100b257153436a1f0FEa',\n      decimals: 18,\n      symbol: 'DAI',\n    },\n    ropsten: {\n      address: '0x4E1F48Db14D7E1ada090c42ffE15FF3024EEc8Bf',\n      decimals: 18,\n      symbol: 'DAI',\n    },\n    dijets: {\n      address: '0x7eE0Be6b72ca8fA13c44f52278b912D7F5639f47',\n      decimals: 18,\n      symbol: 'DAI',\n    },\n    local: {\n      address: '0x6b175474e89094c44da98b954eedeac495271d0f',\n      decimals: 18,\n      symbol: 'DAI',\n    },\n  },\n}\n\nexport function getKnownToken(symbol) {\n  return KNOWN_TOKEN_BY_ENV[symbol][getInternalNetworkName()]\n}\n","import { useCallback, useEffect, useMemo, useRef, useState } from 'react'\nimport { captureException } from '@sentry/browser'\n\n// hooks\nimport { useCourtConfig } from '../providers/CourtConfig'\nimport { useActivity } from '../providers/ActivityProvider'\nimport { useRequestQueue } from '../providers/RequestQueue'\nimport { useRequestProcessor } from './useRequestProcessor'\nimport { useContract, useContractReadOnly } from '../web3-contracts'\n\n// services\nimport { requestAutoReveal as requestAutoRevealApi } from '../services/autoReveal'\n\n// utils\nimport radspec from '../radspec'\nimport { retryMax } from '../utils/retry-max'\nimport actions from '../actions/court-action-types'\nimport { getKnownToken } from '../utils/known-tokens'\nimport { getModuleAddress } from '../utils/court-utils'\nimport { bigNum, formatUnits } from '../lib/math-utils'\nimport { getFunctionSignature } from '../lib/web3-utils'\nimport { CourtModuleType } from '../types/court-module-types'\nimport { networkReserveAddress } from '../networks'\nimport {\n  getVoteId,\n  hashPassword,\n  hashVote,\n  saveCodeInLocalStorage,\n} from '../utils/crvoting-utils'\n\n// abis\nimport aragonCourtAbi from '../abi/AragonCourt.json'\nimport courtSubscriptionsAbi from '../abi/CourtSubscriptions.json'\nimport courtTreasuryAbi from '../abi/CourtTreasury.json'\nimport disputeManagerAbi from '../abi/DisputeManager.json'\nimport jurorRegistryAbi from '../abi/JurorRegistry.json'\nimport tokenAbi from '../abi/ERC20.json'\nimport votingAbi from '../abi/CRVoting.json'\n\nconst GAS_LIMIT = 1200000\nconst ANJ_ACTIVATE_GAS_LIMIT = 500000\nconst ANJ_ACTIONS_GAS_LIMIT = 325000\nconst ACTIVATE_SELECTOR = getFunctionSignature('activate(uint256)')\n\n// ANJ contract\nfunction useANJTokenContract() {\n  const { anjToken } = useCourtConfig()\n\n  const anjTokenAddress = anjToken ? anjToken.id : null\n\n  return useContract(anjTokenAddress, tokenAbi)\n}\n\n// Fee token contract\nfunction useFeeTokenContract() {\n  const { feeToken } = useCourtConfig()\n\n  const feeTokenAddress = feeToken ? feeToken.id : null\n\n  return useContract(feeTokenAddress, tokenAbi)\n}\n\n// Court contracts\nfunction useCourtContract(moduleType, abi) {\n  const { id, modules } = useCourtConfig() || {}\n\n  let contractAddress\n  if (moduleType === CourtModuleType.AragonCourt) {\n    contractAddress = id\n  } else {\n    contractAddress = getModuleAddress(modules, moduleType)\n  }\n\n  return useContract(contractAddress, abi)\n}\n\n/**\n * All ANJ interactions\n * @returns {Object} all available functions around ANJ balances\n */\nexport function useANJActions() {\n  const processRequests = useRequestProcessor()\n  const jurorRegistryContract = useCourtContract(\n    CourtModuleType.JurorsRegistry,\n    jurorRegistryAbi\n  )\n  const anjTokenContract = useANJTokenContract()\n\n  // activate ANJ directly from available balance\n  const activateANJ = useCallback(\n    amount => {\n      const formattedAmount = formatUnits(amount)\n\n      return processRequests([\n        {\n          action: () =>\n            jurorRegistryContract.activate(amount, {\n              gasLimit: ANJ_ACTIVATE_GAS_LIMIT,\n            }),\n          description: radspec[actions.ACTIVATE_ANJ]({\n            amount: formattedAmount,\n          }),\n          type: actions.ACTIVATE_ANJ,\n        },\n      ])\n    },\n    [jurorRegistryContract, processRequests]\n  )\n\n  const deactivateANJ = useCallback(\n    amount => {\n      const formattedAmount = formatUnits(amount)\n\n      return processRequests([\n        {\n          action: () =>\n            jurorRegistryContract.deactivate(amount, {\n              gasLimit: ANJ_ACTIONS_GAS_LIMIT,\n            }),\n          description: radspec[actions.DEACTIVATE_ANJ]({\n            amount: formattedAmount,\n          }),\n          type: actions.DEACTIVATE_ANJ,\n        },\n      ])\n    },\n    [jurorRegistryContract, processRequests]\n  )\n\n  // approve, stake and activate ANJ\n  const stakeActivateANJ = useCallback(\n    amount => {\n      const formattedAmount = formatUnits(amount)\n\n      return processRequests([\n        {\n          action: () =>\n            anjTokenContract.approveAndCall(\n              jurorRegistryContract.address,\n              amount,\n              ACTIVATE_SELECTOR,\n              { gasLimit: ANJ_ACTIVATE_GAS_LIMIT }\n            ),\n          description: radspec[actions.ACTIVATE_ANJ]({\n            amount: formattedAmount,\n          }),\n          type: actions.ACTIVATE_ANJ,\n        },\n      ])\n    },\n    [anjTokenContract, jurorRegistryContract, processRequests]\n  )\n\n  const withdrawANJ = useCallback(\n    amount => {\n      const formattedAmount = formatUnits(amount)\n\n      return processRequests([\n        {\n          action: () =>\n            jurorRegistryContract.unstake(amount, '0x', {\n              gasLimit: ANJ_ACTIONS_GAS_LIMIT,\n            }),\n          description: radspec[actions.WITHDRAW_ANJ]({\n            amount: formattedAmount,\n          }),\n          type: actions.WITHDRAW_ANJ,\n        },\n      ])\n    },\n    [jurorRegistryContract, processRequests]\n  )\n\n  return { activateANJ, deactivateANJ, stakeActivateANJ, withdrawANJ }\n}\n\n/**\n * All dispute interactions\n * @returns {Object} all available functions around a dispute\n */\nexport function useDisputeActions() {\n  const processRequests = useRequestProcessor()\n  const disputeManagerContract = useCourtContract(\n    CourtModuleType.DisputeManager,\n    disputeManagerAbi\n  )\n  const votingContract = useCourtContract(CourtModuleType.Voting, votingAbi)\n\n  const aragonCourtContract = useCourtContract(\n    CourtModuleType.AragonCourt,\n    aragonCourtAbi\n  )\n\n  const feeTokenContract = useFeeTokenContract()\n\n  // Draft jurors\n  const draft = useCallback(\n    disputeId => {\n      return processRequests([\n        {\n          action: () =>\n            disputeManagerContract.draft(disputeId, {\n              gasLimit: GAS_LIMIT,\n            }),\n          description: radspec[actions.DRAFT_JURY]({ disputeId }),\n          type: actions.DRAFT_JURY,\n        },\n      ])\n    },\n    [disputeManagerContract, processRequests]\n  )\n\n  // Request auto reveal\n  const autoReveal = useCallback(\n    (account, disputeId, roundId, outcome, password) => {\n      return {\n        action: async () =>\n          requestAutoRevealApi(account, disputeId, roundId, outcome, password),\n        isTx: false,\n        description: 'Enable auto-reveal service',\n        onError: 'Failed to enable auto-reveal service',\n        onSuccess: 'Auto-reveal service enabled!',\n      }\n    },\n    []\n  )\n\n  const requestAutoReveal = useCallback(\n    (...params) => processRequests([autoReveal(...params)]),\n    [autoReveal, processRequests]\n  )\n\n  // Commit\n  const commit = useCallback(\n    (account, disputeId, roundId, outcome, password, revealServiceEnabled) => {\n      const voteId = getVoteId(disputeId, roundId)\n      const commitment = hashVote(outcome, password)\n\n      const requestQueue = [\n        {\n          action: () => votingContract.commit(voteId, commitment),\n          description: radspec[actions.COMMIT_VOTE]({\n            disputeId,\n            roundId,\n            outcome,\n          }),\n          type: actions.COMMIT_VOTE,\n          ensureConfirmation: true,\n          // Callback function to run after main tx\n          callback: () => saveCodeInLocalStorage(account, disputeId, password),\n        },\n      ]\n\n      // If juror opted-in for the reveal service we'll send the commitment and password to the court-server\n      if (revealServiceEnabled) {\n        requestQueue.push(\n          autoReveal(account, disputeId, roundId, outcome, password)\n        )\n      }\n\n      return processRequests(requestQueue)\n    },\n    [autoReveal, processRequests, votingContract]\n  )\n\n  // Reveal\n  const reveal = useCallback(\n    (disputeId, roundId, voter, outcome, password) => {\n      const voteId = getVoteId(disputeId, roundId)\n\n      return processRequests([\n        {\n          action: () =>\n            votingContract.reveal(\n              voteId,\n              voter,\n              outcome,\n              hashPassword(password)\n            ),\n          description: radspec[actions.REVEAL_VOTE]({\n            disputeId,\n            roundId,\n          }),\n          type: actions.REVEAL_VOTE,\n        },\n      ])\n    },\n    [processRequests, votingContract]\n  )\n\n  // Leak\n  const leak = useCallback(\n    (voteId, voter, outcome, salt) => {\n      return processRequests([\n        {\n          action: () => votingContract.leak(voteId, voter, outcome, salt),\n          description: radspec[actions.LEAK_VOTE]({ voteId, voter }),\n          type: actions.LEAK_VOTE,\n        },\n      ])\n    },\n    [processRequests, votingContract]\n  )\n\n  const approveFeeDeposit = useCallback(\n    value => {\n      return {\n        action: () =>\n          feeTokenContract.approve(disputeManagerContract.address, value),\n        description: radspec[actions.APPROVE_FEE_DEPOSIT]({\n          amount: formatUnits(value),\n        }),\n        type: actions.APPROVE_FEE_DEPOSIT,\n      }\n    },\n    [disputeManagerContract, feeTokenContract]\n  )\n\n  // Appeal round of dispute\n  const appeal = useCallback(\n    (disputeId, roundId, ruling) => {\n      return {\n        action: () =>\n          disputeManagerContract.createAppeal(disputeId, roundId, ruling, {\n            gasLimit: GAS_LIMIT,\n          }),\n        description: radspec[actions.APPEAL_RULING]({\n          disputeId,\n          roundId,\n          ruling,\n        }),\n        type: actions.APPEAL_RULING,\n      }\n    },\n    [disputeManagerContract]\n  )\n\n  // Confirm appeal round of dispute\n  const confirmAppeal = useCallback(\n    (disputeId, roundId, ruling) => {\n      return {\n        action: () =>\n          disputeManagerContract.confirmAppeal(disputeId, roundId, ruling, {\n            gasLimit: GAS_LIMIT,\n          }),\n        description: radspec[actions.CONFIRM_APPEAL]({\n          disputeId,\n          roundId,\n          ruling,\n        }),\n        type: actions.CONFIRM_APPEAL,\n      }\n    },\n    [disputeManagerContract]\n  )\n\n  // General function that will appeal or confirm appeal a given round on a given dispute\n  const appealRound = useCallback(\n    (disputeId, roundId, ruling, requiredDeposit, allowance, confirm) => {\n      const requestQueue = []\n\n      // Check if requires pre-transactions\n      if (allowance.lt(requiredDeposit)) {\n        // Some ERC20s don't allow setting a new allowance if the current allowance is positive\n        if (!allowance.eq(0)) {\n          // Reset allowance\n          requestQueue.push({\n            ...approveFeeDeposit(0),\n            ensureConfirmation: true,\n          })\n        }\n\n        // Approve fee deposit for appealing\n        requestQueue.push({\n          ...approveFeeDeposit(requiredDeposit),\n          ensureConfirmation: true,\n        })\n      }\n\n      const request = confirm ? confirmAppeal : appeal\n\n      requestQueue.push(request(disputeId, roundId, ruling))\n\n      return processRequests(requestQueue)\n    },\n    [appeal, approveFeeDeposit, confirmAppeal, processRequests]\n  )\n\n  const executeRuling = useCallback(\n    disputeId => {\n      return processRequests([\n        {\n          action: () =>\n            aragonCourtContract.executeRuling(disputeId, {\n              gasLimit: GAS_LIMIT,\n            }),\n          description: radspec[actions.EXECUTE_RULING]({ disputeId }),\n          type: actions.EXECUTE_RULING,\n        },\n      ])\n    },\n    [aragonCourtContract, processRequests]\n  )\n\n  return {\n    appealRound,\n    requestAutoReveal,\n    commit,\n    draft,\n    executeRuling,\n    leak,\n    reveal,\n  }\n}\n\nexport function useHeartbeat() {\n  const { addActivity } = useActivity()\n  const { addRequests } = useRequestQueue()\n  const aragonCourtContract = useCourtContract(\n    CourtModuleType.AragonCourt,\n    aragonCourtAbi\n  )\n\n  const heartbeatRequest = useCallback(\n    (transitions, ensureConfirmation = false) => {\n      const description = radspec[actions.HEARTBEAT]({ transitions })\n\n      return {\n        intent: () =>\n          addActivity(\n            aragonCourtContract.heartbeat(transitions),\n            actions.HEARTBEAT,\n            description\n          ),\n        description,\n        isTx: true,\n        ensureConfirmation,\n      }\n    },\n    [addActivity, aragonCourtContract]\n  )\n\n  const heartbeat = useCallback(\n    transitions => {\n      return addRequests(heartbeatRequest(transitions))\n    },\n    [addRequests, heartbeatRequest]\n  )\n\n  return { heartbeat, heartbeatRequest }\n}\n\nexport function useRewardActions() {\n  const processRequests = useRequestProcessor()\n  const { claimFees } = useCourtSubscriptionActions()\n  const disputeManagerContract = useCourtContract(\n    CourtModuleType.DisputeManager,\n    disputeManagerAbi\n  )\n\n  const treasuryContract = useCourtContract(\n    CourtModuleType.Treasury,\n    courtTreasuryAbi\n  )\n\n  const settleReward = useCallback(\n    (disputeId, roundId, juror) => {\n      return {\n        action: () =>\n          disputeManagerContract.settleReward(disputeId, roundId, juror, {\n            gasLimit: GAS_LIMIT,\n          }),\n        description: radspec[actions.SETTLE_REWARD]({ roundId, disputeId }),\n        type: actions.SETTLE_REWARD,\n      }\n    },\n    [disputeManagerContract]\n  )\n\n  const settleAppealDeposit = useCallback(\n    (disputeId, roundId) => {\n      return {\n        action: () =>\n          disputeManagerContract.settleAppealDeposit(disputeId, roundId, {\n            gasLimit: GAS_LIMIT,\n          }),\n        description: radspec[actions.SETTLE_APPEAL_DEPOSIT]({\n          roundId,\n          disputeId,\n        }),\n        type: actions.SETTLE_APPEAL_DEPOSIT,\n      }\n    },\n    [disputeManagerContract]\n  )\n\n  const withdraw = useCallback(\n    (token, to, amount) => {\n      return {\n        action: () =>\n          treasuryContract.withdraw(token, to, amount, {\n            gasLimit: ANJ_ACTIONS_GAS_LIMIT,\n          }),\n        description: radspec[actions.CLAIM_REWARDS]({\n          amount: formatUnits(amount),\n        }),\n        type: actions.CLAIM_REWARDS,\n      }\n    },\n    [treasuryContract]\n  )\n\n  const claimRewards = useCallback(\n    (\n      account,\n      arbitrableFees,\n      appealFees,\n      treasuryFees,\n      subscriptionFees,\n      feeTokenAddress\n    ) => {\n      const requestQueue = []\n\n      // Claim all arbitrable fee rewards\n      for (const arbitrableFee of arbitrableFees) {\n        const { disputeId, rounds } = arbitrableFee\n        for (const roundId of rounds) {\n          requestQueue.push(settleReward(disputeId, roundId, account))\n        }\n      }\n\n      // Claim all appeal fee rewards\n      for (const appealFee of appealFees) {\n        const { disputeId, rounds } = appealFee\n        for (const roundId of rounds) {\n          requestQueue.push(settleAppealDeposit(disputeId, roundId))\n        }\n      }\n\n      // If we have settlements to do, then we'll make sure that the last\n      // settlement is confirmed before withdrawing total fees from the treasury\n      if (requestQueue.length > 0) {\n        const lastSettlement = requestQueue.pop()\n        requestQueue.push({\n          ...lastSettlement,\n          ensureConfirmation: true,\n        })\n      }\n\n      // Withdraw funds from treasury\n      if (treasuryFees.gt(0)) {\n        requestQueue.push(withdraw(feeTokenAddress, account, treasuryFees))\n      }\n\n      // Claim subscription fees\n      for (const subscriptionFee of subscriptionFees) {\n        requestQueue.push(claimFees(subscriptionFee.periodId))\n      }\n\n      return processRequests(requestQueue)\n    },\n    [claimFees, processRequests, settleAppealDeposit, settleReward, withdraw]\n  )\n\n  return { claimRewards }\n}\n\nexport function useCourtSubscriptionActions() {\n  const courtSubscriptionsContract = useCourtContract(\n    CourtModuleType.Subscriptions,\n    courtSubscriptionsAbi\n  )\n\n  const claimFees = useCallback(\n    periodId => {\n      return {\n        action: () => courtSubscriptionsContract.claimFees(periodId),\n        description: radspec[actions.CLAIM_SUBSCRIPTION_FEES]({\n          periodId,\n        }),\n        type: actions.CLAIM_SUBSCRIPTION_FEES,\n      }\n    },\n    [courtSubscriptionsContract]\n  )\n\n  const getJurorShare = useCallback(\n    (juror, periodId) => {\n      return courtSubscriptionsContract.getJurorShare(juror, periodId)\n    },\n    [courtSubscriptionsContract]\n  )\n\n  const getters = useMemo(\n    () => (courtSubscriptionsContract ? { getJurorShare } : null),\n    [courtSubscriptionsContract, getJurorShare]\n  )\n\n  return {\n    claimFees,\n    getters,\n  }\n}\n\n/**\n *\n * @param {string} disputeId id of the dispute\n * @param {string} roundId id of the round\n * @returns {Object} appeal deposit and confirm appeal deposit amounts\n */\nexport function useAppealDeposits(disputeId, roundId) {\n  const [appealDeposits, setAppealDeposits] = useState({\n    amounts: [bigNum(0), bigNum(0)],\n    error: false,\n  })\n\n  const disputeManagerContract = useCourtContract(\n    CourtModuleType.DisputeManager,\n    disputeManagerAbi\n  )\n\n  useEffect(() => {\n    let cancelled = false\n\n    const fetchNextRoundDetails = async () => {\n      if (!disputeManagerContract) {\n        return\n      }\n\n      retryMax(() =>\n        disputeManagerContract\n          .getNextRoundDetails(disputeId, roundId)\n          .then(nextRound => {\n            const appealDeposit = nextRound[6]\n            const confirmAppealDeposit = nextRound[7]\n\n            if (!cancelled) {\n              setAppealDeposits({\n                amounts: [appealDeposit, confirmAppealDeposit],\n                error: false,\n              })\n            }\n          })\n          .catch(err => {\n            captureException(err)\n            if (!cancelled) {\n              setAppealDeposits(appealDeposits => ({\n                ...appealDeposits,\n                error: true,\n              }))\n            }\n          })\n      )\n    }\n\n    fetchNextRoundDetails()\n\n    return () => {\n      cancelled = true\n    }\n  }, [disputeId, disputeManagerContract, roundId])\n\n  return [appealDeposits.amounts, appealDeposits.error]\n}\n\nexport function useFeeBalanceOf(account) {\n  const [feeBalance, setFeeBalance] = useState({\n    amount: bigNum(0),\n    error: false,\n  })\n\n  const feeTokenContract = useFeeTokenContract()\n\n  useEffect(() => {\n    let cancelled = false\n\n    const getFeeBalance = async () => {\n      if (!feeTokenContract) return\n\n      retryMax(() => feeTokenContract.balanceOf(account))\n        .then(balance => {\n          if (!cancelled) {\n            setFeeBalance({ amount: balance, error: false })\n          }\n        })\n        .catch(err => {\n          captureException(err)\n          if (!cancelled) {\n            setFeeBalance(feeBalance => ({\n              ...feeBalance,\n              error: true,\n            }))\n          }\n        })\n    }\n\n    getFeeBalance()\n\n    return () => {\n      cancelled = true\n    }\n  }, [account, feeTokenContract])\n\n  return [feeBalance.amount, feeBalance.error]\n}\n\nexport function useAppealFeeAllowance(owner) {\n  const [allowance, setAllowance] = useState({\n    amount: bigNum(0),\n    error: false,\n  })\n\n  const courtConfig = useCourtConfig()\n  const disputeManagerAddress = getModuleAddress(\n    courtConfig.modules,\n    CourtModuleType.DisputeManager\n  )\n  const feeTokenContract = useFeeTokenContract()\n\n  useEffect(() => {\n    let cancelled = false\n\n    const getFeeAllowance = async () => {\n      if (!feeTokenContract) return\n\n      retryMax(() => feeTokenContract.allowance(owner, disputeManagerAddress))\n        .then(allowance => {\n          if (!cancelled) {\n            setAllowance({ amount: allowance, error: false })\n          }\n        })\n        .catch(err => {\n          captureException(err)\n          if (!cancelled) {\n            setAllowance(allowance => ({\n              ...allowance,\n              error: true,\n            }))\n          }\n        })\n    }\n\n    getFeeAllowance()\n\n    return () => {\n      cancelled = true\n    }\n  }, [disputeManagerAddress, feeTokenContract, owner])\n\n  return [allowance.amount, allowance.error]\n}\n\nexport function useActiveBalanceOfAt(juror, termId) {\n  const jurorRegistryContract = useCourtContract(\n    CourtModuleType.JurorsRegistry,\n    jurorRegistryAbi\n  )\n  const [activeBalance, setActiveBalance] = useState({\n    amount: bigNum(-1),\n    error: false,\n  })\n\n  useEffect(() => {\n    let cancelled = false\n\n    const getActiveBalanceOfAt = async () => {\n      if (!jurorRegistryContract) return\n\n      retryMax(() => jurorRegistryContract.activeBalanceOfAt(juror, termId))\n        .then(balance => {\n          if (!cancelled) {\n            setActiveBalance({ amount: balance, error: false })\n          }\n        })\n        .catch(err => {\n          captureException(err)\n          if (!cancelled) {\n            setActiveBalance(balance => ({\n              ...balance,\n              error: true,\n            }))\n          }\n        })\n    }\n\n    getActiveBalanceOfAt()\n\n    return () => {\n      cancelled = true\n    }\n  }, [juror, jurorRegistryContract, termId])\n\n  return [activeBalance.amount, activeBalance.error]\n}\n\nexport function useTotalANTStakedPolling(timeout = 1000) {\n  const [totalANTStaked, setTotalANTStaked] = useState(bigNum(-1))\n  const [error, setError] = useState(false)\n  const { address: antAddress } = getKnownToken('ANT') || {}\n  const antContract = useContractReadOnly(antAddress, tokenAbi)\n\n  // We are starting in 0 in order to immediately make the fetch call\n  const controlledTimeout = useRef(0)\n\n  useEffect(() => {\n    let cancelled = false\n    let timeoutId\n\n    // This stat is only relevant and shown on mainnet\n    if (!networkReserveAddress) {\n      return setError(true)\n    }\n\n    if (!antContract) {\n      return\n    }\n\n    const fetchTotalANTBalance = () => {\n      timeoutId = setTimeout(() => {\n        const vaultBalancePromise = antContract.balanceOf(networkReserveAddress)\n\n        return vaultBalancePromise\n          .then(antInVault => {\n            if (!cancelled) {\n              setTotalANTStaked(antInVault)\n            }\n          })\n          .catch(err => {\n            console.error(`Error fetching balance: ${err} retrying...`)\n            setError(true)\n          })\n          .finally(() => {\n            if (!cancelled) {\n              clearTimeout(timeoutId)\n              controlledTimeout.current = timeout\n              fetchTotalANTBalance()\n            }\n          })\n      }, controlledTimeout.current)\n    }\n\n    fetchTotalANTBalance()\n\n    return () => {\n      cancelled = true\n      clearTimeout(timeoutId)\n    }\n  }, [antContract, controlledTimeout, timeout])\n\n  return [totalANTStaked, error]\n}\n","import React, { useCallback, useRef, useState } from 'react'\nimport {\n  blockExplorerUrl,\n  Button,\n  ButtonBase,\n  GU,\n  IconCheck,\n  IconClock,\n  IconCross,\n  IconExternal,\n  textStyle,\n  Timer,\n  useTheme,\n} from '@aragon/ui'\nimport { useWallet } from 'use-wallet'\n\nimport HeaderModule from './Header/HeaderModule'\nimport HeaderPopover from './Header/HeaderPopover'\nimport { useCourtClock } from '../providers/CourtClock'\nimport { useCourtConfig } from '../providers/CourtConfig'\nimport { useHeartbeat } from '../hooks/useCourtContracts'\n\nimport { formatDuration } from '../utils/date-utils'\nimport {\n  getNetworkType,\n  isLocalOrUnknownNetwork,\n  shortenAddress,\n} from '../lib/web3-utils'\n\nimport logoSvg from '../assets/LogoAccent.svg'\n\nfunction ClockModule() {\n  const buttonRef = useRef()\n  const [opened, setOpened] = useState(false)\n\n  const theme = useTheme()\n  const wallet = useWallet()\n  const { heartbeat: onHeartbeat } = useHeartbeat()\n  const courtConfig = useCourtConfig()\n\n  const {\n    currentTermId,\n    currentTermEndDate,\n    isSynced,\n    neededTransitions,\n  } = useCourtClock()\n\n  const toggle = useCallback(() => setOpened(opened => !opened), [])\n\n  const handlePopoverClose = useCallback(() => {\n    setOpened(false)\n  }, [])\n\n  const handleOnClick = useCallback(() => {\n    handlePopoverClose()\n\n    onHeartbeat(neededTransitions)\n  }, [handlePopoverClose, neededTransitions, onHeartbeat])\n\n  const IconSync = isSynced ? IconCheck : IconCross\n\n  return (\n    <div\n      ref={buttonRef}\n      tabIndex=\"0\"\n      css={`\n        display: flex;\n        align-items: center;\n        justify-content: space-around;\n        outline: 0;\n      `}\n    >\n      <HeaderModule\n        icon={\n          <div\n            css={`\n              background-color: ${theme.background};\n              display: flex;\n              border-radius: 50%;\n              padding: 2px;\n            `}\n          >\n            <IconClock\n              color={isSynced ? theme.positive : theme.negative}\n              width={4.5 * GU}\n              height={4.5 * GU}\n            />\n          </div>\n        }\n        content={\n          <div\n            css={`\n              line-height: 1;\n              width: ${15 * GU}px;\n\n              & span {\n                line-height: 1;\n              }\n            `}\n          >\n            {currentTermId ? (\n              <>\n                {isSynced ? (\n                  <Timer end={currentTermEndDate} showIcon={false} />\n                ) : (\n                  <div>\n                    <span\n                      css={`\n                        ${textStyle('body2')}\n                      `}\n                    >\n                      00\n                    </span>{' '}\n                    <span\n                      css={`\n                        ${textStyle('body2')}\n                        color: ${theme.contentSecondary};\n                      `}\n                    >\n                      S\n                    </span>\n                  </div>\n                )}\n                <span\n                  css={`\n                    ${textStyle('body4')};\n                    color: ${isSynced\n                      ? theme.contentSecondary\n                      : theme.negative};\n                  `}\n                >\n                  {`Term ${isSynced ? 'is up-to-date' : 'needs updating'}`}\n                </span>\n              </>\n            ) : (\n              <div\n                css={`\n                  background: ${theme.background};\n                  height: ${5 * GU}px;\n                  border-radius: 10px;\n                `}\n              />\n            )}\n          </div>\n        }\n        onClick={toggle}\n      />\n\n      <HeaderPopover\n        animateHeight={false}\n        heading=\"Court clock\"\n        height={(isSynced ? 27.5 : 26) * GU}\n        width={45 * GU}\n        onClose={handlePopoverClose}\n        opener={buttonRef.current}\n        visible={opened}\n      >\n        <div\n          css={`\n            padding: ${2 * GU}px;\n          `}\n        >\n          <div\n            css={`\n              display: flex;\n              align-items: center;\n              justify-content: space-between;\n            `}\n          >\n            <div\n              css={`\n                display: flex;\n                align-items: center;\n              `}\n            >\n              <img\n                alt=\"\"\n                width={28}\n                height={28}\n                src={logoSvg}\n                css={`\n                  margin-right: ${0.5 * GU}px;\n                `}\n              />\n              <span>Dijets Council</span>\n            </div>\n            <div\n              css={`\n                display: flex;\n                align-items: center;\n              `}\n            >\n              <span\n                css={`\n                  margin-right: ${0.5 * GU}px;\n                `}\n              >\n                {shortenAddress(courtConfig?.id)}\n              </span>\n              <ButtonBase\n                disabled={!courtConfig}\n                href={blockExplorerUrl('address', courtConfig?.id, {\n                  networkType: isLocalOrUnknownNetwork()\n                    ? 'private'\n                    : getNetworkType(),\n                })}\n              >\n                <IconExternal\n                  css={`\n                    color: ${theme.contentSecondary};\n                  `}\n                />\n              </ButtonBase>\n            </div>\n          </div>\n          <div\n            css={`\n              color: ${isSynced ? theme.positive : theme.negative};\n              display: flex;\n              align-items: center;\n              margin-top: ${1 * GU}px;\n            `}\n          >\n            <IconSync />\n            <span\n              css={`\n                ${textStyle('body4')}\n                text-transform: uppercase;\n              `}\n            >\n              {`Term ${isSynced ? 'is up-to-date' : 'needs updating'}`}\n            </span>\n          </div>\n          <div\n            css={`\n              margin-top: ${1 * GU}px;\n            `}\n          >\n            <span>\n              <span\n                css={`\n                  color: ${theme.contentSecondary};\n                  margin-right: ${0.5 * GU}px;\n                `}\n              >\n                {isSynced ? 'Up to date' : 'Needs updating'}:\n              </span>\n              <span>\n                {isSynced\n                  ? `Current term ${currentTermId}`\n                  : `Last term ${currentTermId - neededTransitions}`}\n              </span>\n            </span>\n          </div>\n          <div\n            css={`\n              margin-top: ${1.5 * GU}px;\n            `}\n          >\n            {isSynced ? (\n              <span\n                css={`\n                  ${textStyle('body3')};\n                  color: ${theme.contentSecondary};\n                `}\n              >\n                Term is the time unit for measuring Dijets Council phases. Each\n                term lasts {formatDuration(courtConfig.termDuration / 1000)}.\n              </span>\n            ) : (\n              <Button\n                label=\"Update term\"\n                mode=\"strong\"\n                wide\n                disabled={!courtConfig || !wallet.account}\n                onClick={handleOnClick}\n              />\n            )}\n          </div>\n        </div>\n      </HeaderPopover>\n    </div>\n  )\n}\n\nexport default ClockModule\n","import PropTypes from 'prop-types'\nimport {\n  ACTIVITY_STATUS_CONFIRMED,\n  ACTIVITY_STATUS_FAILED,\n  ACTIVITY_STATUS_PENDING,\n  ACTIVITY_STATUS_TIMED_OUT,\n} from './activity-statuses'\n\nexport const ActivityStatusType = PropTypes.oneOf([\n  ACTIVITY_STATUS_CONFIRMED,\n  ACTIVITY_STATUS_FAILED,\n  ACTIVITY_STATUS_PENDING,\n  ACTIVITY_STATUS_TIMED_OUT,\n])\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { GU, textStyle, useTheme } from '@aragon/ui'\nimport { getRelativeTime } from '../../utils/date-utils'\nimport useNow from '../../hooks/useNow'\n\nfunction TimeTag({ date, label, ...props }) {\n  const theme = useTheme()\n  const now = useNow()\n  return (\n    <div\n      css={`\n        max-width: ${15.75 * GU}px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        color: ${theme.surfaceContentSecondary};\n        ${textStyle('label2')};\n      `}\n      {...props}\n    >\n      {label || getRelativeTime(now, date)}\n    </div>\n  )\n}\n\nTimeTag.propTypes = {\n  date: PropTypes.number.isRequired, // unix timestamp\n  label: PropTypes.node,\n}\n\nexport default TimeTag\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { ProgressBar, GU } from '@aragon/ui'\nimport { Transition, animated } from 'react-spring/renderprops'\nimport { ActivityStatusType } from './prop-types'\nimport TimeTag from './TimeTag'\n\nimport useNow from '../../hooks/useNow'\nimport {\n  ACTIVITY_STATUS_CONFIRMED,\n  ACTIVITY_STATUS_PENDING,\n} from './activity-statuses'\nimport { norm } from '../../lib/math-utils'\nimport { MINUTE } from '../../utils/date-utils'\n\nconst DELAY_BEFORE_HIDE = 1000\nconst TX_DURATION_AVERAGE = 3 * MINUTE\n// threshold at which point we switch to displaying the indeterminate progress\n// bar, so that the user doesnt get confused by a completed progress bar.\nconst TX_DURATION_THRESHOLD = TX_DURATION_AVERAGE - MINUTE / 2\n\nfunction getProgress(status, createdAt, estimate, threshold, now) {\n  if (status === ACTIVITY_STATUS_CONFIRMED) {\n    return 1\n  }\n  return now > threshold ? -1 : norm(now, createdAt, estimate)\n}\n\nconst TransactionProgress = React.memo(function TransactionProgress({\n  createdAt,\n  minedAtEstimate,\n  status,\n}) {\n  const now = useNow().valueOf()\n\n  // Only animate things if the panel is ready (opened).\n  const estimate = createdAt + TX_DURATION_AVERAGE\n  const threshold = createdAt + TX_DURATION_THRESHOLD\n\n  const progress = getProgress(status, createdAt, estimate, threshold, now)\n  const showConfirmed = status === ACTIVITY_STATUS_CONFIRMED\n  const showTimer =\n    !showConfirmed && now < threshold && status === ACTIVITY_STATUS_PENDING\n\n  return (\n    <Transition\n      native\n      delay={DELAY_BEFORE_HIDE}\n      items={status === ACTIVITY_STATUS_PENDING}\n      enter={{ height: 28, opacity: 1 }}\n      leave={{ height: 0, opacity: 0 }}\n    >\n      {show =>\n        show &&\n        (transition => (\n          <animated.div\n            style={{\n              display: 'flex',\n              alignItems: 'center',\n              paddingTop: `${1 * GU}px`,\n              ...transition,\n            }}\n          >\n            <div css=\"flex-grow: 1\">\n              <ProgressBar animate value={showConfirmed ? 1 : progress} />\n            </div>\n            {(showTimer || showConfirmed) && (\n              <TimeTag\n                date={estimate}\n                label={showConfirmed ? 'confirmed' : null}\n                css={`\n                  margin-left: ${2 * GU}px;\n                `}\n              />\n            )}\n          </animated.div>\n        ))\n      }\n    </Transition>\n  )\n})\n\nTransactionProgress.propTypes = {\n  // unix timestamps\n  createdAt: PropTypes.number.isRequired,\n  minedAtEstimate: PropTypes.number,\n  status: ActivityStatusType.isRequired,\n}\n\nTransactionProgress.defaultProps = {\n  minedAtEstimate: -1,\n}\n\nexport default TransactionProgress\n","import actions from '../../actions/court-action-types'\n\nimport iconAnj from './assets/activity-icon-anj.svg'\nimport iconAppealRuling from './assets/activity-icon-appeal-ruling.svg'\nimport iconClaimRewards from './assets/activity-icon-claim-rewards.svg'\nimport iconCommitVote from './assets/activity-icon-commit-vote.svg'\nimport iconCourtLogo from './assets/activity-icon-court-logo.svg'\nimport iconDraftJury from './assets/activity-icon-draft-jury.svg'\nimport iconExecuteRuling from './assets/activity-icon-execute-ruling.svg'\n\n// The different types of activity\nconst ACTIVITY_TYPES = {\n  [actions.APPROVE_FEE_DEPOSIT]: {\n    icon: iconAnj,\n    title: 'Approve fee deposit',\n  },\n  [actions.ACTIVATE_ANJ]: {\n    icon: iconAnj,\n    title: 'Activate ANJ',\n  },\n  [actions.APPEAL_RULING]: {\n    title: 'Appeal ruling',\n    icon: iconAppealRuling,\n  },\n  [actions.CLAIM_REWARDS]: {\n    title: 'Claim rewards',\n    icon: iconClaimRewards,\n  },\n  [actions.CLAIM_SUBSCRIPTION_FEES]: {\n    title: 'Claim Subscription rewards',\n    icon: iconClaimRewards,\n  },\n  [actions.COMMIT_VOTE]: {\n    title: 'Commit vote',\n    icon: iconCommitVote,\n  },\n  [actions.CONFIRM_APPEAL]: {\n    title: 'Confirm appeal',\n    icon: iconAppealRuling,\n  },\n  [actions.DEACTIVATE_ANJ]: {\n    icon: iconAnj,\n    title: 'Deactivate ANJ',\n  },\n  [actions.DRAFT_JURY]: {\n    title: 'Draft jury',\n    icon: iconDraftJury,\n  },\n  [actions.EXECUTE_RULING]: {\n    title: 'Execute ruling',\n    icon: iconExecuteRuling,\n  },\n  [actions.HEARTBEAT]: {\n    title: 'Update term',\n    icon: iconCourtLogo,\n  },\n  [actions.LEAK_VOTE]: {\n    title: 'Leak vote',\n    icon: iconCommitVote,\n  },\n  [actions.REVEAL_VOTE]: {\n    title: 'Reveal vote',\n    icon: iconAnj,\n  },\n  [actions.SETTLE_REWARD]: {\n    icon: iconAnj,\n    title: 'Settle reward',\n  },\n  [actions.SETTLE_APPEAL_DEPOSIT]: {\n    icon: iconAnj,\n    title: 'Settle appeal deposit',\n  },\n  [actions.WITHDRAW_ANJ]: {\n    icon: iconAnj,\n    title: 'Withdraw ANJ',\n  },\n}\n\nexport function getActivityData(type) {\n  return ACTIVITY_TYPES[type]\n}\n","import React, { useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport {\n  ButtonBase,\n  ButtonIcon,\n  IconCross,\n  IconCheck,\n  GU,\n  blockExplorerUrl,\n  textStyle,\n  useTheme,\n  IdentityBadge,\n} from '@aragon/ui'\nimport { transformAddresses, getNetworkType } from '../../lib/web3-utils'\nimport {\n  ACTIVITY_STATUS_PENDING,\n  ACTIVITY_STATUS_CONFIRMED,\n  ACTIVITY_STATUS_FAILED,\n  ACTIVITY_STATUS_TIMED_OUT,\n} from './activity-statuses'\nimport TransactionProgress from './TransactionProgress'\nimport { useActivity } from '../../providers/ActivityProvider'\nimport { getActivityData } from './activity-types'\nimport TimeTag from './TimeTag'\n\nfunction ActivityItem({ activity }) {\n  const theme = useTheme()\n  const { removeActivity } = useActivity()\n\n  const { icon, title } = getActivityData(activity.type)\n\n  const handleOpen = useCallback(() => {\n    if (activity.transactionHash) {\n      window.open(\n        blockExplorerUrl('transaction', activity.transactionHash, {\n          networkType: getNetworkType(),\n        }),\n        '_blank',\n        'noopener'\n      )\n    }\n  }, [activity])\n\n  const canClear = activity.status !== ACTIVITY_STATUS_PENDING\n\n  const handleClose = useCallback(() => {\n    if (activity.transactionHash) {\n      removeActivity(activity.transactionHash)\n    }\n  }, [activity, removeActivity])\n\n  return (\n    <div\n      css={`\n        position: relative;\n      `}\n    >\n      <ButtonBase\n        element=\"div\"\n        onClick={handleOpen}\n        css={`\n          text-align: left;\n          width: 100%;\n        `}\n      >\n        <section\n          css={`\n            display: flex;\n            flex-direction: column;\n            overflow: hidden;\n            padding: ${2 * GU}px;\n            background: ${activity.read\n              ? theme.surface\n              : theme.surfaceHighlight};\n            transition-property: background;\n            transition-duration: 50ms;\n            transition-timing-function: ease-in-out;\n\n            &:active {\n              background: ${theme.surfaceUnder};\n            }\n          `}\n        >\n          <h1\n            css={`\n              display: flex;\n              align-items: center;\n            `}\n          >\n            <div\n              css={`\n                flex-shrink: 0;\n                display: flex;\n                margin-right: ${1 * GU}px;\n              `}\n            >\n              <img src={icon} alt=\"\" />\n            </div>\n            <div\n              css={`\n                overflow: hidden;\n                text-overflow: ellipsis;\n                white-space: nowrap;\n                color: ${theme.surfaceContent};\n                ${textStyle('body1')};\n              `}\n            >\n              {title}\n            </div>\n            {activity.status !== ACTIVITY_STATUS_PENDING && (\n              <TimeTag\n                date={activity.createdAt}\n                css={`\n                  margin: 0 ${1.5 * GU}px;\n                `}\n              />\n            )}\n          </h1>\n          <div\n            css={`\n              position: relative;\n              margin-top: ${2 * GU}px;\n            `}\n          >\n            <ItemContent text={activity.description} />\n            <StatusMessage activity={activity} />\n            <TransactionProgress\n              status={activity.status}\n              createdAt={activity.createdAt}\n            />\n          </div>\n        </section>\n      </ButtonBase>\n      {canClear && (\n        <ButtonIcon\n          label=\"Remove\"\n          onClick={handleClose}\n          css={`\n            position: absolute;\n            top: ${1 * GU}px;\n            right: ${1 * GU}px;\n            z-index: 1;\n          `}\n        >\n          <IconCross\n            css={`\n              color: ${theme.surfaceIcon};\n            `}\n          />\n        </ButtonIcon>\n      )}\n    </div>\n  )\n}\n\nActivityItem.propTypes = {\n  activity: PropTypes.object.isRequired,\n}\n\nconst ItemContent = React.memo(\n  ({ text = '' }) => (\n    <p\n      css={`\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 2;\n        white-space: normal;\n        word-break: break-word;\n        overflow: hidden;\n        ${textStyle('body2')}\n      `}\n    >\n      {transformAddresses(text, (part, isAddress, index) =>\n        isAddress ? (\n          <span title={part} key={index}>\n            <IdentityBadge entity={part} compact />\n          </span>\n        ) : (\n          <span key={index}>{part}</span>\n        )\n      )}\n    </p>\n  ),\n  (prevProps, nextProps) => prevProps.text === nextProps.text\n)\n\nItemContent.propTypes = {\n  text: PropTypes.string.isRequired,\n}\n\nfunction getStatusData(activity, theme) {\n  if (activity.status === ACTIVITY_STATUS_CONFIRMED) {\n    return [\n      <IconCheck size=\"small\" />,\n      <span>Transaction confirmed</span>,\n      theme.positive,\n    ]\n  }\n  if (activity.status === ACTIVITY_STATUS_FAILED) {\n    return [\n      <IconCross size=\"small\" />,\n      <span>Transaction failed</span>,\n      theme.negative,\n    ]\n  }\n  if (activity.status === ACTIVITY_STATUS_TIMED_OUT) {\n    return [\n      <IconCross size=\"small\" />,\n      <span>Transaction timed out</span>,\n      theme.negative,\n    ]\n  }\n  return [null, <span>Transaction pending</span>, theme.surfaceContentSecondary]\n}\n\nconst StatusMessage = ({ activity }) => {\n  const theme = useTheme()\n  const [icon, content, color] = getStatusData(activity, theme)\n  return (\n    <div\n      css={`\n        display: flex;\n        align-items: center;\n        margin-top: ${2 * GU}px;\n        ${textStyle('label2')}\n        color: ${color}\n      `}\n    >\n      {icon}\n      {content}\n    </div>\n  )\n}\n\nStatusMessage.propTypes = {\n  activity: PropTypes.object.isRequired,\n}\n\nexport default ActivityItem\n","import React, { useMemo } from 'react'\nimport { Transition, animated } from 'react-spring/renderprops'\nimport {\n  ButtonText,\n  GU,\n  textStyle,\n  springs,\n  useTheme,\n  useViewport,\n} from '@aragon/ui'\nimport { ACTIVITY_STATUS_PENDING } from './activity-statuses'\nimport { useActivity } from '../../providers/ActivityProvider'\nimport ActivityItem from './ActivityItem'\n\nimport activityNoResults from './assets/activity-no-results.png'\n\n// 8GU for top bar, 4GU for activity heading,\n// 11GU for HelpScout beacon (3GU top/bottom padding, 5GU beacon)\nconst MIN_LIST_HEIGHT_ADJUST = (8 + 4 + 11) * GU\nconst MAX_LIST_HEIGHT_CLAMP = 96 * GU\n\nfunction ActivityList() {\n  const theme = useTheme()\n  const { below, height } = useViewport()\n  const { activities, clearActivities } = useActivity()\n\n  const activityItems = useMemo(\n    () => activities.sort((a, b) => b.createdAt - a.createdAt),\n    [activities]\n  )\n\n  const canClear = useMemo(\n    () =>\n      activityItems.some(({ status }) => status !== ACTIVITY_STATUS_PENDING),\n    [activityItems]\n  )\n\n  const maxHeight = Math.min(\n    MAX_LIST_HEIGHT_CLAMP,\n    Math.ceil(height - MIN_LIST_HEIGHT_ADJUST)\n  )\n\n  return (\n    <div\n      css={`\n        /* Use 20px as the padding setting for popper is 10px */\n        width: ${below('medium') ? `calc(100vw - 20px)` : `${42 * GU}px`};\n      `}\n    >\n      <div\n        css={`\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          height: ${4 * GU}px;\n          padding: 0 ${2 * GU}px;\n          border-bottom: 1px solid ${theme.border};\n        `}\n      >\n        <label\n          css={`\n            ${textStyle('label2')}\n            color: ${theme.surfaceContentSecondary};\n          `}\n        >\n          Activity\n        </label>\n        {canClear && (\n          <ButtonText\n            onClick={clearActivities}\n            css={`\n              padding: 0;\n              ${textStyle('label2')}\n            `}\n          >\n            Clear all\n          </ButtonText>\n        )}\n      </div>\n      <div\n        css={`\n          max-height: ${maxHeight}px;\n          overflow-x: hidden;\n          overflow-y: auto;\n        `}\n      >\n        {activityItems.length > 0 ? (\n          <Transition\n            native\n            items={activityItems}\n            keys={activity => activity.transactionHash}\n            trail={50}\n            enter={{\n              opacity: 1,\n              transform: 'translate3d(0px, 0, 0)',\n            }}\n            leave={{\n              opacity: 0,\n              transform: 'translate3d(20px, 0, 0)',\n            }}\n            config={springs.smooth}\n          >\n            {activity => transitionStyles => (\n              <div\n                css={`\n                  & + & {\n                    border-top: 1px solid ${theme.border};\n                  }\n                `}\n              >\n                <animated.div\n                  style={{ ...transitionStyles, overflow: 'hidden' }}\n                >\n                  <ActivityItem activity={activity} />\n                </animated.div>\n              </div>\n            )}\n          </Transition>\n        ) : (\n          <div\n            css={`\n              display: flex;\n              flex-direction: column;\n              align-items: center;\n              justify-content: center;\n              height: ${28.5 * GU}px;\n            `}\n          >\n            <img\n              src={activityNoResults}\n              alt=\"No results\"\n              height=\"125px\"\n              width=\"125px\"\n            />\n            <span\n              css={`\n                margin-top: ${2 * GU}px;\n                ${textStyle('body2')}\n              `}\n            >\n              No activity yet!\n            </span>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default ActivityList\n","import React, { useCallback, useEffect, useRef, useState } from 'react'\nimport { Spring, animated } from 'react-spring/renderprops'\nimport {\n  ButtonIcon,\n  IconAlert,\n  Popover,\n  GU,\n  Tag,\n  springs,\n  useTheme,\n} from '@aragon/ui'\nimport ActivityList from './ActivityList'\nimport { useActivity } from '../../providers/ActivityProvider'\n\nconst ActivityButton = React.memo(function ActivityButton() {\n  const theme = useTheme()\n  const [opened, setOpened] = useState(false)\n  const { activities, markActivitiesRead, unreadCount } = useActivity()\n  const containerRef = useRef()\n  const popoverFocusElement = useRef()\n\n  const handleToggle = useCallback(\n    () =>\n      setOpened(opened => {\n        if (opened) {\n          markActivitiesRead()\n        }\n        return !opened\n      }),\n    [markActivitiesRead]\n  )\n\n  const handleClose = useCallback(() => {\n    markActivitiesRead()\n    setOpened(false)\n  }, [markActivitiesRead])\n\n  useEffect(() => {\n    if (popoverFocusElement.current) {\n      popoverFocusElement.current.focus()\n    }\n  }, [activities])\n\n  return (\n    <React.Fragment>\n      <div\n        ref={containerRef}\n        css={`\n          width: ${7.25 * GU}px;\n          display: flex;\n          align-items: center;\n          height: 100%;\n          outline: 0;\n        `}\n      >\n        <ButtonIcon\n          element=\"div\"\n          onClick={handleToggle}\n          css={`\n            height: 100%;\n            width: 100%;\n            border-radius: 0;\n            padding-left: ${0.5 * GU}px;\n            justify-content: space-between;\n\n            /* This is a bit of a hack to get the focus ring to appear only\n             * around the button and not the spacer\n             */\n            &:focus:after {\n              right: ${3 * GU}px;\n            }\n          `}\n          label=\"Transaction activity\"\n        >\n          <div\n            css={`\n              position: relative;\n              line-height: 0;\n            `}\n          >\n            <IconAlert\n              css={`\n                color: ${theme.hint};\n              `}\n            />\n            <Spring\n              native\n              from={{ opacity: 0, size: 0 }}\n              to={{\n                opacity: Number(unreadCount > 0),\n                size: Number(unreadCount > 0),\n              }}\n              config={springs.swift}\n            >\n              {({ opacity, size }) => (\n                <animated.div\n                  style={{\n                    opacity,\n                    transform: size\n                      .interpolate(\n                        [0, 0.2, 0.4, 0.6, 0.8, 1],\n                        [1.5, 1, 1.5, 1, 1.5, 1]\n                      )\n                      .interpolate(s => `scale3d(${s}, ${s}, 1)`),\n                  }}\n                  css={`\n                    position: absolute;\n                    top: -${0.5 * GU}px;\n                    right: -${0.5 * GU}px;\n                  `}\n                >\n                  <Tag limitDigits mode=\"activity\" label={unreadCount} />\n                </animated.div>\n              )}\n            </Spring>\n          </div>\n          {/* Extend the width of the button to the edge of the top bar */}\n          <div\n            css={`\n              width: ${3 * GU}px;\n              height: 100%;\n            `}\n          />\n        </ButtonIcon>\n      </div>\n      <Popover\n        closeOnOpenerFocus\n        placement=\"bottom-end\"\n        onClose={handleClose}\n        visible={opened}\n        opener={containerRef.current}\n      >\n        <div ref={popoverFocusElement} tabIndex=\"0\" css=\"outline: 0\">\n          <ActivityList />\n        </div>\n      </Popover>\n    </React.Fragment>\n  )\n})\n\nexport default ActivityButton\n","import React, { useCallback, useContext, useMemo, useState } from 'react'\nimport { getClientTheme, setClientTheme } from '../local-settings'\n\nconst SETTINGS_THEME = getClientTheme()\nconst ClientThemeContext = React.createContext(SETTINGS_THEME)\n\nfunction ClientThemeProvider(props) {\n  const [appearance, setAppearance] = useState(SETTINGS_THEME.appearance)\n  const [theme, setTheme] = useState(SETTINGS_THEME.theme)\n\n  const toggleAppearance = useCallback(() => {\n    const newAppearance = appearance === 'light' ? 'dark' : 'light'\n    setAppearance(newAppearance)\n    setTheme(null)\n    setClientTheme(newAppearance)\n  }, [appearance])\n\n  const clientTheme = useMemo(\n    () => ({\n      appearance,\n      theme,\n      toggleAppearance,\n    }),\n    [appearance, theme, toggleAppearance]\n  )\n\n  return <ClientThemeContext.Provider value={clientTheme} {...props} />\n}\n\nfunction useClientTheme() {\n  return useContext(ClientThemeContext)\n}\n\nexport { ClientThemeProvider, useClientTheme }\n","import AccountErrorLight from '../assets/light/AccountError.svg'\nimport AccountErrorDark from '../assets/dark/AccountError.svg'\nimport CommentsLight from '../assets/light/Comments.svg'\nimport CommentsDark from '../assets/dark/Comments.svg'\n\nimport EmailLight from '../assets/light/Email.svg'\nimport EmailDark from '../assets/dark/Email.svg'\nimport EmailNotificationsLight from '../assets/light/EmailNotifications.svg'\nimport EmailNotificationsDark from '../assets/dark/EmailNotifications.svg'\nimport EmailVerificationFailedLight from '../assets/light/EmailVerificationFailed.png'\nimport EmailVerificationFailedDark from '../assets/dark/EmailVerificationFailed.svg'\nimport EmailVerificationSuccessLight from '../assets/light/EmailVerificationSuccess.svg'\nimport EmailVerificationSuccessDark from '../assets/dark/EmailVerificationSuccess.svg'\nimport ErrorLight from '../assets/light/Error.svg'\nimport ErrorDark from '../assets/dark/Error.svg'\nimport ErrorBackgroundLight from '../assets/light/ErrorBackground.svg'\nimport ErrorBackgroundDark from '../assets/dark/ErrorBackground.svg'\nimport HomeBannerLight from '../assets/light/HomeBanner.png'\nimport HomeBannerDark from '../assets/dark/HomeBanner.png'\nimport IconActivityHNYLight from '../assets/light/IconActivityHNY.svg'\nimport IconActivityHNYDark from '../assets/dark/IconActivityHNY.svg'\nimport IconActivityLogoLight from '../assets/light/IconActivityLogo.svg'\nimport IconActivityLogoDark from '../assets/dark/IconActivityLogo.svg'\nimport IconArrowLight from '../assets/light/IconArrow.svg'\nimport IconArrowDark from '../assets/dark/IconArrow.svg'\nimport IconDarkModeLight from '../assets/light/IconDarkMode.svg'\nimport IconDarkModeDark from '../assets/dark/IconDarkMode.svg'\nimport IconHNYActiveLight from '../assets/light/IconHNYActive.svg'\nimport IconHNYActiveDark from '../assets/dark/IconHNYActive.svg'\nimport IconHNYInactiveLight from '../assets/light/IconHNYInactive.svg'\nimport IconHNYInactiveDark from '../assets/dark/IconHNYInactive.svg'\nimport IconHNYLoaderLight from '../assets/light/IconHNYLoader.svg'\nimport IconHNYLoaderDark from '../assets/dark/IconHNYLoader.svg'\nimport IconHNYSpring from '../assets/IconHNYSpring.svg'\nimport IconNetworkLight from '../assets/light/IconNetwork.svg'\nimport IconNetworkDark from '../assets/dark/IconNetwork.svg'\nimport IconNotificationsLight from '../assets/light/IconNotifications.svg'\nimport IconNotificationsDark from '../assets/dark/IconNotifications.svg'\nimport IconNoRewards from '../assets/IconNoRewards.svg'\n\n// Dispute icons\nimport IconStarsActiveLight from '../assets/light/IconStarsActive.svg'\nimport IconStarsActiveDark from '../assets/dark/IconStarsActive.svg'\nimport IconStarsInactiveLight from '../assets/light/IconStarsInactive.svg'\nimport IconStarsInactiveDark from '../assets/dark/IconStarsInactive.svg'\nimport IconCommentActiveLight from '../assets/light/IconCommentActive.svg'\nimport IconCommentActiveDark from '../assets/dark/IconCommentActive.svg'\nimport IconCommentInactiveLight from '../assets/light/IconCommentInactive.svg'\nimport IconCommentInactiveDark from '../assets/dark/IconCommentInactive.svg'\nimport IconUsersActiveLight from '../assets/light/IconUsersActive.svg'\nimport IconUsersActiveDark from '../assets/dark/IconUsersActive.svg'\nimport IconUsersInactiveLight from '../assets/light/IconUsersInactive.svg'\nimport IconUsersInactiveDark from '../assets/dark/IconUsersInactive.svg'\nimport IconVotingActiveLight from '../assets/light/IconVotingActive.svg'\nimport IconVotingActiveDark from '../assets/dark/IconVotingActive.svg'\nimport IconVotingInactiveLight from '../assets/light/IconVotingInactive.svg'\nimport IconVotingInactiveDark from '../assets/dark/IconVotingInactive.svg'\nimport IconAppealActiveLight from '../assets/light/IconAppealActive.svg'\nimport IconAppealActiveDark from '../assets/dark/IconAppealActive.svg'\nimport IconAppealInactiveLight from '../assets/light/IconAppealInactive.svg'\nimport IconAppealInactiveDark from '../assets/dark/IconAppealInactive.svg'\nimport IconRulingActiveLight from '../assets/light/IconRulingActive.svg'\nimport IconRulingActiveDark from '../assets/dark/IconRulingActive.svg'\nimport IconRulingInactiveLight from '../assets/light/IconRulingInactive.svg'\nimport IconRulingInactiveDark from '../assets/dark/IconRulingInactive.svg'\nimport IconRewardsActiveLight from '../assets/light/IconRewardsActive.svg'\nimport IconRewardsActiveDark from '../assets/dark/IconRewardsActive.svg'\nimport IconRewardsInactiveLight from '../assets/light/IconRewardsInactive.svg'\nimport IconRewardsInactiveDark from '../assets/dark/IconRewardsInactive.svg'\n\nimport IconRewardsLight from '../assets/light/IconRewards.svg'\nimport IconRewardsDark from '../assets/dark/IconRewards.svg'\nimport IconStarLight from '../assets/light/IconStar.svg'\nimport IconStarDark from '../assets/dark/IconStar.svg'\nimport IconVotingFailedLight from '../assets/light/IconVotingFailed.svg'\nimport IconVotingFailedDark from '../assets/dark/IconVotingFailed.svg'\nimport IconVotingSuccessLight from '../assets/light/IconVotingSuccess.svg'\nimport IconVotingSuccessDark from '../assets/dark/IconVotingSuccess.svg'\nimport IconUserLight from '../assets/light/IconUser.svg'\nimport IconUserDark from '../assets/dark/IconUser.svg'\nimport IconWalletLight from '../assets/light/IconWallet.svg'\nimport IconWalletDark from '../assets/dark/IconWallet.svg'\nimport IconWarpLight from '../assets/light/IconWarp.svg'\nimport IconWarpDark from '../assets/dark/IconWarp.svg'\nimport LoadingLight from '../assets/light/Loading.svg'\nimport LoadingDark from '../assets/dark/Loading.svg'\nimport LogoLight from '../assets/light/HeaderLogo.svg'\nimport LogoDark from '../assets/dark/HeaderLogo.svg'\nimport NoDataLight from '../assets/light/NoData.svg'\nimport NoDataDark from '../assets/dark/NoData.svg'\nimport NoDraftLight from '../assets/light/NoDraft.svg'\nimport NoDraftDark from '../assets/dark/NoDraft.svg'\nimport NoResultsLight from '../assets/light/NoResults.svg'\nimport NoResultsDark from '../assets/dark/NoResults.svg'\nimport SignatureFailedLight from '../assets/light/SignatureFailed.svg'\nimport SignatureFailedDark from '../assets/dark/SignatureFailed.svg'\nimport SignatureSuccessLight from '../assets/light/SignatureSuccess.svg'\nimport SignatureSuccessDark from '../assets/dark/SignatureSuccess.svg'\n\nexport const ACCOUNT_ERROR = Symbol('ACCOUNT_ERROR')\nexport const COMMENTS = Symbol('COMMENTS')\nexport const ERROR = Symbol('ERROR')\nexport const EMAIL = Symbol('EMAIL')\nexport const EMAIL_NOTIFICATIONS = Symbol('EMAIL_NOTIFICATIONS')\nexport const EMAIL_VERIFICATION_FAILED = Symbol('EMAIL_VERIFICATION_FAILED')\nexport const EMAIL_VERIFICATION_SUCCESS = Symbol('EMAIL_VERIFICATION_SUCCESS')\nexport const ERROR_BACKGROUND = Symbol('ERROR_BACKGROUND')\nexport const HOME_BANNER = Symbol('HOME_BANNER')\nexport const ICON_ACTIVITY_HNY = Symbol('ICON_ACTIVITY_HNY')\nexport const ICON_ACTIVITY_LOGO = Symbol('ICON_ACTIVITY_LOGO')\nexport const ICON_ARROW = Symbol('ICON_ARROW')\nexport const ICON_DARK_MODE = Symbol('ICON_DARK_MODE')\nexport const ICON_HNY_ACTIVE = Symbol('ICON_HNY_ACTIVE')\nexport const ICON_HNY_INACTIVE = Symbol('ICON_HNY_INACTIVE')\nexport const ICON_HNY_LOADER = Symbol('ICON_HNY_LOADER')\nexport const ICON_HNY_SPRING = Symbol('ICON_HNY_SPRING')\nexport const ICON_NETWORK = Symbol('ICON_NETWORK')\nexport const ICON_NOTIFICATIONS = Symbol('ICON_NOTIFICATIONS')\nexport const ICON_NO_REWARDS = Symbol('ICON_NO_REWARDS')\n\n// dispute icons\nexport const ICON_STARS_ACTIVE = Symbol('ICON_STARS_ACTIVE')\nexport const ICON_STARS_INACTIVE = Symbol('ICON_STARS_INACTIVE')\nexport const ICON_COMMENT_ACTIVE = Symbol('ICON_COMMENT_ACTIVE')\nexport const ICON_COMMENT_INACTIVE = Symbol('ICON_COMMENT_INACTIVE')\nexport const ICON_USERS_ACTIVE = Symbol('ICON_USERS_ACTIVE')\nexport const ICON_USERS_INACTIVE = Symbol('ICON_USERS_INACTIVE')\nexport const ICON_VOTING_ACTIVE = Symbol('ICON_VOTING_ACTIVE')\nexport const ICON_VOTING_INACTIVE = Symbol('ICON_VOTING_INACTIVE')\nexport const ICON_APPEAL_ACTIVE = Symbol('ICON_APPEAL_ACTIVE')\nexport const ICON_APPEAL_INACTIVE = Symbol('ICON_APPEAL_INACTIVE')\nexport const ICON_RULING_ACTIVE = Symbol('ICON_RULING_ACTIVE')\nexport const ICON_RULING_INACTIVE = Symbol('ICON_RULING_INACTIVE')\nexport const ICON_REWARDS_ACTIVE = Symbol('ICON_REWARDS_ACTIVE')\nexport const ICON_REWARDS_INACTIVE = Symbol('ICON_REWARDS_INACTIVE')\n\nexport const ICON_REWARDS = Symbol('ICON_REWARDS')\nexport const ICON_STAR = Symbol('ICON_STAR')\nexport const ICON_VOTING_FAILED = Symbol('ICON_VOTING_FAILED')\nexport const ICON_VOTING_SUCCESS = Symbol('ICON_VOTING_SUCCESS')\nexport const ICON_USER = Symbol('ICON_USER')\nexport const ICON_WALLET = Symbol('ICON_WALLET')\nexport const ICON_WARP = Symbol('ICON_WARP')\nexport const LOADING = Symbol('LOADING')\nexport const LOGO = Symbol('LOGO')\nexport const NO_DATA = Symbol('NO_DATA')\nexport const NO_DRAFT = Symbol('NO_DRAFT')\nexport const NO_RESULTS = Symbol('NO_RESULTS')\nexport const SIGNATURE_FAILED = Symbol('SIGNATURE_FAILED')\nexport const SIGNATURE_SUCCESS = Symbol('SIGNATURE_SUCCESS')\n\nexport default {\n  [ACCOUNT_ERROR]: {\n    light: AccountErrorLight,\n    dark: AccountErrorDark,\n  },\n  [COMMENTS]: {\n    light: CommentsLight,\n    dark: CommentsDark,\n  },\n  [EMAIL]: {\n    light: EmailLight,\n    dark: EmailDark,\n  },\n  [EMAIL_NOTIFICATIONS]: {\n    light: EmailNotificationsLight,\n    dark: EmailNotificationsDark,\n  },\n  [EMAIL_VERIFICATION_FAILED]: {\n    light: EmailVerificationFailedLight,\n    dark: EmailVerificationFailedDark,\n  },\n  [EMAIL_VERIFICATION_SUCCESS]: {\n    light: EmailVerificationSuccessLight,\n    dark: EmailVerificationSuccessDark,\n  },\n  [ERROR]: {\n    light: ErrorLight,\n    dark: ErrorDark,\n  },\n  [ERROR_BACKGROUND]: {\n    light: ErrorBackgroundLight,\n    dark: ErrorBackgroundDark,\n  },\n  [HOME_BANNER]: {\n    light: HomeBannerLight,\n    dark: HomeBannerDark,\n  },\n  [ICON_ACTIVITY_HNY]: {\n    light: IconActivityHNYLight,\n    dark: IconActivityHNYDark,\n  },\n  [ICON_ACTIVITY_LOGO]: {\n    light: IconActivityLogoLight,\n    dark: IconActivityLogoDark,\n  },\n  [ICON_ARROW]: {\n    light: IconArrowLight,\n    dark: IconArrowDark,\n  },\n  [ICON_DARK_MODE]: {\n    light: IconDarkModeLight,\n    dark: IconDarkModeDark,\n  },\n  [ICON_HNY_ACTIVE]: {\n    light: IconHNYActiveLight,\n    dark: IconHNYActiveDark,\n  },\n  [ICON_HNY_INACTIVE]: {\n    light: IconHNYInactiveLight,\n    dark: IconHNYInactiveDark,\n  },\n  [ICON_HNY_LOADER]: {\n    light: IconHNYLoaderLight,\n    dark: IconHNYLoaderDark,\n  },\n  [ICON_HNY_SPRING]: {\n    light: IconHNYSpring,\n    dark: IconHNYSpring,\n  },\n  [ICON_NETWORK]: {\n    light: IconNetworkLight,\n    dark: IconNetworkDark,\n  },\n  [ICON_NOTIFICATIONS]: {\n    light: IconNotificationsLight,\n    dark: IconNotificationsDark,\n  },\n  [ICON_NO_REWARDS]: {\n    light: IconNoRewards,\n    dark: IconNoRewards,\n  },\n\n  // dispute-icons\n  [ICON_STARS_ACTIVE]: {\n    light: IconStarsActiveLight,\n    dark: IconStarsActiveDark,\n  },\n  [ICON_STARS_INACTIVE]: {\n    light: IconStarsInactiveLight,\n    dark: IconStarsInactiveDark,\n  },\n  [ICON_COMMENT_ACTIVE]: {\n    light: IconCommentActiveLight,\n    dark: IconCommentActiveDark,\n  },\n  [ICON_COMMENT_INACTIVE]: {\n    light: IconCommentInactiveLight,\n    dark: IconCommentInactiveDark,\n  },\n  [ICON_USERS_ACTIVE]: {\n    light: IconUsersActiveLight,\n    dark: IconUsersActiveDark,\n  },\n  [ICON_USERS_INACTIVE]: {\n    light: IconUsersInactiveLight,\n    dark: IconUsersInactiveDark,\n  },\n  [ICON_VOTING_ACTIVE]: {\n    light: IconVotingActiveLight,\n    dark: IconVotingActiveDark,\n  },\n  [ICON_VOTING_INACTIVE]: {\n    light: IconVotingInactiveLight,\n    dark: IconVotingInactiveDark,\n  },\n  [ICON_APPEAL_ACTIVE]: {\n    light: IconAppealActiveLight,\n    dark: IconAppealActiveDark,\n  },\n  [ICON_APPEAL_INACTIVE]: {\n    light: IconAppealInactiveLight,\n    dark: IconAppealInactiveDark,\n  },\n  [ICON_RULING_ACTIVE]: {\n    light: IconRulingActiveLight,\n    dark: IconRulingActiveDark,\n  },\n  [ICON_RULING_INACTIVE]: {\n    light: IconRulingInactiveLight,\n    dark: IconRulingInactiveDark,\n  },\n  [ICON_REWARDS_ACTIVE]: {\n    light: IconRewardsActiveLight,\n    dark: IconRewardsActiveDark,\n  },\n  [ICON_REWARDS_INACTIVE]: {\n    light: IconRewardsInactiveLight,\n    dark: IconRewardsInactiveDark,\n  },\n  [ICON_REWARDS]: {\n    light: IconRewardsLight,\n    dark: IconRewardsDark,\n  },\n  [ICON_STAR]: {\n    light: IconStarLight,\n    dark: IconStarDark,\n  },\n  [ICON_VOTING_FAILED]: {\n    light: IconVotingFailedLight,\n    dark: IconVotingFailedDark,\n  },\n  [ICON_VOTING_SUCCESS]: {\n    light: IconVotingSuccessLight,\n    dark: IconVotingSuccessDark,\n  },\n  [ICON_USER]: {\n    light: IconUserLight,\n    dark: IconUserDark,\n  },\n  [ICON_WALLET]: {\n    light: IconWalletLight,\n    dark: IconWalletDark,\n  },\n  [ICON_WARP]: {\n    light: IconWarpLight,\n    dark: IconWarpDark,\n  },\n  [LOADING]: {\n    light: LoadingLight,\n    dark: LoadingDark,\n  },\n  [LOGO]: {\n    light: LogoLight,\n    dark: LogoDark,\n  },\n  [NO_DATA]: {\n    light: NoDataLight,\n    dark: NoDataDark,\n  },\n  [NO_DRAFT]: {\n    light: NoDraftLight,\n    dark: NoDraftDark,\n  },\n  [NO_RESULTS]: {\n    light: NoResultsLight,\n    dark: NoResultsDark,\n  },\n  [SIGNATURE_FAILED]: {\n    light: SignatureFailedLight,\n    dark: SignatureFailedDark,\n  },\n  [SIGNATURE_SUCCESS]: {\n    light: SignatureSuccessLight,\n    dark: SignatureSuccessDark,\n  },\n}\n","import { useTheme } from '@aragon/ui'\nimport assets from '../utils/asset-utils'\n\nexport function useAsset(iconType) {\n  const theme = useTheme()\n\n  if (!iconType) {\n    return ''\n  }\n\n  return assets[iconType][theme._appearance]\n}\n","import React, { useRef, useState, useCallback } from 'react'\nimport {\n  ButtonBase,\n  ButtonIcon,\n  GU,\n  IconExternal,\n  IconSettings,\n  Popover,\n  RADIUS,\n  Switch,\n  textStyle,\n  useTheme,\n  useViewport,\n} from '@aragon/ui'\nimport { useClientTheme } from '../../providers/ClientTheme'\nimport { useAsset } from '../../hooks/useAsset'\nimport {\n  ICON_DARK_MODE,\n  ICON_NETWORK,\n  ICON_NOTIFICATIONS,\n} from '../../utils/asset-utils'\n\nfunction GlobalPreferencesButton({ onOpen }) {\n  const theme = useTheme()\n  const { below } = useViewport()\n  const clientTheme = useClientTheme()\n\n  const [opened, setOpened] = useState(false)\n  const containerRef = useRef()\n\n  const handleToggle = useCallback(() => setOpened(opened => !opened), [])\n  const handleClose = useCallback(() => setOpened(false), [])\n  const handleItemClick = useCallback(\n    path => () => {\n      setOpened(false)\n      onOpen(path)\n    },\n    [onOpen]\n  )\n\n  const toggleDarkMode = useCallback(() => {\n    clientTheme.toggleAppearance()\n  }, [clientTheme])\n\n  const iconDarkMode = useAsset(ICON_DARK_MODE)\n  const iconNetwork = useAsset(ICON_NETWORK)\n  const iconNotifications = useAsset(ICON_NOTIFICATIONS)\n\n  return (\n    <React.Fragment>\n      <div ref={containerRef}>\n        <ButtonIcon\n          element=\"div\"\n          onClick={handleToggle}\n          label=\"Global preferences\"\n          css={`\n            width: ${4.25 * GU}px;\n            height: 100%;\n            border-radius: 0;\n          `}\n        >\n          <IconSettings\n            css={`\n              color: ${theme.hint};\n            `}\n          />\n        </ButtonIcon>\n      </div>\n      <Popover\n        closeOnOpenerFocus\n        placement=\"bottom-end\"\n        onClose={handleClose}\n        visible={opened}\n        opener={containerRef.current}\n      >\n        <ul\n          css={`\n            /* Use 20px as the padding setting for popper is 10px */\n            width: ${below('medium') ? `calc(100vw - 20px)` : `${42 * GU}px`};\n            padding: 0;\n            margin: 0;\n            list-style: none;\n            background: ${theme.surface};\n            color: ${theme.content};\n            border-radius: ${RADIUS}px;\n          `}\n        >\n          <li\n            css={`\n              display: flex;\n              align-items: center;\n              height: ${4 * GU}px;\n              padding-left: ${2 * GU}px;\n              border-bottom: 1px solid ${theme.border};\n              ${textStyle('label2')};\n              color: ${theme.surfaceContentSecondary};\n            `}\n          >\n            Global preferences\n          </li>\n          <Item\n            onClick={handleItemClick('network')}\n            icon={iconNetwork}\n            label=\"Network\"\n          />\n          <Item\n            onClick={handleItemClick('notifications')}\n            icon={iconNotifications}\n            label=\"Notifications\"\n          />\n          <Item\n            onClick={toggleDarkMode}\n            icon={iconDarkMode}\n            label={\n              <React.Fragment>\n                <div\n                  css={`\n                    display: flex;\n                    justify-content: space-between;\n                    width: 100%;\n                  `}\n                >\n                  <span>Dark mode</span>\n                  <Switch checked={clientTheme.appearance === 'dark'} />\n                </div>\n              </React.Fragment>\n            }\n          />\n          <Item href=\"https://1hive.gitbook.io/celeste/\">\n            <div\n              css={`\n                flex-grow: 1;\n                display: flex;\n                align-items: center;\n                margin-right: ${1 * GU}px;\n              `}\n            >\n              Any questions? Visit our FAQ\n            </div>\n            <div\n              css={`\n                color: ${theme.surfaceContentSecondary};\n              `}\n            >\n              <IconExternal />\n            </div>\n          </Item>\n        </ul>\n      </Popover>\n    </React.Fragment>\n  )\n}\n\nfunction Item({ children, icon, label, onClick, href }) {\n  const theme = useTheme()\n  return (\n    <li\n      css={`\n        & + & {\n          border-top: 1px solid ${theme.border};\n        }\n      `}\n    >\n      <ButtonBase\n        onClick={onClick}\n        label={label}\n        external={Boolean(href)}\n        href={href}\n        css={`\n          width: 100%;\n          height: ${7 * GU}px;\n          border-radius: 0;\n        `}\n      >\n        <div\n          css={`\n            display: flex;\n            width: 100%;\n            height: 100%;\n            padding: ${2 * GU}px;\n            justify-content: left;\n            align-items: center;\n\n            &:active,\n            &:focus {\n              background: ${theme.surfacePressed};\n            }\n          `}\n        >\n          {children || (\n            <>\n              {icon && <img src={icon} alt=\"\" />}\n              <div\n                css={`\n                  flex-grow: 1;\n                  display: flex;\n                  align-items: center;\n                  margin-left: ${icon ? 1 * GU : 0}px;\n                `}\n              >\n                {label}\n              </div>\n            </>\n          )}\n        </div>\n      </ButtonBase>\n    </li>\n  )\n}\n\nexport default React.memo(GlobalPreferencesButton)\n","import React from 'react'\nimport { ButtonIcon, GU, IconMenu } from '@aragon/ui'\nimport AccountModule from '../Account/AccountModule'\nimport ClockModule from '../ClockModule'\nimport ActivityButton from '../Activity/ActivityButton'\nimport GlobalPreferencesButton from '../GlobalPreferences/GlobalPreferencesButton'\nimport HeaderLogo from './HeaderLogo'\n\nconst Header = React.memo(function Header({\n  compactMode,\n  toggleMenuPanel,\n  onOpenPreferences,\n}) {\n  return (\n    <header\n      css={`\n        position: relative;\n        z-index: 3;\n        height: ${9 * GU}px;\n        box-shadow: rgb(0 0 0 / 16%) 0 2px 3px;\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        padding: 0;\n      `}\n    >\n      <div\n        css={`\n          display: flex;\n          align-items: center;\n          height: 100%;\n          padding-left: ${3 * GU}px;\n        `}\n      >\n        {compactMode ? (\n          <ButtonIcon label=\"Open menu\" onClick={toggleMenuPanel}>\n            <IconMenu />\n          </ButtonIcon>\n        ) : (\n          <HeaderLogo />\n        )}\n      </div>\n\n      <div\n        css={`\n          flex-grow: 0;\n          display: flex;\n          height: 100%;\n        `}\n      >\n        {!compactMode && <ClockModule />}\n        <div\n          css={`\n            display: flex;\n            height: 100%;\n          `}\n        >\n          <AccountModule />\n        </div>\n        <div\n          css={`\n            display: flex;\n            height: 100%;\n            margin-left: ${2 * GU}px;\n          `}\n        >\n          <GlobalPreferencesButton onOpen={onOpenPreferences} />\n        </div>\n        <div\n          css={`\n            display: flex;\n            height: 100%;\n          `}\n        >\n          <ActivityButton />\n        </div>\n      </div>\n    </header>\n  )\n})\n\nexport default Header\n","export default {\n  enter: 13,\n  esc: 27,\n  up: 38,\n  left: 37,\n  down: 40,\n  right: 39,\n}\n","import { fetchExchange } from 'urql'\n\n// Default exchanges\nconst DEFAULT_FETCH_EXCHANGE = fetchExchange\n\nexport function getFetchExchange() {\n  return DEFAULT_FETCH_EXCHANGE\n}\n","import React from 'react'\nimport {\n  createClient,\n  Provider as UrqlProvider,\n  cacheExchange,\n  debugExchange,\n} from 'urql'\nimport { getFetchExchange } from '../graphql-exchanges'\n\nimport { devtoolsExchange } from '@urql/devtools'\nimport { defaultSubgraphHttpEndpoint } from '../endpoints'\n\nconst SubgraphContext = React.createContext({ resetSubgraphClient: null })\n\nconst newClient = () =>\n  createClient({\n    url: defaultSubgraphHttpEndpoint,\n    exchanges: [\n      debugExchange,\n      devtoolsExchange,\n      cacheExchange,\n      getFetchExchange(),\n    ],\n  })\n\nfunction SubGraphProvider({ children }) {\n  const [client, setClient] = React.useState(newClient())\n\n  return (\n    <SubgraphContext.Provider\n      value={{\n        resetSubgraphClient: () => setClient(newClient()),\n      }}\n    >\n      <UrqlProvider value={client}>{children}</UrqlProvider>\n    </SubgraphContext.Provider>\n  )\n}\n\nconst useSubgraph = () => React.useContext(SubgraphContext)\n\nexport { SubGraphProvider, useSubgraph }\n","import React, { useCallback, useState } from 'react'\nimport styled from 'styled-components'\nimport {\n  Box,\n  Button,\n  GU,\n  TextInput,\n  textStyle,\n  useLayout,\n  useTheme,\n} from '@aragon/ui'\nimport {\n  defaultEthNode,\n  defaultIpfsGateway,\n  defaultSubgraphHttpEndpoint,\n} from '../../../endpoints'\nimport {\n  clearLocalStorageNetworkSettings,\n  setDefaultEthNode,\n  setIpfsGateway,\n  setSubgraphHttpEndpoint,\n} from '../../../local-settings'\nimport { InvalidNetworkType, InvalidURI, NoConnection } from '../../../errors'\nimport {\n  checkValidEthNode,\n  getNetworkType,\n  sanitizeNetworkType,\n} from '../../../lib/web3-utils'\nimport { validHttpFormat } from '../../../lib/uri-utils'\nimport { useEnterKey } from '../../../hooks/useKeyboardArrows'\nimport { useSubgraph } from '../../../providers/Subgraph'\n\nfunction Network() {\n  const {\n    ethNode,\n    handleClearNetworkSettings,\n    handleEthNodeChange,\n    handleIpfsGatewayChange,\n    handleNetworkChange,\n    handleSubgraphHttpEndpointChange,\n    ipfsGateway,\n    settingsErrors,\n    subgraphHttpEndpoint,\n  } = useNetwork()\n\n  const { layoutName } = useLayout()\n  const compact = layoutName === 'small'\n  const { ethError, httpSubgraphError } = settingsErrors || {}\n\n  return (\n    <React.Fragment>\n      <Box heading=\"Node settings\">\n        <Field\n          label=\"Ethereum node\"\n          text={ethNode}\n          onTextChange={handleEthNodeChange}\n          error={ethError}\n        />\n        <Field\n          label=\"IPFS Gateway\"\n          text={ipfsGateway}\n          onTextChange={handleIpfsGatewayChange}\n        />\n        <Field\n          label=\"Subgraph HTTP endpoint\"\n          text={subgraphHttpEndpoint}\n          onTextChange={handleSubgraphHttpEndpointChange}\n          error={httpSubgraphError}\n        />\n        <Button mode=\"strong\" onClick={handleNetworkChange} wide={compact}>\n          Save changes\n        </Button>\n      </Box>\n      <Box heading=\"Troubleshooting\">\n        <div\n          css={`\n            margin-bottom: ${2 * GU}px;\n          `}\n        >\n          <span>\n            Press this button to reset the network settings to their defaults.\n          </span>\n        </div>\n        <Button\n          css={`\n            margin-bottom: ${2 * GU}px;\n          `}\n          onClick={handleClearNetworkSettings}\n          wide={compact}\n        >\n          Reset network settings\n        </Button>\n      </Box>\n    </React.Fragment>\n  )\n}\n\nfunction Field({ label, text, onTextChange, error }) {\n  const theme = useTheme()\n  return (\n    <Label theme={theme}>\n      {label}\n      <TextInput\n        value={text}\n        wide\n        onChange={onTextChange}\n        css={`\n          ${textStyle('body2')};\n          color: ${theme.contentSecondary};\n        `}\n      />\n      {error && (\n        <span\n          css={`\n            ${textStyle('body4')};\n            color: ${theme.negative};\n          `}\n        >\n          {error}\n        </span>\n      )}\n    </Label>\n  )\n}\n\nconst useNetwork = () => {\n  const [settingsErrors, setSettingsErrors] = useState(null)\n  const [ethNode, setEthNodeValue] = useState(defaultEthNode)\n  const [ipfsGateway, setIpfsGatewayValue] = useState(defaultIpfsGateway)\n  const [subgraphHttpEndpoint, setSubgraphHttpEndpointValue] = useState(\n    defaultSubgraphHttpEndpoint\n  )\n\n  const { resetSubgraphClient } = useSubgraph()\n  const networkType = getNetworkType()\n\n  const subgraphChanged = subgraphHttpEndpoint !== defaultSubgraphHttpEndpoint\n\n  const defaultsChanged =\n    ipfsGateway !== defaultIpfsGateway ||\n    ethNode !== defaultEthNode ||\n    subgraphChanged\n\n  const handleNetworkChange = useCallback(async () => {\n    if (!defaultsChanged) {\n      setSettingsErrors(null)\n      return\n    }\n\n    const errors = await validateNetworkSettings(\n      ethNode,\n      subgraphHttpEndpoint,\n      networkType\n    )\n\n    if (errors) {\n      setSettingsErrors(errors)\n      return\n    }\n    setDefaultEthNode(ethNode)\n    setSubgraphHttpEndpoint(subgraphHttpEndpoint)\n    setIpfsGateway(ipfsGateway)\n\n    if (subgraphChanged) {\n      resetSubgraphClient()\n    }\n    window.location.reload()\n  }, [\n    defaultsChanged,\n    ethNode,\n    subgraphHttpEndpoint,\n    networkType,\n    ipfsGateway,\n    subgraphChanged,\n    resetSubgraphClient,\n  ])\n\n  const handleClearNetworkSettings = useCallback(() => {\n    clearLocalStorageNetworkSettings()\n    window.location.reload()\n  }, [])\n\n  useEnterKey(handleNetworkChange)\n\n  return {\n    ethNode,\n    ipfsGateway,\n    subgraphHttpEndpoint,\n    handleNetworkChange,\n    handleClearNetworkSettings,\n    settingsErrors,\n    handleEthNodeChange: ({ currentTarget: { value } }) =>\n      setEthNodeValue(value),\n    handleIpfsGatewayChange: ({ currentTarget: { value } }) =>\n      setIpfsGatewayValue(value),\n    handleSubgraphHttpEndpointChange: ({ currentTarget: { value } }) =>\n      setSubgraphHttpEndpointValue(value),\n  }\n}\n\nasync function validateNetworkSettings(\n  ethNode,\n  subgraphHttpEndpoint,\n  networkType\n) {\n  const settingsErrors = {}\n  try {\n    await checkValidEthNode(ethNode)\n  } catch (err) {\n    if (err instanceof InvalidNetworkType) {\n      settingsErrors.ethError = `Node must be connected to ${sanitizeNetworkType(\n        networkType\n      )}`\n    }\n    if (err instanceof InvalidURI) {\n      settingsErrors.ethError = 'Must provide HTTP endpoint to node'\n    }\n    if (err instanceof NoConnection) {\n      settingsErrors.ethError = 'Could not connect to node'\n    }\n\n    if (!validHttpFormat(subgraphHttpEndpoint)) {\n      settingsErrors.httpSubgraphError = 'The URI must use the HTTP protocol'\n    }\n\n    if (Object.entries(settingsErrors).length === 0) {\n      return null\n    }\n    return settingsErrors\n  }\n}\n\nconst Label = styled.label`\n  color: ${({ theme }) => theme.content};\n  display: block;\n  margin-bottom: ${2 * GU}px;\n`\n\nexport default React.memo(Network)\n","import { useCallback, useEffect } from 'react'\nimport keycodes from '../keycodes'\n\nexport default function useArrows({ onUp, onLeft, onDown, onRight } = {}) {\n  useEffect(() => {\n    const actions = [\n      [keycodes.up, onUp],\n      [keycodes.left, onLeft],\n      [keycodes.down, onDown],\n      [keycodes.right, onRight],\n    ]\n    const onKeyDown = e => {\n      for (const [keyCode, cb] of actions) {\n        if (cb && e.keyCode === keyCode) {\n          e.preventDefault()\n          cb()\n          break\n        }\n      }\n    }\n    document.addEventListener('keydown', onKeyDown)\n    return () => {\n      document.removeEventListener('keydown', onKeyDown)\n    }\n  }, [onUp, onLeft, onDown, onRight])\n}\n\nexport function useEsc(cb) {\n  const handlekeyDown = useCallback(\n    e => {\n      if (e.keyCode === keycodes.esc) {\n        cb()\n      }\n    },\n    [cb]\n  )\n  useEffect(() => {\n    window.addEventListener('keydown', handlekeyDown)\n    return () => window.removeEventListener('keydown', handlekeyDown)\n  }, [handlekeyDown])\n}\n\nexport function useEnterKey(cb) {\n  const handleKeyPress = useCallback(\n    ({ keyCode }) => {\n      if (keyCode === keycodes.enter) {\n        cb()\n      }\n    },\n    [cb]\n  )\n\n  useEffect(() => {\n    window.addEventListener('keypress', handleKeyPress)\n    return () => window.removeEventListener('keypress', handleKeyPress)\n  }, [handleKeyPress])\n}\n","import { courtServerEndpoint } from '../endpoints'\nimport {\n  FORBIDDEN_RESPONSE,\n  UNAUTHORIZED_RESPONSE,\n  USER_NOT_FOUND,\n} from './responseCodes'\n\nconst COURT_SERVER_ENDPOINT = courtServerEndpoint()\n\nexport async function createSession(address, signature, timestamp) {\n  const endpoint = `${COURT_SERVER_ENDPOINT}/users/${address}/sessions`\n\n  try {\n    const rawResponse = await fetch(endpoint, {\n      method: 'POST',\n      credentials: 'include',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ signature, timestamp }),\n    })\n\n    const jsonResponse = await rawResponse.json()\n\n    if (rawResponse.ok) {\n      return {\n        authenticated: jsonResponse?.authenticated,\n        error: null,\n      }\n    }\n\n    const errors = jsonResponse.errors\n      .map(err => Object.values(err).join(', '))\n      .join(', ')\n\n    return {\n      error: errors,\n    }\n  } catch (err) {\n    console.error(err)\n    return { error: err }\n  }\n}\n\nexport async function subscribeToNotifications(address, email) {\n  const endpoint = `${COURT_SERVER_ENDPOINT}/users/${address}/email`\n\n  try {\n    const rawResponse = await fetch(endpoint, {\n      method: 'PUT',\n      credentials: 'include',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ email }),\n    })\n\n    const jsonResponse = await rawResponse.json()\n\n    if (rawResponse.ok) {\n      return {\n        subscribedEmail: jsonResponse?.email,\n        sent: jsonResponse?.sent,\n        error: null,\n      }\n    }\n\n    const errors = jsonResponse.errors\n      .map(err => Object.values(err).join(', '))\n      .join(', ')\n\n    return {\n      needsSignature:\n        rawResponse.status === UNAUTHORIZED_RESPONSE ||\n        rawResponse.status === USER_NOT_FOUND ||\n        rawResponse.status === FORBIDDEN_RESPONSE,\n      error: errors,\n    }\n  } catch (err) {\n    console.error(err)\n    return { error: err }\n  }\n}\n\nexport async function switchNotificationsStatus(address, disabled) {\n  const endpoint = `${COURT_SERVER_ENDPOINT}/users/${address}/notifications`\n\n  try {\n    const rawResponse = await fetch(endpoint, {\n      method: 'PUT',\n      credentials: 'include',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ disabled }),\n    })\n\n    const jsonResponse = await rawResponse.json()\n\n    if (rawResponse.ok) {\n      return {\n        disabled: jsonResponse?.disabled,\n        error: null,\n      }\n    }\n\n    const errors = jsonResponse.errors\n      .map(err => Object.values(err).join(', '))\n      .join(', ')\n\n    return {\n      needsSignature:\n        rawResponse.status === UNAUTHORIZED_RESPONSE ||\n        rawResponse.status === USER_NOT_FOUND ||\n        rawResponse.status === FORBIDDEN_RESPONSE,\n      error: errors,\n    }\n  } catch (err) {\n    console.error(err)\n    return { error: err }\n  }\n}\n\nexport async function getJurorEmail(address) {\n  const endpoint = `${COURT_SERVER_ENDPOINT}/users/${address}/email`\n\n  try {\n    const rawResponse = await fetch(endpoint, {\n      method: 'GET',\n      credentials: 'include',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n    })\n\n    const jsonResponse = await rawResponse.json()\n\n    if (rawResponse.ok) {\n      return {\n        email: jsonResponse?.email,\n        error: null,\n      }\n    }\n\n    const errors = jsonResponse.errors\n      .map(err => Object.values(err).join(', '))\n      .join(', ')\n\n    return {\n      needsSignature:\n        rawResponse.status === UNAUTHORIZED_RESPONSE ||\n        rawResponse.status === USER_NOT_FOUND ||\n        rawResponse.status === FORBIDDEN_RESPONSE,\n      error: errors,\n    }\n  } catch (err) {\n    console.error(err)\n    return { error: err }\n  }\n}\n\nexport async function resendVerificationEmail(address) {\n  const endpoint = `${COURT_SERVER_ENDPOINT}/users/${address}/email:resend`\n\n  try {\n    const rawResponse = await fetch(endpoint, {\n      method: 'POST',\n      credentials: 'include',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n    })\n\n    const jsonResponse = await rawResponse.json()\n\n    if (rawResponse.ok) {\n      return {\n        sent: jsonResponse?.sent,\n        error: null,\n      }\n    }\n\n    const errors = jsonResponse.errors\n      .map(err => Object.values(err).join(', '))\n      .join(', ')\n\n    return {\n      needsSignature:\n        rawResponse.status === UNAUTHORIZED_RESPONSE ||\n        rawResponse.status === USER_NOT_FOUND ||\n        rawResponse.status === FORBIDDEN_RESPONSE,\n      error: errors,\n    }\n  } catch (err) {\n    console.error(err)\n    return { error: err }\n  }\n}\n\nexport async function subscribeExistingEmail(address) {\n  const { email, error, needsSignature } = await getJurorEmail(address)\n\n  if (needsSignature) {\n    return { needsSignature, email }\n  }\n  if (error) {\n    return { error }\n  }\n  const { sent, error: errorReSending } = await resendVerificationEmail(address)\n\n  return { email, sent, error: errorReSending }\n}\n\nexport async function deleteJurorEmail(address) {\n  const endpoint = `${COURT_SERVER_ENDPOINT}/users/${address}/email`\n\n  try {\n    const rawResponse = await fetch(endpoint, {\n      method: 'DELETE',\n      credentials: 'include',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n    })\n\n    const jsonResponse = await rawResponse.json()\n\n    if (rawResponse.ok) {\n      return {\n        deleted: jsonResponse?.deleted,\n        error: null,\n      }\n    }\n\n    const errors = jsonResponse.errors\n      .map(err => Object.values(err).join(', '))\n      .join(', ')\n\n    return {\n      needsSignature:\n        rawResponse.status === UNAUTHORIZED_RESPONSE ||\n        rawResponse.status === USER_NOT_FOUND ||\n        rawResponse.status === FORBIDDEN_RESPONSE,\n      error: errors,\n    }\n  } catch (err) {\n    console.error(err)\n    return { error: err }\n  }\n}\n\nexport async function deleteCurrentSession(address) {\n  const endpoint = `${COURT_SERVER_ENDPOINT}/users/${address}/sessions:current`\n\n  try {\n    const rawResponse = await fetch(endpoint, {\n      method: 'DELETE',\n      credentials: 'include',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n    })\n\n    const jsonResponse = await rawResponse.json()\n\n    if (rawResponse.ok) {\n      return {\n        deleted: jsonResponse?.deleted,\n        error: null,\n      }\n    }\n\n    const errors = jsonResponse.errors\n      .map(err => Object.values(err).join(', '))\n      .join(', ')\n\n    return {\n      needsSignature:\n        rawResponse.status === UNAUTHORIZED_RESPONSE ||\n        rawResponse.status === USER_NOT_FOUND ||\n        rawResponse.status === FORBIDDEN_RESPONSE,\n      error: errors,\n    }\n  } catch (err) {\n    console.error(err)\n    return { error: err }\n  }\n}\n\nexport async function verifyJurorEmail(address, token) {\n  const endpoint = `${COURT_SERVER_ENDPOINT}/users/${address}/email:verify`\n\n  try {\n    const rawResponse = await fetch(endpoint, {\n      method: 'POST',\n      credentials: 'include',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ token }),\n    })\n\n    const jsonResponse = await rawResponse.json()\n\n    if (rawResponse.ok) {\n      return {\n        verified: jsonResponse?.verified,\n        error: null,\n      }\n    }\n\n    const errors = jsonResponse.errors\n      .map(err => Object.values(err).join(', '))\n      .join(', ')\n\n    return {\n      error: errors,\n    }\n  } catch (err) {\n    console.error(err)\n    return { error: err }\n  }\n}\n\nexport async function getSubscriptionDetails(address) {\n  const endpoint = `${COURT_SERVER_ENDPOINT}/users/${address}`\n\n  try {\n    const rawResponse = await fetch(endpoint, {\n      method: 'GET',\n      credentials: 'include',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n    })\n\n    const jsonResponse = await rawResponse.json()\n\n    if (rawResponse.ok) {\n      return {\n        addressVerified: jsonResponse?.addressVerified,\n        emailExists: jsonResponse?.emailExists,\n        emailVerified: jsonResponse?.emailVerified,\n        notificationsDisabled: jsonResponse?.notificationsDisabled,\n        error: null,\n      }\n    }\n\n    const errors = jsonResponse.errors\n      .map(err => Object.values(err).join(', '))\n      .join(', ')\n\n    return {\n      error: errors,\n    }\n  } catch (err) {\n    console.error(err)\n    return { error: err }\n  }\n}\n","export const UNAUTHORIZED_RESPONSE = 401\nexport const USER_NOT_FOUND = 404\nexport const FORBIDDEN_RESPONSE = 403\n","import { useEffect, useState } from 'react'\nimport { getSubscriptionDetails } from '../services/notificationServiceApi'\n\nexport function useSubscriptionDetails(address) {\n  const [subscriptionDetails, setSubscriptionDetails] = useState({})\n  const [fetching, setFetching] = useState(true)\n\n  useEffect(() => {\n    let cancelled = false\n    const fetchSubscriptionDetails = async () => {\n      if (!address) {\n        return\n      }\n      setFetching(true)\n      if (!cancelled) {\n        const response = await getSubscriptionDetails(address)\n        setSubscriptionDetails(response)\n        setFetching(false)\n      }\n    }\n    fetchSubscriptionDetails()\n    return () => {\n      cancelled = true\n    }\n  }, [address])\n\n  return {\n    addressVerified: subscriptionDetails?.addressVerified,\n    emailExists: subscriptionDetails?.emailExists,\n    emailVerified: subscriptionDetails?.emailVerified,\n    notificationsDisabled: subscriptionDetails?.notificationsDisabled,\n    fetching,\n    error: subscriptionDetails.error,\n  }\n}\n","import React from 'react'\nimport { Button, GU, textStyle, useInside, useTheme } from '@aragon/ui'\n\nimport emailNotifcationIllustration from '../../assets/emailNotifications.svg'\n\nconst DeleteEmail = React.memo(function DeleteEmail({\n  email,\n  onDelete,\n  onCancel,\n}) {\n  const theme = useTheme()\n  const [insideModal] = useInside('NotificationsModal')\n\n  return (\n    <div\n      css={`\n        display: flex;\n        padding-top: ${insideModal ? 3 : 0 * GU}px;\n        flex-direction: column;\n      `}\n    >\n      {!insideModal && (\n        <div\n          css={`\n            text-align: center;\n          `}\n        >\n          <img\n            src={emailNotifcationIllustration}\n            width={180}\n            height={180}\n            alt=\"\"\n          />\n        </div>\n      )}\n      <div\n        css={`\n          display: flex;\n          flex-direction: column;\n          text-align: ${insideModal ? 'left' : 'center'};\n          margin-top: ${insideModal ? 0 : 5 * GU}px;\n        `}\n      >\n        <span\n          css={`\n            ${textStyle('title2')};\n          `}\n        >\n          Delete {email}\n        </span>\n        <span\n          css={`\n            ${textStyle('body2')};\n            color: ${theme.surfaceContentSecondary};\n            margin-top: ${1.5 * GU}px;\n          `}\n        >\n          This action will unsubscribe you from all email notifications and\n          remove this email address from our databases. You can always\n          re-subscribe from the notifications preferences later.\n        </span>\n        <div\n          css={`\n            margin-top: ${4 * GU}px;\n            display: flex;\n            justify-content: ${insideModal ? 'flex-end' : 'center'};\n          `}\n        >\n          <Button\n            css={`\n              margin-right: ${1 * GU}px;\n            `}\n            onClick={onCancel}\n            size=\"medium\"\n            wide={!insideModal}\n          >\n            Cancel\n          </Button>\n          <Button\n            mode=\"negative\"\n            onClick={onDelete}\n            size=\"medium\"\n            wide={!insideModal}\n          >\n            Delete email\n          </Button>\n        </div>\n      </div>\n    </div>\n  )\n})\n\nexport default DeleteEmail\n","import { useCallback, useRef, useState } from 'react'\nimport { useFocusEnter, useFocusLeave } from '@aragon/ui'\n\nexport function useInput(validationFn) {\n  const [value, setValue] = useState('')\n  const [status, setStatus] = useState('empty')\n\n  const inputRef = useRef()\n\n  const handleBlur = useCallback(() => {\n    const invalidValue = !validationFn(value)\n    if (invalidValue) {\n      return setStatus('invalid')\n    }\n    return setStatus('valid')\n  }, [validationFn, value])\n\n  const handleInputFocus = useCallback(event => event.target.select(), [])\n\n  const { handleFocusLeave } = useFocusLeave(handleBlur, inputRef)\n\n  const { handleFocusEnter } = useFocusEnter(handleInputFocus, inputRef)\n\n  const handleValueChange = useCallback(e => {\n    const val = e.target.value\n    setValue(val)\n    // Set only as valid while user typing. Use blur to set invalid\n    setStatus(val.trim() ? 'valid' : 'empty')\n  }, [])\n\n  return {\n    inputProps: {\n      inputRef,\n      value,\n      onBlur: handleFocusLeave,\n      onFocus: handleFocusEnter,\n      onChange: handleValueChange,\n    },\n    status,\n  }\n}\n","import React, { useEffect, useState } from 'react'\nimport {\n  Field,\n  GU,\n  IconCheck,\n  IconCross,\n  TextInput,\n  textStyle,\n  useInside,\n  useTheme,\n} from '@aragon/ui'\n\nconst EmailInput = React.memo(function EmailInput({\n  existingEmail,\n  status,\n  ...inputProps\n}) {\n  const theme = useTheme()\n  const [error, setError] = useState('')\n  const [insideModal] = useInside('NotificationsModal')\n\n  useEffect(() => {\n    if (status === 'invalid') {\n      return setError('Please enter a valid email address.')\n    }\n    return setError('')\n  }, [status])\n\n  const adornment = (() => {\n    if (status === 'invalid')\n      return (\n        <IconCross\n          css={`\n            color: ${theme.negative};\n          `}\n        />\n      )\n\n    if (status === 'empty')\n      return (\n        <IconCheck\n          css={`\n            opacity: 0;\n            color: ${theme.positive};\n          `}\n        />\n      )\n\n    return (\n      <IconCheck\n        css={`\n          opacity: 1;\n          color: ${theme.positive};\n        `}\n      />\n    ) // status === 'valid'\n  })()\n  return (\n    <div\n      css={`\n        display: flex;\n        flex-direction: column;\n        width: 100%;\n      `}\n    >\n      <Field\n        label={\n          existingEmail\n            ? insideModal\n              ? 'Update email address'\n              : 'Enter new email address'\n            : 'Enter email address'\n        }\n        css={`\n          width: 100%;\n          margin-bottom: 0;\n        `}\n      >\n        <TextInput\n          adornment={adornment}\n          adornmentPosition=\"end\"\n          type=\"email\"\n          wide\n          placeholder=\"you@example.org\"\n          {...inputProps}\n        />\n      </Field>\n      {error && (\n        <div>\n          <p\n            css={`\n              color: ${theme.negative};\n              ${textStyle('body4')};\n              text-align: left;\n              height: 0;\n              margin-top: ${0.5 * GU}px;\n            `}\n          >\n            {error}\n          </p>\n        </div>\n      )}\n    </div>\n  )\n})\n\nexport default EmailInput\n","export function validateEmail(email) {\n  // eslint-disable-next-line no-useless-escape\n  return /^.+\\@.+\\..+$/.test(email)\n}\n","import React, { useCallback, useEffect, useState } from 'react'\nimport {\n  Button,\n  Checkbox,\n  GU,\n  Link,\n  textStyle,\n  useInside,\n  useTheme,\n  useViewport,\n} from '@aragon/ui'\nimport { useWallet } from '../../providers/Wallet'\nimport { useInput } from '../../hooks/useInput'\nimport IdentityBadge from '../IdentityBadge'\nimport EmailInput from './EmailInput'\nimport { validateEmail } from '../../utils/validate-utils'\n\nimport emailNotifcationIllustration from '../../../src/assets/emailNotifications.svg'\n\nfunction EmailNotificationsForm({\n  existingEmail,\n  onOptOut,\n  onSubscribeToNotifications,\n}) {\n  const [error, setError] = useState()\n  const [termsAccepted, setTermsAccepted] = useState(false)\n\n  const theme = useTheme()\n  const { account } = useWallet()\n  const [insideModal] = useInside('NotificationsModal')\n  const { below } = useViewport()\n  const compactMode = below('medium')\n\n  const { inputProps, status } = useInput(validateEmail)\n\n  const emailInvalid = status === 'invalid'\n\n  const handleOnSubscribeToNotifications = useCallback(\n    e => {\n      e.preventDefault()\n      if (inputProps.value === existingEmail) {\n        setError('Email already exists.')\n        return\n      }\n      onSubscribeToNotifications(inputProps.value)\n    },\n    [onSubscribeToNotifications, existingEmail, inputProps.value]\n  )\n\n  const handleOnTermsChange = useCallback(() => {\n    setTermsAccepted(!termsAccepted)\n  }, [setTermsAccepted, termsAccepted])\n\n  useEffect(() => {\n    if (inputProps.value !== existingEmail) {\n      return setError('')\n    }\n  }, [inputProps.value, existingEmail])\n\n  return (\n    <div\n      css={`\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        padding-top: ${insideModal ? 3 : 0 * GU}px;\n      `}\n    >\n      <div\n        css={`\n          display: flex;\n          flex-direction: column;\n          text-align: center;\n        `}\n      >\n        <div\n          css={`\n            align-items: center;\n          `}\n        >\n          <img\n            src={emailNotifcationIllustration}\n            width=\"141\"\n            height=\"141\"\n            alt=\"\"\n          />\n        </div>\n        <span\n          css={`\n            ${textStyle('title2')};\n            margin-top: ${4 * GU}px;\n          `}\n        >\n          {existingEmail\n            ? `Update \"${existingEmail}\"`\n            : 'Stay up to date with email notifications'}\n        </span>\n\n        <span\n          css={`\n            ${textStyle('body2')};\n            color: ${theme.surfaceContentSecondary};\n            margin-top: ${1.5 * GU}px;\n          `}\n        >\n          {existingEmail ? (\n            <>\n              <span>Enter a new email address for your account</span>\n              <IdentityBadge entity={account} compact />\n              <span>\n                . We will continue sending email notifications to the current\n                email address until you verify this new email address.\n              </span>\n            </>\n          ) : (\n            <>\n              <span>Associate an email address to your account </span>\n              <IdentityBadge entity={account} compact />\n              <span>\n                , so you can receive notifications for all Dijets Council\n                events.\n              </span>\n            </>\n          )}\n        </span>\n\n        <div\n          css={`\n            margin-top: ${5 * GU}px;\n          `}\n        >\n          <EmailInput\n            existingEmail={existingEmail}\n            status={status}\n            {...inputProps}\n          />\n\n          {error && (\n            <div>\n              <p\n                css={`\n                  color: ${theme.negative};\n                  ${textStyle('body4')};\n                  text-align: left;\n                  height: 0;\n                  margin-top: ${0.5 * GU}px;\n                `}\n              >\n                {error}\n              </p>\n            </div>\n          )}\n        </div>\n      </div>\n      <LegalTermsAndPolicy\n        termsAccepted={termsAccepted}\n        onChange={handleOnTermsChange}\n      />\n\n      {insideModal ? (\n        <div\n          css={`\n            display: flex;\n            justify-content: space-between;\n            flex-direction: ${compactMode ? 'column' : 'row'};\n            width: 100%;\n            margin-bottom: ${1.5 * GU}px;\n            margin-top: ${3 * GU}px;\n          `}\n        >\n          <ActionButton compactMode={compactMode} onClick={onOptOut}>\n            No, thanks\n          </ActionButton>\n          <ActionButton\n            compactMode={compactMode}\n            mode=\"strong\"\n            type=\"submit\"\n            disabled={emailInvalid || !termsAccepted}\n            onClick={handleOnSubscribeToNotifications}\n          >\n            Subscribe\n          </ActionButton>\n        </div>\n      ) : (\n        <Button\n          css={`\n            margin-top: ${2.5 * GU}px;\n          `}\n          mode=\"strong\"\n          disabled={emailInvalid || !termsAccepted}\n          onClick={handleOnSubscribeToNotifications}\n          size=\"medium\"\n        >\n          {existingEmail ? 'Update' : 'Subscribe to email notifications'}\n        </Button>\n      )}\n    </div>\n  )\n}\n\nconst LegalTermsAndPolicy = React.memo(function LegalTermsAndPolicy({\n  termsAccepted,\n  onChange,\n}) {\n  return (\n    <div\n      css={`\n        margin-top: ${3 * GU}px;\n      `}\n    >\n      <div\n        css={`\n          display: flex;\n        `}\n      >\n        <div>\n          <Checkbox checked={termsAccepted} onChange={onChange} />\n        </div>\n        <span\n          css={`\n            ${textStyle('body2')};\n            color: #9096b6;\n            margin-left: ${1.5 * GU}px;\n            text-align: left;\n          `}\n        >\n          By continuing with your email, you agree to Dijets Council's{' '}\n          <Link href=\"https://anj.aragon.org/legal/terms-general.pdf\">\n            legal terms\n          </Link>{' '}\n          and{' '}\n          <Link href=\"https://portal.dijets.io/email-collection.md\">\n            email collection policy\n          </Link>\n          .\n        </span>\n      </div>\n    </div>\n  )\n})\n\nfunction ActionButton({ compactMode, ...props }) {\n  return (\n    <Button\n      css={`\n        width: ${compactMode ? '100%' : `calc((100% - ${2 * GU}px) /  2)`};\n      `}\n      {...props}\n    />\n  )\n}\n\nexport default EmailNotificationsForm\n","import React from 'react'\nimport { Button, GU, Link, textStyle, useTheme } from '@aragon/ui'\nimport { useWallet } from '../../providers/Wallet'\nimport IdentityBadge from '../IdentityBadge'\n\nimport emailNotifcationIllustration from '../../../src/assets/emailNotifications.svg'\n\nfunction ExistingEmailSubscription({\n  compactMode,\n  onOptOut,\n  onSubscribeToNotifications,\n}) {\n  const theme = useTheme()\n  const { account } = useWallet()\n\n  return (\n    <>\n      <div\n        css={`\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          padding-top: ${3 * GU}px;\n        `}\n      >\n        <div\n          css={`\n            display: flex;\n            flex-direction: column;\n            text-align: center;\n          `}\n        >\n          <div\n            css={`\n              align-items: center;\n            `}\n          >\n            <img\n              src={emailNotifcationIllustration}\n              width={141}\n              height={141}\n              alt=\"\"\n            />\n          </div>\n          <h3\n            css={`\n              ${textStyle('title2')};\n              margin-top: ${4 * GU}px;\n            `}\n          >\n            Stay up to date with email notifications\n          </h3>\n\n          <span\n            css={`\n              ${textStyle('body2')};\n              color: ${theme.surfaceContentSecondary};\n              margin-top: ${1.5 * GU}px;\n            `}\n          >\n            <span>Weve detected an email associated to the account </span>\n            <IdentityBadge\n              connectedAccount={account}\n              entity={account}\n              compact\n            />\n            <span>\n              . First, we need to verify that you are in control of this account\n              and then, authenticate the email address you provided.\n            </span>\n          </span>\n        </div>\n        <span\n          css={`\n            ${textStyle('body2')};\n            color: #9096b6;\n            text-align: center;\n            margin-top: ${3 * GU}px;\n          `}\n        >\n          You have previously agreed to Dijets Council's{' '}\n          <Link href=\"https://anj.aragon.org/legal/terms-general.pdf\">\n            legal terms\n          </Link>{' '}\n          and{' '}\n          <Link href=\"https://portal.dijets.io/email-collection.md\">\n            email collection policy\n          </Link>\n          .\n        </span>\n        <div\n          css={`\n            display: flex;\n            justify-content: space-between;\n            flex-direction: ${compactMode ? 'column' : 'row'};\n            width: 100%;\n            margin-bottom: ${1.5 * GU}px;\n            margin-top: ${3 * GU}px;\n          `}\n        >\n          <ActionButton compactMode={compactMode} onClick={onOptOut}>\n            No, thanks\n          </ActionButton>\n          <ActionButton\n            compactMode={compactMode}\n            mode=\"strong\"\n            onClick={onSubscribeToNotifications}\n          >\n            Subscribe to notifications\n          </ActionButton>\n        </div>\n      </div>\n    </>\n  )\n}\n\nfunction ActionButton({ compactMode, ...props }) {\n  return (\n    <Button\n      css={`\n        width: ${compactMode ? '100%' : `calc((100% - ${2 * GU}px) /  2)`};\n      `}\n      {...props}\n    />\n  )\n}\n\nexport default ExistingEmailSubscription\n","import React from 'react'\nimport { GU, LoadingRing, textStyle } from '@aragon/ui'\nimport emailNotifcationIllustration from '../../../../src/assets/emailNotifications.svg'\n\nconst LoadingPreferences = React.memo(function LoadingPreferences() {\n  return (\n    <div\n      css={`\n        display: flex;\n        flex-direction: column;\n        text-align: center;\n        align-items: center;\n      `}\n    >\n      <div>\n        <img\n          src={emailNotifcationIllustration}\n          width={181}\n          height={181}\n          alt=\"\"\n        />\n      </div>\n      <div\n        css={`\n          ${textStyle('title2')};\n          margin-top: ${4 * GU}px;\n          display: flex;\n          align-items: center;\n        `}\n      >\n        <LoadingRing />\n        <span\n          css={`\n            margin-left: ${1.5 * GU}px;\n          `}\n        >\n          Loading\n        </span>\n      </div>\n    </div>\n  )\n})\n\nexport default LoadingPreferences\n","import React, { useCallback } from 'react'\nimport {\n  Box,\n  Button,\n  GU,\n  IconLock,\n  IconMail,\n  IconTrash,\n  Info,\n  Link,\n  RADIUS,\n  Split,\n  Switch,\n  Tag,\n  textStyle,\n  useTheme,\n} from '@aragon/ui'\n\nimport emailNotifcationIllustration from '../../../../src/assets/emailNotifications.svg'\n\nexport default function NotificationsPreferences({\n  email,\n  notificationsDisabled,\n  onSwitchNotificationsStatus,\n  onLockSettings,\n  onDeleteEmail,\n  onUpdateEmail,\n}) {\n  const theme = useTheme()\n\n  return (\n    <>\n      <Split\n        primary={\n          <EmailNotificationBox\n            notificationsDisabled={notificationsDisabled}\n            onSwitchNotificationsStatus={onSwitchNotificationsStatus}\n          />\n        }\n        secondary={\n          <>\n            <Box heading=\"Email account\">\n              <Tag\n                uppercase={false}\n                background={theme.infoSurface}\n                size=\"normal\"\n                color={theme.content}\n                css={`\n                  ${textStyle('body2')};\n                  border-radius: ${RADIUS}px;\n                `}\n              >\n                {email}\n              </Tag>\n              <Button\n                css={`\n                  margin-top: ${2 * GU}px;\n                `}\n                wide\n                mode=\"strong\"\n                onClick={onLockSettings}\n              >\n                <IconLock />\n                <span\n                  css={`\n                    width: ${12 * GU}px;\n                    margin-left: ${1.5 * GU}px;\n                    text-align: left;\n                  `}\n                >\n                  Lock settings\n                </span>\n              </Button>\n              <Button\n                css={`\n                  margin-top: ${2 * GU}px;\n                `}\n                wide\n                onClick={onUpdateEmail}\n              >\n                <IconMail />\n                <span\n                  css={`\n                    width: ${12 * GU}px;\n                    margin-left: ${1.5 * GU}px;\n                    text-align: left;\n                  `}\n                >\n                  Update email\n                </span>\n              </Button>\n              <Button\n                css={`\n                  margin-top: ${2 * GU}px;\n                `}\n                wide\n                onClick={onDeleteEmail}\n              >\n                <IconTrash\n                  css={`\n                    color: ${theme.negative};\n                  `}\n                />\n                <span\n                  css={`\n                    width: ${12 * GU}px;\n                    margin-left: ${1.5 * GU}px;\n                    text-align: left;\n                  `}\n                >\n                  Delete email\n                </span>\n              </Button>\n              <Info\n                css={`\n                  margin-top: ${2 * GU}px;\n                `}\n              >\n                Learn more about our{' '}\n                <Link href=\"https://portal.dijets.io/email-collection.md\">\n                  email collection policy\n                </Link>\n                .\n              </Info>\n            </Box>\n          </>\n        }\n      />\n    </>\n  )\n}\n\nfunction EmailNotificationBox({\n  notificationsDisabled,\n  onSwitchNotificationsStatus,\n}) {\n  const handleSwitchNotificationsStatus = useCallback(() => {\n    onSwitchNotificationsStatus(!notificationsDisabled)\n  }, [notificationsDisabled, onSwitchNotificationsStatus])\n\n  return (\n    <Box heading=\"Email notifications\">\n      <div\n        css={`\n          display: flex;\n          flex-direction: column;\n          text-align: center;\n        `}\n      >\n        <div>\n          <img\n            src={emailNotifcationIllustration}\n            width={180}\n            height={180}\n            alt=\"\"\n          />\n        </div>\n        <div\n          css={`\n            display: flex;\n            margin-top: ${5 * GU}px;\n            align-items: center;\n          `}\n        >\n          <Switch\n            checked={!notificationsDisabled}\n            onChange={handleSwitchNotificationsStatus}\n          />\n          <span\n            css={`\n              ${textStyle('body1')};\n              margin-left: ${1 * GU}px;\n            `}\n          >\n            Receive email notifications for all Dijets Council events.\n          </span>\n        </div>\n        <Info\n          css={`\n            margin-top: ${2 * GU}px;\n            text-align: left;\n          `}\n          mode={notificationsDisabled ? 'warning' : 'info'}\n        >\n          {notificationsDisabled\n            ? `We strongly advise you to enable these notifications. \n            By disabling these email alerts, you will not be notified when you are drafted to arbitrate a dispute or \n            when your upcoming tasks are due. Failure to complete your duties as a juror will result in monetary penalties.`\n            : `We will notify you for any relevant Dijets Council events, such as when you are drafted to arbitrate a\n            dispute, when your upcoming tasks are due, and when you have rewards to claim.`}\n        </Info>\n      </div>\n    </Box>\n  )\n}\n","import React from 'react'\nimport { Button, GU, textStyle, useTheme, useViewport } from '@aragon/ui'\nimport successIllustration from '../../assets/notificationsSuccess.svg'\nimport errorIllustration from '../../assets/notificationsError.png'\n\nconst StatusInfo = React.memo(function StatusInfo({\n  error,\n  title,\n  description,\n  actionText,\n  onAction,\n}) {\n  const theme = useTheme()\n  const { below } = useViewport()\n  const compact = below('medium')\n\n  return (\n    <div\n      css={`\n        display: flex;\n        flex-direction: column;\n        text-align: center;\n      `}\n    >\n      <div>\n        <img\n          src={error ? errorIllustration : successIllustration}\n          width={141}\n          height={141}\n          alt=\"\"\n        />\n      </div>\n      <h3\n        css={`\n          ${textStyle('title2')};\n          margin-top: ${4 * GU}px;\n        `}\n      >\n        {title}\n      </h3>\n      <div\n        css={`\n          ${textStyle('body2')};\n          color: ${theme.surfaceContentSecondary};\n          margin-top: ${1.5 * GU}px;\n          padding: 0px ${(compact ? 3 : 20) * GU}px;\n        `}\n      >\n        {description}\n      </div>\n\n      {actionText && (\n        <div\n          css={`\n            justify-content: center;\n          `}\n        >\n          <Button\n            css={`\n              margin-top: ${3 * GU}px;\n              width: ${35 * GU}px;\n            `}\n            mode=\"strong\"\n            onClick={onAction}\n          >\n            {actionText}\n          </Button>\n        </div>\n      )}\n    </div>\n  )\n})\n\nexport default StatusInfo\n","import React, { useCallback, useEffect, useMemo, useState } from 'react'\nimport { Button, GU, textStyle, useTheme } from '@aragon/ui'\nimport { useWallet } from '../providers/Wallet'\nimport { signMessage } from '../lib/web3-utils'\nimport { dayjs } from '../utils/date-utils'\n\nimport signRequestSuccessIllustration from '../../src/assets/signRequestSuccess.svg'\nimport signRequestFailIllustration from '../../src/assets/signRequestFail.svg'\nimport signRequestLoading from '../../src/assets/signRequestLoading.gif'\n\nconst SignerRequest = React.memo(function SignerRequest({\n  compactMode,\n  mode,\n  onSignSuccess,\n  text,\n  title,\n}) {\n  const [signingError, setSigningError] = useState(false)\n\n  const successMode = mode === 'success'\n\n  const wallet = useWallet()\n\n  const theme = useTheme()\n\n  const illustration = useMemo(() => {\n    if (signingError) {\n      return signRequestFailIllustration\n    }\n    if (successMode) {\n      return signRequestSuccessIllustration\n    }\n    return signRequestLoading\n  }, [signingError, successMode])\n\n  const { statusText, statusTextColor } = useMemo(() => {\n    if (signingError) {\n      return {\n        statusText: 'Signature failed',\n        statusTextColor: theme.negative,\n      }\n    }\n    if (successMode) {\n      return {\n        statusText: 'Signature confirmed',\n        statusTextColor: theme.positive,\n      }\n    }\n    return {\n      statusText: 'Waiting for signature',\n      statusTextColor: theme.surfaceContentSecondary,\n    }\n  }, [signingError, successMode, theme])\n\n  const infoText = useMemo(() => {\n    if (signingError) {\n      return 'A error occurred when signing the message.'\n    }\n    return text\n  }, [signingError, text])\n\n  const requestSignature = useCallback(async () => {\n    if (!wallet) {\n      return\n    }\n    const now = dayjs.utc().toString()\n    const { signHash, error } = await signMessage(wallet, now)\n\n    if (error) {\n      setSigningError(true)\n      return\n    }\n\n    onSignSuccess(signHash, now)\n  }, [onSignSuccess, wallet])\n\n  /**  We only need to execute it when the component is rendered but if we need to retry the action we\n   should call to the requestSignature callback */\n  useEffect(() => {\n    if (successMode) {\n      return\n    }\n    requestSignature()\n  }, []) // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div>\n      <div\n        css={`\n          display: flex;\n          flex-direction: column;\n          text-align: center;\n          align-items: center;\n        `}\n      >\n        <img src={illustration} height={140} width={140} />\n        <h3\n          css={`\n            ${textStyle('title2')};\n            margin-top: ${4 * GU}px;\n          `}\n        >\n          {title}\n        </h3>\n\n        <span\n          css={`\n            ${textStyle('body2')};\n            color: ${statusTextColor};\n            margin-top: ${1.5 * GU}px;\n          `}\n        >\n          {statusText}\n        </span>\n        <span\n          css={`\n            ${textStyle('body2')};\n            color: ${theme.surfaceContentSecondary};\n            margin-top: ${1.5 * GU}px;\n          `}\n        >\n          {infoText}\n        </span>\n        {signingError && (\n          <div\n            css={`\n              display: flex;\n              justify-content: space-between;\n              width: 100%;\n              flex-direction: ${compactMode ? 'column' : 'row'};\n              margin-top: ${3 * GU}px;\n            `}\n          >\n            {/* TODO - Update the link once https://github.com/aragon/help/issues/31 is resolved */}\n            <ActionButton\n              href=\"https://support.dijets.io/article/27-general-troubleshooting-tips\"\n              compactMode={compactMode}\n            >\n              Troubleshooting\n            </ActionButton>\n            <ActionButton\n              mode=\"strong\"\n              onClick={requestSignature}\n              compactMode={compactMode}\n            >\n              Repeat signature\n            </ActionButton>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n})\n\nfunction ActionButton({ compactMode, ...props }) {\n  return (\n    <Button\n      css={`\n        width: ${compactMode ? '100%' : `calc((100% - ${2 * GU}px) /  2)`};\n      `}\n      {...props}\n    />\n  )\n}\n\nexport default SignerRequest\n","import React from 'react'\nimport { Button, GU, IconConnect, textStyle, useTheme } from '@aragon/ui'\nimport emailNotifcationIllustration from '../../../../src/assets/emailNotifications.svg'\n\nconst UnlockNotifications = React.memo(function UnlockNotifications({\n  compactMode,\n  needsUnlockSettings,\n  onUnlock,\n  onReturnToDashboard,\n}) {\n  const theme = useTheme()\n\n  return (\n    <div\n      css={`\n        display: flex;\n        flex-direction: column;\n        text-align: center;\n      `}\n    >\n      <div>\n        <img\n          src={emailNotifcationIllustration}\n          width={141}\n          height={141}\n          alt=\"\"\n        />\n      </div>\n      <h3\n        css={`\n          ${textStyle('title2')};\n          margin-top: ${3 * GU}px;\n        `}\n      >\n        Unlock notifications settings\n      </h3>\n      <div\n        css={`\n          display: flex;\n          flex-direction: column;\n          margin-top: ${1.5 * GU}px;\n        `}\n      >\n        {needsUnlockSettings ? (\n          <div>\n            <div\n              css={`\n                ${textStyle('body2')};\n                color: ${theme.surfaceContentSecondary};\n                display: flex;\n                flex-direction: column;\n              `}\n            >\n              <span>You are required to sign a message to prove that you</span>\n              <span>own the connected Ethereum account.</span>\n            </div>\n            <Button\n              css={`\n                margin-top: ${3 * GU}px;\n              `}\n              mode=\"strong\"\n              onClick={onUnlock}\n            >\n              Unlock notifications settings\n            </Button>\n          </div>\n        ) : (\n          <div>\n            <div\n              css={`\n                background: ${theme.background};\n                padding: ${3 * GU}px ${(compactMode ? 3 : 13) * GU}px;\n              `}\n            >\n              <span\n                css={`\n                  display: block;\n                  ${textStyle('body1')};\n                  color: ${theme.surfaceContentSecondary};\n                  font-weight: 600;\n                `}\n              >\n                You must connect your account to access notifications settings\n              </span>\n              <div\n                css={`\n                  margin-top: ${1.5 * GU}px;\n                `}\n              >\n                <span\n                  css={`\n                    display: flex;\n                    flex-wrap: wrap;\n                    justify-content: center;\n                    ${textStyle('body2')};\n                    color: ${theme.surfaceContentSecondary};\n                  `}\n                >\n                  Go back to the dashboard and\n                  <span\n                    css={`\n                      display: inline-flex;\n                      align-items: center;\n                    `}\n                  >\n                    <IconConnect size=\"small\" />\n                    <strong>Connect your account</strong>,\n                  </span>{' '}\n                  on the top right header, to access your notification settings\n                </span>\n              </div>\n            </div>\n            <Button\n              css={`\n                margin-top: ${2 * GU}px;\n              `}\n              mode=\"strong\"\n              onClick={onReturnToDashboard}\n              wide\n            >\n              Go to dashboard\n            </Button>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n})\n\nexport default UnlockNotifications\n","import React, { useCallback, useEffect, useState } from 'react'\nimport {\n  Button,\n  Checkbox,\n  GU,\n  Link,\n  textStyle,\n  useInside,\n  useTheme,\n} from '@aragon/ui'\nimport EmailInput from './EmailInput'\nimport { useInput } from '../../hooks/useInput'\nimport { validateEmail } from '../../utils/validate-utils'\nimport emailIllustration from '../../assets/emailIllustration.svg'\n\nconst VerifyEmailAddress = React.memo(function VerifyEmailAddress({\n  updateMode,\n  compactMode,\n  email,\n  onSubscribe,\n  onResendEmail,\n  onDeleteEmail,\n}) {\n  const theme = useTheme()\n  const [error, setError] = useState('')\n  const [termsAccepted, setTermsAccepted] = useState(false)\n\n  const [insideModal] = useInside('NotificationsModal')\n\n  const { inputProps, status } = useInput(validateEmail)\n\n  const emailInvalid = status === 'invalid'\n\n  const handleOnTermsChange = useCallback(\n    checked => {\n      setTermsAccepted(checked)\n    },\n    [setTermsAccepted]\n  )\n\n  const handleOnSubscribe = useCallback(() => {\n    if (inputProps.value === email) {\n      return setError('Email already exists.')\n    }\n    onSubscribe(inputProps.value)\n  }, [inputProps.value, onSubscribe, email])\n\n  useEffect(() => {\n    if (inputProps.value !== email) {\n      return setError('')\n    }\n  }, [inputProps.value, email])\n\n  return (\n    <div\n      css={`\n        padding-top: ${(insideModal ? 3 : 0) * GU}px;\n        display: flex;\n        flex-direction: column;\n        text-align: center;\n      `}\n    >\n      <div\n        css={`\n          align-items: center;\n        `}\n      >\n        <img src={emailIllustration} width={141} height={141} alt=\"\" />\n      </div>\n      <h3\n        css={`\n          ${textStyle('title2')};\n          margin-top: ${4 * GU}px;\n        `}\n      >\n        Verify your email address\n      </h3>\n\n      <span\n        css={`\n          ${textStyle('body2')};\n          color: ${theme.surfaceContentSecondary};\n          margin-top: ${1.5 * GU}px;\n        `}\n      >\n        Almost there! Weve sent a verification email to{' '}\n        <strong>{email}</strong>. Kindly check your inbox and click the link to\n        verify your account.\n        {updateMode &&\n          'Alternatively, you can update this email or delete it, if you wish to unsubscribe'}\n      </span>\n      {(() => {\n        if (!updateMode) {\n          return (\n            <Button\n              mode=\"strong\"\n              onClick={onResendEmail}\n              css={`\n                margin-top: ${3 * GU}px;\n              `}\n            >\n              Resend verification email\n            </Button>\n          )\n        }\n        return (\n          <>\n            <div\n              css={`\n                margin-top: ${5 * GU}px;\n              `}\n            >\n              <EmailInput existingEmail status={status} {...inputProps} />\n              {error && (\n                <div>\n                  <p\n                    css={`\n                      color: ${theme.negative};\n                      ${textStyle('body4')};\n                      text-align: left;\n                      height: 0;\n                      margin-top: ${0.5 * GU}px;\n                    `}\n                  >\n                    {error}\n                  </p>\n                </div>\n              )}\n            </div>\n            <LegalTermsAndPolicy\n              termsAccepted={termsAccepted}\n              onChange={handleOnTermsChange}\n            />\n            <div\n              css={`\n                display: flex;\n                justify-content: space-between;\n                flex-direction: ${compactMode ? 'column' : 'row'};\n                width: 100%;\n                margin-bottom: ${1.5 * GU}px;\n                margin-top: ${3 * GU}px;\n              `}\n            >\n              <ActionButton compactMode={compactMode} onClick={onDeleteEmail}>\n                Delete email\n              </ActionButton>\n              <ActionButton\n                compactMode={compactMode}\n                mode=\"strong\"\n                disabled={emailInvalid || !termsAccepted}\n                onClick={handleOnSubscribe}\n              >\n                Send verification email\n              </ActionButton>\n            </div>\n          </>\n        )\n      })()}\n    </div>\n  )\n})\n\nfunction LegalTermsAndPolicy({ termsAccepted, onChange }) {\n  const theme = useTheme()\n\n  return (\n    <div\n      css={`\n        margin-top: ${3 * GU}px;\n      `}\n    >\n      <div\n        css={`\n          display: flex;\n        `}\n      >\n        <div>\n          <Checkbox checked={termsAccepted} onChange={onChange} />\n        </div>\n        <span\n          css={`\n            ${textStyle('body2')};\n            color: ${theme.surfaceContentSecondary};\n            margin-left: ${1.5 * GU}px;\n            text-align: left;\n          `}\n        >\n          By continuing with your email, you agree to Dijets Council's{' '}\n          <Link href=\"https://anj.aragon.org/legal/terms-general.pdf\">\n            legal terms\n          </Link>{' '}\n          and{' '}\n          <Link href=\"https://portal.dijets.io/email-collection.md\">\n            email collection policy\n          </Link>\n          .\n        </span>\n      </div>\n    </div>\n  )\n}\n\nfunction ActionButton({ compactMode, ...props }) {\n  return (\n    <Button\n      css={`\n        width: ${compactMode ? '100%' : `calc((100% - ${2 * GU}px) /  2)`};\n      `}\n      {...props}\n    />\n  )\n}\n\nexport default VerifyEmailAddress\n","import React from 'react'\nimport { Button, GU, textStyle, useTheme, useViewport } from '@aragon/ui'\nimport emailIllustration from '../../../../src/assets/emailIllustration.svg'\n\nconst VerifyEmailAddressPreferences = React.memo(\n  function VerifyEmailAddressPreferences({ email, onResend }) {\n    const theme = useTheme()\n    const { below } = useViewport()\n    const compact = below('medium')\n\n    return (\n      <div\n        css={`\n          display: flex;\n          flex-direction: column;\n          text-align: center;\n          align-items: center;\n        `}\n      >\n        <div>\n          <img src={emailIllustration} width={181} height={181} alt=\"\" />\n        </div>\n        <h3\n          css={`\n            ${textStyle('title2')};\n            margin-top: ${4 * GU}px;\n          `}\n        >\n          Verify your email address\n        </h3>\n        <span\n          css={`\n            ${textStyle('body2')};\n            color: ${theme.surfaceContentSecondary};\n            margin-top: ${1.5 * GU}px;\n            padding: 0px ${(compact ? 3 : 20) * GU}px;\n          `}\n        >\n          Almost there! Weve sent a verification email to{' '}\n          <strong>{email}</strong>. Kindly check your inbox and click the link\n          to verify your account.\n        </span>\n\n        <Button\n          css={`\n            margin-top: ${3 * GU}px;\n            width: ${35 * GU}px;\n          `}\n          mode=\"strong\"\n          onClick={onResend}\n        >\n          Resend verification email\n        </Button>\n      </div>\n    )\n  }\n)\n\nexport default VerifyEmailAddressPreferences\n","// SCREENS\nexport const DELETE_EMAIL_SCREEN = Symbol('DELETE_EMAIL_SCREEN')\n\nexport const EMAIL_NOTIFICATIONS_EXISTING_EMAIL_SCREEN = Symbol(\n  'EMAIL_NOTIFICATIONS_EXISTING_EMAIL_SCREEN'\n)\n\nexport const EMAIL_NOTIFICATIONS_ERROR_SCREEN = Symbol(\n  'EMAIL_NOTIFICATION_ERROR_SCREEN'\n)\n\nexport const EMAIL_NOTIFICATIONS_FORM_SCREEN = Symbol(\n  'EMAIL_NOTIFICATIONS_FORM_SCREEN'\n)\n\nexport const EMAIL_NOTIFICATIONS_SUCCESS_SCREEN = Symbol(\n  'EMAIL_NOTIFICATIONS_SUCCESS_SCREEN'\n)\nexport const LOADING_SCREEN = Symbol('LOADING_SCREEN')\n\nexport const NOTIFICATIONS_PREFERENCES_SCREEN = Symbol(\n  'NOTIFICATIONS_PREFERENCES_SCREEN'\n)\n\nexport const PREFERENCES_UPDATE_EMAIL_SCREEN = Symbol(\n  'PREFERENCES_UPDATE_EMAIL_SCREEN'\n)\n\nexport const SIGNATURE_REQUEST_SCREEN = Symbol('SIGNATURE_REQUEST_SCREEN')\n\nexport const SIGNATURE_SUCCESS_SCREEN = Symbol('SIGNATURE_SUCCESS_SCREEN')\n\nexport const SUCCESS_INFO_SCREEN = Symbol('SUCCESS_INFO_SCREEN')\n\nexport const UNLOCK_NOTIFICATIONS_SCREEN = Symbol('UNLOCK_NOTIFICATIONS_SCREEN')\n\nexport const VERIFICATION_ERROR_SCREEN = Symbol('VERIFICATION_ERROR_SCREEN')\n\nexport const VERIFICATION_SUCCESS_SCREEN = Symbol(\n  'VERIFICATION_SUCCESSFUL_SCREEN'\n)\n\nexport const VERIFY_EMAIL_ADDRESS_PREFERENCES = Symbol(\n  'VERIFY_EMAIL_ADDRESS_PREFERENCES'\n)\n\nexport const VERIFY_YOUR_EMAIL_SCREEN = Symbol('VERIFY_YOUR_EMAIL_SCREEN')\n\n// ACTIONS\nexport const DELETE_ACTION = Symbol('DELETE_ACTION')\nexport const DELETE_ACTION_PREFERENCES = Symbol('DELETE_ACTION_PREFERENCES')\nexport const OPTOUT_ACTION = Symbol('OPTOUT_ACTION')\nexport const RESEND_EMAIL_ACTION = Symbol('RESEND_EMAIL_ACTION')\nexport const SUBSCRIBE_EXISTING_ACTION = Symbol('SUBSCRIBE_EXISTING_ACTION')\nexport const SUBSCRIBE_MODAL_ACTION = Symbol('SUBSCRIBE_MODAL_ACTION')\nexport const UNLOCK_SETTINGS_ACTION = Symbol('UNLOCK_SETTINGS')\nexport const UNLOCK_SETTINGS_ACTION_NOT_EMAIL = Symbol(\n  'UNLOCK_SETTINGS_ACTION_NOT_EMAIL'\n)\nexport const UNLOCK_SETTINGS_ACTION_NOT_VERIFIED = Symbol(\n  'UNLOCK_SETTINGS_ACTION_NOT_VERIFIED'\n)\n\n// SETTINGS\nexport const SETTINGS = {\n  [DELETE_ACTION]: {\n    signatureSettings: {\n      requestText: 'delete your email address',\n      successText:\n        'You have successfully proved ownership of your account and deleted your email address. You can always re-subscribe from the notifications preferences later.',\n    },\n    successInfo: {\n      title: 'Email deleted',\n    },\n  },\n  [OPTOUT_ACTION]: {\n    signatureSettings: {\n      title: 'Authenticate your account',\n      requestText: 'this popup will not be displayed again',\n      successText: 'You have successfully proved ownership of your account.',\n    },\n  },\n  [RESEND_EMAIL_ACTION]: {\n    signatureSettings: {\n      title: 'Resend email verification',\n      requestText: 'resend the email verification',\n      successText:\n        'You have successfully proved ownership of your account and the verification email was re sent.',\n    },\n  },\n  [SUBSCRIBE_EXISTING_ACTION]: {\n    signatureSettings: {\n      title: 'Authenticate your account',\n      requestText: 'authenticate the email address you provided',\n      successText: 'You have successfully proved ownership of your account.',\n    },\n  },\n  [SUBSCRIBE_MODAL_ACTION]: {\n    signatureSettings: {\n      title: 'Subscribe to notification settings',\n      requestText: 'authenticate the email address you provided',\n      successText: 'You have successfully proved ownership of your account.',\n    },\n  },\n  [UNLOCK_SETTINGS_ACTION]: {\n    signatureSettings: {\n      title: 'Unlocking notification settings',\n      requestText:\n        'act as a form of authentication for the email address you provided',\n      successText: 'You have successfully proved ownership of your account.',\n    },\n  },\n}\n","import {\n  deleteJurorEmail,\n  getJurorEmail,\n  resendVerificationEmail,\n  subscribeExistingEmail,\n  subscribeToNotifications,\n} from '../../services/notificationServiceApi'\n\nimport {\n  DELETE_ACTION,\n  DELETE_ACTION_PREFERENCES,\n  EMAIL_NOTIFICATIONS_FORM_SCREEN,\n  NOTIFICATIONS_PREFERENCES_SCREEN,\n  OPTOUT_ACTION,\n  RESEND_EMAIL_ACTION,\n  SUBSCRIBE_EXISTING_ACTION,\n  SUBSCRIBE_MODAL_ACTION,\n  UNLOCK_SETTINGS_ACTION,\n  UNLOCK_SETTINGS_ACTION_NOT_EMAIL,\n  UNLOCK_SETTINGS_ACTION_NOT_VERIFIED,\n  VERIFY_EMAIL_ADDRESS_PREFERENCES,\n  VERIFY_YOUR_EMAIL_SCREEN,\n} from './constants'\n\nexport const actions = {\n  [DELETE_ACTION]: {\n    request: deleteJurorEmail,\n    requiresEmail: false,\n  },\n  [DELETE_ACTION_PREFERENCES]: {\n    request: deleteJurorEmail,\n    successScreen: EMAIL_NOTIFICATIONS_FORM_SCREEN,\n    requiresEmail: false,\n  },\n  [SUBSCRIBE_MODAL_ACTION]: {\n    request: subscribeToNotifications,\n    successScreen: VERIFY_YOUR_EMAIL_SCREEN,\n    requiresEmail: true,\n  },\n\n  [SUBSCRIBE_EXISTING_ACTION]: {\n    request: subscribeExistingEmail,\n    successScreen: VERIFY_YOUR_EMAIL_SCREEN,\n    requiresEmail: false,\n  },\n  [OPTOUT_ACTION]: {\n    request: deleteJurorEmail,\n    requiresEmail: false,\n  },\n  [RESEND_EMAIL_ACTION]: {\n    request: resendVerificationEmail,\n    successScreen: VERIFY_YOUR_EMAIL_SCREEN,\n    requiresEmail: false,\n  },\n  [UNLOCK_SETTINGS_ACTION]: {\n    request: getJurorEmail,\n    successScreen: NOTIFICATIONS_PREFERENCES_SCREEN,\n  },\n  [UNLOCK_SETTINGS_ACTION_NOT_VERIFIED]: {\n    request: getJurorEmail,\n    successScreen: VERIFY_EMAIL_ADDRESS_PREFERENCES,\n  },\n  [UNLOCK_SETTINGS_ACTION_NOT_EMAIL]: {\n    successScreen: EMAIL_NOTIFICATIONS_FORM_SCREEN,\n  },\n}\n","import React, { useMemo, useRef, useState, useCallback, useEffect } from 'react'\nimport { animated, Spring, Transition } from 'react-spring/renderprops'\nimport {\n  Box,\n  GU,\n  IconConnect,\n  springs,\n  useInside,\n  useToast,\n  useViewport,\n} from '@aragon/ui'\nimport { useWallet } from '../../providers/Wallet'\nimport { getProviderFromUseWalletId } from '../../ethereum-providers'\n\nimport DeleteEmail from './DeleteEmail'\nimport EmailNotificationsForm from './EmailNotificationsForm'\nimport ExistingEmailSubscription from './ExistingEmailSubscription'\nimport LoadingPreferences from '../GlobalPreferences/Notifications/LoadingPreferences'\nimport NotificationsPreferences from '../GlobalPreferences/Notifications/NotificationsPreferences'\nimport StatusInfo from './StatusInfo'\nimport SignatureRequest from '../SignatureRequest'\nimport UnlockNotifications from '../GlobalPreferences/Notifications/UnlockNotifications'\nimport VerifyEmailAddress from './VerifyEmailAddress'\nimport VerifyEmailAddressPreferences from '../GlobalPreferences/Notifications/VerifyEmailAddressPreferences'\n\nimport { actions } from './actions'\n\nimport {\n  createSession,\n  deleteCurrentSession,\n  deleteJurorEmail,\n  resendVerificationEmail,\n  subscribeToNotifications,\n  subscribeExistingEmail,\n  switchNotificationsStatus,\n} from '../../services/notificationServiceApi'\nimport {\n  DELETE_ACTION,\n  DELETE_ACTION_PREFERENCES,\n  DELETE_EMAIL_SCREEN,\n  EMAIL_NOTIFICATIONS_ERROR_SCREEN,\n  EMAIL_NOTIFICATIONS_EXISTING_EMAIL_SCREEN,\n  EMAIL_NOTIFICATIONS_FORM_SCREEN,\n  LOADING_SCREEN,\n  NOTIFICATIONS_PREFERENCES_SCREEN,\n  OPTOUT_ACTION,\n  RESEND_EMAIL_ACTION,\n  SETTINGS,\n  SIGNATURE_REQUEST_SCREEN,\n  SIGNATURE_SUCCESS_SCREEN,\n  SUBSCRIBE_EXISTING_ACTION,\n  SUBSCRIBE_MODAL_ACTION,\n  SUCCESS_INFO_SCREEN,\n  UNLOCK_SETTINGS_ACTION,\n  UNLOCK_SETTINGS_ACTION_NOT_EMAIL,\n  UNLOCK_SETTINGS_ACTION_NOT_VERIFIED,\n  UNLOCK_NOTIFICATIONS_SCREEN,\n  VERIFICATION_ERROR_SCREEN,\n  VERIFICATION_SUCCESS_SCREEN,\n  VERIFY_EMAIL_ADDRESS_PREFERENCES,\n  VERIFY_YOUR_EMAIL_SCREEN,\n} from './constants'\n\nconst DEFAULT_ERROR_SETTINGS = {\n  error: true,\n  title: 'Cannot connect to Notifications server',\n  description:\n    'There was a problem when trying to connect to the Email Notifications server. Make sure your Internet connection is working and please try again. ',\n}\n\nconst DEFAULT_SUBSCRIPTION_PROGRESS = {\n  needSignature: false,\n  serviceError: false,\n  startRequest: false,\n  action: null,\n  nextScreen: null,\n  email: null,\n  signHash: null,\n  signTimestamp: null,\n  signatureTitle: '',\n  signRequestText: '',\n  signSuccessText: '',\n  statusInfoTitle: '',\n  statusInfoText: '',\n  verifyUpdateMode: false,\n  previousScreen: null,\n  needsUnlockSettings: false,\n  emailVerified: false,\n  emailExists: false,\n}\n\nconst EmailNotificationsManager = React.memo(\n  function EmailNotificationsManager({\n    needsUnlockSettings,\n    emailExists,\n    emailVerified,\n    notificationsDisabled,\n    email,\n    startingScreen,\n    onReturnToDashboard,\n  }) {\n    const [screenId, setScreenId] = useState(\n      emailExists\n        ? EMAIL_NOTIFICATIONS_EXISTING_EMAIL_SCREEN\n        : EMAIL_NOTIFICATIONS_FORM_SCREEN\n    )\n\n    const [subscriptionProgress, setSubscriptionProgress] = useState({\n      ...DEFAULT_SUBSCRIPTION_PROGRESS,\n      email,\n      emailExists,\n      notificationsDisabled,\n      needsUnlockSettings,\n      emailVerified,\n    })\n\n    const wallet = useWallet()\n    const account = wallet.account\n    const [insideModal] = useInside('NotificationsModal')\n    const provider = getProviderFromUseWalletId(wallet.activated)\n    const toast = useToast()\n\n    const { below } = useViewport()\n    const compactMode = below('medium')\n\n    const defaultSignRequestText = useMemo(() => {\n      return `Open ${provider.name} to complete the\n        signature request. Signing this message will prove ownership of your\n        account and `\n    }, [provider.name])\n\n    const handleOnSubscribe = useCallback(\n      async email => {\n        const {\n          needsSignature: subscribeNeedsSignature,\n          error: errorSubscribing,\n        } = await subscribeToNotifications(account, email)\n\n        if (errorSubscribing && !subscribeNeedsSignature) {\n          setSubscriptionProgress({ serviceError: true })\n          return\n        }\n\n        if (!subscribeNeedsSignature) {\n          setSubscriptionProgress(subscriptionProgress => ({\n            ...subscriptionProgress,\n            email: email,\n            verifyUpdateMode: false,\n          }))\n          setScreenId(VERIFY_YOUR_EMAIL_SCREEN)\n          return\n        }\n\n        const subscribeSettings = SETTINGS[SUBSCRIBE_MODAL_ACTION]\n\n        setSubscriptionProgress(subscriptionProgress => ({\n          ...subscriptionProgress,\n          needSignature: subscribeNeedsSignature,\n          mode: SUBSCRIBE_MODAL_ACTION,\n          email: email,\n          signatureTitle: subscribeSettings.signatureSettings.title,\n          signRequestText:\n            defaultSignRequestText +\n            subscribeSettings.signatureSettings.requestText,\n          signSuccessText: subscribeSettings.signatureSettings.successText,\n          verifyUpdateMode: false,\n        }))\n      },\n      [account, defaultSignRequestText]\n    )\n\n    const handleOnSubscribeExistingEmail = useCallback(async () => {\n      const {\n        needsSignature,\n        email: existingEmail,\n        error,\n      } = await subscribeExistingEmail(account)\n\n      if (error && !needsSignature) {\n        setSubscriptionProgress({ serviceError: true })\n        return\n      }\n\n      if (!needsSignature) {\n        setSubscriptionProgress(subscriptionProgress => ({\n          ...subscriptionProgress,\n          email: existingEmail,\n          verifyUpdateMode: true,\n        }))\n        setScreenId(VERIFY_YOUR_EMAIL_SCREEN)\n        return\n      }\n\n      const subscribeSettings = SETTINGS[SUBSCRIBE_EXISTING_ACTION]\n\n      setSubscriptionProgress(subscriptionProgress => ({\n        ...subscriptionProgress,\n        needSignature: needsSignature,\n        mode: SUBSCRIBE_EXISTING_ACTION,\n        signatureTitle: subscribeSettings.signatureSettings.title,\n        signRequestText:\n          defaultSignRequestText +\n          subscribeSettings.signatureSettings.requestText,\n        signSuccessText: subscribeSettings.signatureSettings.successText,\n        verifyUpdateMode: true,\n      }))\n    }, [account, defaultSignRequestText])\n\n    const handleOnOptOut = useCallback(async () => {\n      const optOutSettings = SETTINGS[OPTOUT_ACTION]\n\n      setSubscriptionProgress(subscriptionProgress => ({\n        ...subscriptionProgress,\n        needSignature: true,\n        mode: OPTOUT_ACTION,\n        signatureTitle: optOutSettings.signatureSettings.title,\n        signRequestText:\n          defaultSignRequestText + optOutSettings.signatureSettings.requestText,\n        signSuccessText: optOutSettings.signatureSettings.successText,\n      }))\n    }, [defaultSignRequestText])\n\n    const handleOnResendEmail = useCallback(async () => {\n      const { needsSignature, error } = await resendVerificationEmail(account)\n\n      if (error && !needsSignature) {\n        setSubscriptionProgress({ serviceError: true })\n        return\n      }\n\n      if (!needsSignature) {\n        setSubscriptionProgress(subscriptionProgress => ({\n          ...subscriptionProgress,\n        }))\n        toast('A verification email has been resent.')\n        return\n      }\n\n      const resendSettings = SETTINGS[RESEND_EMAIL_ACTION]\n\n      setSubscriptionProgress(subscriptionProgress => ({\n        ...subscriptionProgress,\n        needSignature: needsSignature,\n        mode: RESEND_EMAIL_ACTION,\n        signatureTitle: resendSettings.signatureSettings.title,\n        signRequestText:\n          defaultSignRequestText + resendSettings.signatureSettings.requestText,\n        signSuccessText: resendSettings.signatureSettings.successText,\n      }))\n    }, [account, defaultSignRequestText, toast])\n\n    const handleOnDeleteConfirmation = useCallback(() => {\n      setSubscriptionProgress(subscriptionProgress => ({\n        ...subscriptionProgress,\n        previousScreen: screenId,\n      }))\n      setScreenId(DELETE_EMAIL_SCREEN)\n    }, [screenId])\n\n    const handleOnCancelDelete = useCallback(() => {\n      setScreenId(subscriptionProgress.previousScreen)\n    }, [subscriptionProgress.previousScreen])\n\n    const handleOnDelete = useCallback(async () => {\n      const { error, needsSignature } = await deleteJurorEmail(account)\n\n      if (error && !needsSignature) {\n        setSubscriptionProgress({ serviceError: true })\n        return\n      }\n\n      const deleteSettings = SETTINGS[DELETE_ACTION]\n\n      if (!needsSignature) {\n        if (insideModal) {\n          setSubscriptionProgress(subscriptionProgress => ({\n            ...subscriptionProgress,\n            statusInfoTitle: deleteSettings.successInfo.title,\n            statusInfoText: `Your email ${subscriptionProgress.email} was succefully deleted. You can always re-subscribe from the notifications preferences later.`,\n          }))\n        }\n        setSubscriptionProgress(subscriptionProgress => ({\n          ...subscriptionProgress,\n          email: '',\n        }))\n        setScreenId(\n          insideModal ? SUCCESS_INFO_SCREEN : EMAIL_NOTIFICATIONS_FORM_SCREEN\n        )\n        return\n      }\n\n      setSubscriptionProgress(subscriptionProgress => ({\n        ...subscriptionProgress,\n        needSignature: needsSignature,\n        mode: insideModal ? DELETE_ACTION : DELETE_ACTION_PREFERENCES,\n        signatureTitle: `Delete \"${subscriptionProgress.email}\"`,\n        signRequestText:\n          defaultSignRequestText + deleteSettings.signatureSettings.requestText,\n        signSuccessText: deleteSettings.signatureSettings.successText,\n      }))\n    }, [account, defaultSignRequestText, insideModal])\n\n    const handleOnUnlockSettings = useCallback(() => {\n      const unlockSettings = SETTINGS[UNLOCK_SETTINGS_ACTION]\n\n      setSubscriptionProgress(subscriptionProgress => ({\n        ...subscriptionProgress,\n        needSignature: true,\n        mode: !subscriptionProgress.emailExists\n          ? UNLOCK_SETTINGS_ACTION_NOT_EMAIL\n          : subscriptionProgress.emailVerified\n          ? UNLOCK_SETTINGS_ACTION\n          : UNLOCK_SETTINGS_ACTION_NOT_VERIFIED,\n        signatureTitle: unlockSettings.signatureSettings.title,\n        signRequestText:\n          defaultSignRequestText + unlockSettings.signatureSettings.requestText,\n        signSuccessText: unlockSettings.signatureSettings.successText,\n      }))\n    }, [defaultSignRequestText])\n\n    const handleOnUpdateEmail = useCallback(() => {\n      setScreenId(EMAIL_NOTIFICATIONS_FORM_SCREEN)\n    }, [])\n\n    const handleOnLockSettings = useCallback(async () => {\n      const { error, needsSignature } = await deleteCurrentSession(account)\n\n      if (error && !needsSignature) {\n        setSubscriptionProgress({ serviceError: true })\n        return\n      }\n      setSubscriptionProgress(subscriptionProgress => ({\n        ...subscriptionProgress,\n        needsUnlockSettings: true,\n      }))\n      setScreenId(UNLOCK_NOTIFICATIONS_SCREEN)\n    }, [account])\n\n    const handleSwitchNotifications = useCallback(\n      async disabled => {\n        const {\n          error,\n          needsSignature,\n          disabled: notificationsDisabled,\n        } = await switchNotificationsStatus(account, disabled)\n\n        if (error && !needsSignature) {\n          setSubscriptionProgress({ serviceError: true })\n          return\n        }\n\n        if (!needsSignature) {\n          setSubscriptionProgress(subscriptionProgress => ({\n            ...subscriptionProgress,\n            notificationsDisabled: notificationsDisabled,\n          }))\n          setScreenId(NOTIFICATIONS_PREFERENCES_SCREEN)\n          return\n        }\n\n        setScreenId(UNLOCK_NOTIFICATIONS_SCREEN)\n      },\n      [account]\n    )\n\n    const handleOnSignSuccess = useCallback((signHash, timestamp) => {\n      setSubscriptionProgress(subscriptionProgress => ({\n        ...subscriptionProgress,\n        startRequest: true,\n        signHash: signHash,\n        signTimestamp: timestamp,\n      }))\n    }, [])\n\n    useEffect(() => {\n      if (!startingScreen) {\n        return\n      }\n      setScreenId(startingScreen)\n    }, [startingScreen])\n\n    useEffect(() => {\n      setSubscriptionProgress(subscriptionProgress => ({\n        ...subscriptionProgress,\n        needsUnlockSettings,\n        email,\n        emailVerified,\n        emailExists,\n        notificationsDisabled,\n      }))\n    }, [\n      account,\n      needsUnlockSettings,\n      email,\n      emailVerified,\n      emailExists,\n      notificationsDisabled,\n    ])\n\n    useEffect(() => {\n      let cancelled = false\n\n      if (!subscriptionProgress.startRequest) {\n        return\n      }\n\n      const requestAction = async () => {\n        if (subscriptionProgress.needSignature) {\n          const { error: errorCreatingSession } = await createSession(\n            account,\n            subscriptionProgress.signHash,\n            subscriptionProgress.signTimestamp\n          )\n          if (errorCreatingSession && !cancelled) {\n            setSubscriptionProgress(subscriptionProgress => ({\n              ...subscriptionProgress,\n              serviceError: true,\n            }))\n          }\n        }\n\n        const action = actions[subscriptionProgress.mode]\n        let returnedJurorEmail = ''\n\n        if (action.request) {\n          let params = [account]\n\n          if (action.params) {\n            params = [...params, ...action.params]\n          }\n\n          if (action.requiresEmail) {\n            params.push(subscriptionProgress.email)\n          }\n\n          const { error, email } = await action.request(...params)\n\n          if (!cancelled) {\n            if (error) {\n              return setSubscriptionProgress(subscriptionProgress => ({\n                ...subscriptionProgress,\n                serviceError: true,\n              }))\n            }\n\n            if (email) {\n              returnedJurorEmail = email\n            }\n          }\n        }\n\n        if (!cancelled) {\n          setScreenId(SIGNATURE_SUCCESS_SCREEN)\n\n          if (action.successScreen) {\n            const timer = setTimeout(() => {\n              setScreenId(action.successScreen)\n            }, 3000)\n            setSubscriptionProgress(subscriptionProgress => ({\n              ...subscriptionProgress,\n              needSignature: false,\n              email: returnedJurorEmail || subscriptionProgress.email,\n              startRequest: false,\n            }))\n\n            return () => clearTimeout(timer)\n          }\n          setSubscriptionProgress(subscriptionProgress => ({\n            ...subscriptionProgress,\n            needSignature: false,\n            email: returnedJurorEmail || subscriptionProgress.email,\n            startRequest: false,\n          }))\n        }\n      }\n      requestAction()\n      return () => {\n        cancelled = true\n      }\n    }, [\n      account,\n      subscriptionProgress.email,\n      subscriptionProgress.mode,\n      subscriptionProgress.startRequest,\n      subscriptionProgress.needSignature,\n      subscriptionProgress.signHash,\n      subscriptionProgress.signTimestamp,\n    ])\n\n    useEffect(() => {\n      if (!subscriptionProgress.serviceError) {\n        return\n      }\n      setScreenId(EMAIL_NOTIFICATIONS_ERROR_SCREEN)\n    }, [subscriptionProgress.serviceError])\n\n    useEffect(() => {\n      if (!subscriptionProgress.needSignature) {\n        return\n      }\n\n      setScreenId(SIGNATURE_REQUEST_SCREEN)\n    }, [subscriptionProgress.needSignature])\n\n    return (\n      <WrappedContainer screenId={screenId}>\n        {(() => {\n          if (screenId === SIGNATURE_REQUEST_SCREEN) {\n            return (\n              <SignatureRequest\n                mode=\"request\"\n                compactMode={compactMode}\n                title={subscriptionProgress.signatureTitle}\n                text={subscriptionProgress.signRequestText}\n                onSignSuccess={handleOnSignSuccess}\n              />\n            )\n          }\n\n          if (screenId === SIGNATURE_SUCCESS_SCREEN) {\n            return (\n              <SignatureRequest\n                mode=\"success\"\n                compactMode={compactMode}\n                title={subscriptionProgress.signatureTitle}\n                text={subscriptionProgress.signSuccessText}\n              />\n            )\n          }\n\n          if (screenId === EMAIL_NOTIFICATIONS_ERROR_SCREEN) {\n            const { title, description } = DEFAULT_ERROR_SETTINGS\n            return <StatusInfo error title={title} description={description} />\n          }\n\n          if (screenId === SUCCESS_INFO_SCREEN) {\n            return (\n              <StatusInfo\n                error={false}\n                title={subscriptionProgress.statusInfoTitle}\n                description={subscriptionProgress.statusInfoText}\n              />\n            )\n          }\n\n          if (screenId === EMAIL_NOTIFICATIONS_FORM_SCREEN) {\n            return (\n              <EmailNotificationsForm\n                account={account}\n                existingEmail={subscriptionProgress.email}\n                compactMode={compactMode}\n                onOptOut={handleOnOptOut}\n                onSubscribeToNotifications={handleOnSubscribe}\n              />\n            )\n          }\n\n          if (screenId === EMAIL_NOTIFICATIONS_EXISTING_EMAIL_SCREEN) {\n            return (\n              <ExistingEmailSubscription\n                account={account}\n                compactMode={compactMode}\n                onOptOut={handleOnOptOut}\n                onSubscribeToNotifications={handleOnSubscribeExistingEmail}\n              />\n            )\n          }\n\n          if (screenId === VERIFY_YOUR_EMAIL_SCREEN) {\n            return (\n              <VerifyEmailAddress\n                updateMode={subscriptionProgress.verifyUpdateMode}\n                compactMode={compactMode}\n                email={subscriptionProgress.email}\n                onResendEmail={handleOnResendEmail}\n                onSubscribe={handleOnSubscribe}\n                onDeleteEmail={handleOnDeleteConfirmation}\n              />\n            )\n          }\n          if (screenId === DELETE_EMAIL_SCREEN) {\n            return (\n              <DeleteEmail\n                email={subscriptionProgress.email}\n                onDelete={handleOnDelete}\n                onCancel={handleOnCancelDelete}\n              />\n            )\n          }\n          if (screenId === UNLOCK_NOTIFICATIONS_SCREEN) {\n            return (\n              <UnlockNotifications\n                compactMode={compactMode}\n                onUnlock={handleOnUnlockSettings}\n                needsUnlockSettings={\n                  account && subscriptionProgress.needsUnlockSettings\n                }\n                onReturnToDashboard={onReturnToDashboard}\n              />\n            )\n          }\n          if (screenId === NOTIFICATIONS_PREFERENCES_SCREEN) {\n            return (\n              <NotificationsPreferences\n                email={subscriptionProgress.email}\n                notificationsDisabled={\n                  subscriptionProgress.notificationsDisabled\n                }\n                onSwitchNotificationsStatus={handleSwitchNotifications}\n                onLockSettings={handleOnLockSettings}\n                onDeleteEmail={handleOnDeleteConfirmation}\n                onUpdateEmail={handleOnUpdateEmail}\n              />\n            )\n          }\n          if (screenId === VERIFICATION_ERROR_SCREEN) {\n            return (\n              <StatusInfo\n                error\n                title=\"Verification failed\"\n                description=\"The email verification link was invalid or it has timed out. Please try again.\"\n              />\n            )\n          }\n          if (screenId === VERIFICATION_SUCCESS_SCREEN) {\n            return (\n              <StatusInfo\n                error={false}\n                title=\"Verification was successful\"\n                description={\n                  <span\n                    css={`\n                      display: flex;\n                      flex-wrap: wrap;\n                      justify-content: center;\n                    `}\n                  >\n                    Go back to the dashboard and\n                    <span\n                      css={`\n                        display: inline-flex;\n                        align-items: center;\n                      `}\n                    >\n                      <IconConnect size=\"small\" />\n                      <strong>Connect your account</strong>,\n                    </span>{' '}\n                    on the top right header, to access your notification\n                    settings\n                  </span>\n                }\n                actionText=\"Go to Dashboard\"\n                onAction={onReturnToDashboard}\n              />\n            )\n          }\n          if (screenId === VERIFY_EMAIL_ADDRESS_PREFERENCES) {\n            return (\n              <VerifyEmailAddressPreferences\n                email={subscriptionProgress.email}\n                onResend={handleOnResendEmail}\n              />\n            )\n          }\n\n          if (screenId === LOADING_SCREEN) {\n            return <LoadingPreferences />\n          }\n        })()}\n      </WrappedContainer>\n    )\n  }\n)\n\nconst WrappedContainer = React.memo(function WrappedContainer({ ...props }) {\n  const [insideModal] = useInside('NotificationsModal')\n  const { screenId } = props\n\n  const Container =\n    insideModal || screenId === NOTIFICATIONS_PREFERENCES_SCREEN\n      ? AnimatedContainer\n      : AnimatedBox\n\n  return <Container {...props} />\n})\n\nconst AnimatedBox = ({ ...props }) => {\n  const ref = useRef(null)\n  const [height, setHeight] = useState(0)\n\n  const setRef = useCallback(node => {\n    if (node) {\n      setHeight(node.clientHeight)\n    }\n\n    ref.current = node\n  }, [])\n\n  return (\n    <Box padding={5 * GU}>\n      <div\n        css={`\n          position: relative;\n          max-width: 800px;\n          margin: 0 auto;\n        `}\n      >\n        <Spring\n          config={springs.smooth}\n          from={{ height: `${38 * GU}px` }}\n          to={{ height: `${height}px` }}\n          native\n        >\n          {({ height }) => (\n            <animated.div style={{ height }}>\n              <AnimatedContainer {...props} refCallback={setRef} />\n            </animated.div>\n          )}\n        </Spring>\n      </div>\n    </Box>\n  )\n}\n\nconst AnimatedContainer = React.memo(function AnimatedModal({\n  screenId,\n  children,\n  refCallback,\n}) {\n  const [insideModal] = useInside('NotificationsModal')\n\n  return (\n    <Transition\n      items={{ children, screenId }}\n      keys={({ screenId }) => screenId}\n      from={{\n        position: 'absolute',\n        opacity: 0,\n        transform: 'scale3d(1.10 1.10, 1)',\n      }}\n      enter={{\n        position: 'static',\n        opacity: 1,\n        transform: 'scale3d(1, 1, 1)',\n      }}\n      leave={{\n        position: 'absolute',\n        opacity: 0,\n        transform: 'scale3d(0.90, 0.90, 1)',\n      }}\n      native\n    >\n      {({ children, screenId }) => props =>\n        insideModal ? (\n          <animated.div style={{ ...props }}>{children}</animated.div>\n        ) : (\n          <animated.div\n            ref={refCallback}\n            style={{\n              ...props,\n              top: 0,\n              left: 0,\n              right: 0,\n            }}\n          >\n            {children}\n          </animated.div>\n        )}\n    </Transition>\n  )\n})\n\nexport default EmailNotificationsManager\n","import React, { useEffect, useState } from 'react'\nimport { useLocation } from 'react-router-dom'\nimport { useWallet } from '../../../providers/Wallet'\nimport {\n  verifyJurorEmail,\n  getJurorEmail,\n} from '../../../services/notificationServiceApi'\nimport { useSubscriptionDetails } from '../../../hooks/useEmailNotifications'\nimport EmailNotificationsManager from '../../EmailNotifications/EmailNotificationsManager'\nimport {\n  EMAIL_NOTIFICATIONS_FORM_SCREEN,\n  NOTIFICATIONS_PREFERENCES_SCREEN,\n  UNLOCK_NOTIFICATIONS_SCREEN,\n  VERIFICATION_ERROR_SCREEN,\n  VERIFICATION_SUCCESS_SCREEN,\n  VERIFY_EMAIL_ADDRESS_PREFERENCES,\n  LOADING_SCREEN,\n} from '../../EmailNotifications/constants'\n\nconst NotificationsManager = React.memo(function NotificationsManager({\n  onReturnToDashboard,\n}) {\n  const { account } = useWallet()\n  const { search } = useLocation()\n  const [startingScreenId, setStartingScreenId] = useState()\n  const [jurorNeedsSignature, setJurorNeedsSignature] = useState()\n  const [jurorEmail, setJurorEmail] = useState('')\n  const [fetchingEmail, setFetchingEmail] = useState()\n\n  const {\n    emailExists,\n    emailVerified,\n    notificationsDisabled,\n    fetching: fetchingSubscriptionData,\n  } = useSubscriptionDetails(account)\n\n  const searchParams = new URLSearchParams(search)\n  const address = searchParams.get('address')\n  const token = searchParams.get('token')\n\n  useEffect(() => {\n    let cancelled = false\n\n    if (!token || !address) {\n      return\n    }\n\n    const verifyEmailAddress = async () => {\n      const { error } = await verifyJurorEmail(address, token)\n\n      if (!cancelled) {\n        if (error) {\n          return setStartingScreenId(VERIFICATION_ERROR_SCREEN)\n        }\n        return setStartingScreenId(VERIFICATION_SUCCESS_SCREEN)\n      }\n    }\n\n    verifyEmailAddress()\n    return () => {\n      cancelled = true\n    }\n  }, [account, address, token])\n\n  useEffect(() => {\n    if (token || address) {\n      return\n    }\n    if (!account) {\n      return setStartingScreenId(UNLOCK_NOTIFICATIONS_SCREEN)\n    }\n\n    if (fetchingSubscriptionData || fetchingEmail) {\n      return setStartingScreenId(LOADING_SCREEN)\n    }\n    if (jurorNeedsSignature) {\n      return setStartingScreenId(UNLOCK_NOTIFICATIONS_SCREEN)\n    }\n\n    if (!emailVerified && emailExists) {\n      return setStartingScreenId(VERIFY_EMAIL_ADDRESS_PREFERENCES)\n    }\n    if (!emailVerified) {\n      return setStartingScreenId(EMAIL_NOTIFICATIONS_FORM_SCREEN)\n    }\n\n    if (emailVerified && !jurorNeedsSignature) {\n      return setStartingScreenId(NOTIFICATIONS_PREFERENCES_SCREEN)\n    }\n  }, [\n    account,\n    emailExists,\n    emailVerified,\n    fetchingEmail,\n    fetchingSubscriptionData,\n    jurorNeedsSignature,\n    address,\n    token,\n  ])\n\n  useEffect(() => {\n    let cancelled = false\n    const getEmail = async () => {\n      if (address || token || !account) {\n        return\n      }\n      setFetchingEmail(true)\n\n      if (!cancelled) {\n        const { needsSignature, email } = await getJurorEmail(account)\n\n        setJurorNeedsSignature(needsSignature)\n        setJurorEmail(email)\n        setFetchingEmail(false)\n      }\n    }\n    getEmail()\n    return () => {\n      cancelled = true\n    }\n  }, [address, account, token])\n\n  return (\n    startingScreenId && (\n      <EmailNotificationsManager\n        needsUnlockSettings={jurorNeedsSignature}\n        emailExists={emailExists}\n        emailVerified={emailVerified}\n        notificationsDisabled={notificationsDisabled}\n        email={jurorEmail}\n        startingScreen={startingScreenId}\n        onReturnToDashboard={onReturnToDashboard}\n      />\n    )\n  )\n})\n\nexport default NotificationsManager\n","import React, { useCallback, useEffect, useRef, useState } from 'react'\nimport {\n  ButtonIcon,\n  GU,\n  Header,\n  IconClose,\n  Layout,\n  Tabs,\n  springs,\n  useTheme,\n  useViewport,\n} from '@aragon/ui'\nimport { Transition, animated } from 'react-spring/renderprops'\nimport { useEsc } from '../../hooks/useKeyboardArrows'\nimport Network from './Network/Network'\nimport NotificationsManager from './Notifications/NotificationsManager'\n\nconst SECTIONS = new Map([\n  ['network', 'Network'],\n  ['notifications', 'Notifications'],\n])\nconst PATHS = Array.from(SECTIONS.keys())\nconst VALUES = Array.from(SECTIONS.values())\n\nconst NETWORK_INDEX = 0\nconst NOTIFICATIONS_INDEX = 1\n\nconst AnimatedDiv = animated.div\n\nfunction GlobalPreferences({ compact, onClose, onNavigation, sectionIndex }) {\n  useEsc(onClose)\n\n  const container = useRef()\n  useEffect(() => {\n    if (container.current) {\n      container.current.focus()\n    }\n  }, [])\n\n  return (\n    <div ref={container} tabIndex=\"0\" css=\"outline: 0\">\n      <Layout css=\"z-index: 2\">\n        <Close compact={compact} onClick={onClose} />\n        <Header\n          primary=\"Global preferences\"\n          css={`\n            padding-top: ${!compact ? 10 * GU : 0}px;\n          `}\n        />\n        <React.Fragment>\n          <Tabs\n            items={VALUES}\n            onChange={onNavigation}\n            selected={sectionIndex}\n          />\n\n          {sectionIndex === NETWORK_INDEX && <Network />}\n          {sectionIndex === NOTIFICATIONS_INDEX && (\n            <NotificationsManager onReturnToDashboard={onClose} />\n          )}\n        </React.Fragment>\n      </Layout>\n    </div>\n  )\n}\n\nfunction useGlobalPreferences({ path = '', onScreenChange }) {\n  const [sectionIndex, setSectionIndex] = useState(null)\n  const handleNavigation = useCallback(\n    index => {\n      onScreenChange(PATHS[index])\n    },\n    [onScreenChange]\n  )\n\n  useEffect(() => {\n    if (!path) {\n      setSectionIndex(null)\n      return\n    }\n    const index = PATHS.findIndex(item => path.startsWith(item))\n\n    setSectionIndex(index === -1 ? null : index)\n  }, [path, sectionIndex])\n\n  return { sectionIndex, handleNavigation }\n}\n\nfunction Close({ compact, onClick }) {\n  const theme = useTheme()\n  return (\n    <div\n      css={`\n        position: absolute;\n        right: 0;\n        padding-top: ${2.5 * GU}px;\n        padding-right: ${3 * GU}px;\n\n        ${compact &&\n          `\n            padding-top: ${2 * GU}px;\n            padding-right: ${1.5 * GU}px;\n          `}\n      `}\n    >\n      <ButtonIcon onClick={onClick} label=\"Close\">\n        <IconClose\n          css={`\n            color: ${theme.surfaceIcon};\n          `}\n        />\n      </ButtonIcon>\n    </div>\n  )\n}\n\nfunction AnimatedGlobalPreferences({ path, onScreenChange, onClose }) {\n  const { sectionIndex, handleNavigation } = useGlobalPreferences({\n    path,\n    onScreenChange,\n  })\n\n  const { below } = useViewport()\n  const compact = below('medium')\n  const theme = useTheme()\n\n  return (\n    <Transition\n      native\n      items={sectionIndex !== null}\n      from={{ opacity: 0, enterProgress: 0, blocking: false }}\n      enter={{ opacity: 1, enterProgress: 1, blocking: true }}\n      leave={{ opacity: 0, enterProgress: 1, blocking: false }}\n      config={springs.smooth}\n    >\n      {show =>\n        show &&\n        /* eslint-disable react/prop-types */\n        // z-index 1 on mobile keeps the menu above this preferences modal\n        (({ opacity, enterProgress, blocking }) => (\n          <AnimatedDiv\n            style={{\n              zIndex: 1,\n              pointerEvents: blocking ? 'auto' : 'none',\n              opacity,\n              transform: enterProgress.interpolate(\n                v => `\n                  translate3d(0, ${(1 - v) * 10}px, 0)\n                  scale3d(${1 - (1 - v) * 0.03}, ${1 - (1 - v) * 0.03}, 1)\n                `\n              ),\n            }}\n            css={`\n              position: fixed;\n              top: 0;\n              bottom: 0;\n              left: 0;\n              right: 0;\n              overflow: auto;\n              min-width: ${45 * GU}px;\n              padding-bottom: ${compact ? 2 : 0 * GU}px;\n              border-top: 2px solid ${theme.accent};\n              background: ${theme.surface};\n            `}\n          >\n            <GlobalPreferences\n              onClose={onClose}\n              compact={compact}\n              sectionIndex={sectionIndex}\n              onNavigation={handleNavigation}\n            />\n          </AnimatedDiv>\n        ))\n      /* eslint-enable react/prop-types */\n      }\n    </Transition>\n  )\n}\n\nexport default React.memo(AnimatedGlobalPreferences)\n","import React, { useCallback, useEffect, useState } from 'react'\nimport {\n  GU,\n  Layout,\n  Link,\n  Root,\n  ScrollView,\n  textStyle,\n  useTheme,\n  useViewport,\n} from '@aragon/ui'\nimport usePreferences from '../hooks/usePreferences'\nimport MenuPanel, { MENU_PANEL_WIDTH } from './MenuPanel'\nimport Header from './Header/Header'\nimport GlobalPreferences from './GlobalPreferences/GlobalPreferences'\n\nfunction MainView({ children }) {\n  const { width: vw, below } = useViewport()\n  const theme = useTheme()\n  const compactMode = below('medium')\n  const [menuPanelOpen, setMenuPanelOpen] = useState(!compactMode)\n\n  const [openPreferences, closePreferences, preferenceOption] = usePreferences()\n\n  const toggleMenuPanel = useCallback(\n    () => setMenuPanelOpen(opened => !opened),\n    []\n  )\n\n  const handleCloseMenuPanel = useCallback(() => setMenuPanelOpen(false), [])\n\n  const handleOpenPage = useCallback(() => {\n    if (compactMode) {\n      handleCloseMenuPanel()\n    }\n  }, [compactMode, handleCloseMenuPanel])\n\n  useEffect(() => {\n    setMenuPanelOpen(!compactMode)\n  }, [compactMode])\n\n  if (preferenceOption) {\n    return (\n      <GlobalPreferences\n        path={preferenceOption}\n        onScreenChange={openPreferences}\n        onClose={closePreferences}\n      />\n    )\n  }\n  return (\n    <div\n      css={`\n        display: flex;\n        flex-direction: column;\n        height: 100vh;\n      `}\n    >\n      <div\n        css={`\n          flex-shrink: 0;\n        `}\n      >\n        <Header\n          compactMode={compactMode}\n          toggleMenuPanel={toggleMenuPanel}\n          onOpenPreferences={openPreferences}\n        />\n      </div>\n      <div\n        css={`\n          flex-grow: 1;\n          flex-shrink: 1;\n          height: 0;\n          display: flex;\n        `}\n      >\n        <div\n          css={`\n            flex-shrink: 0;\n            z-index: 3;\n            height: 100%;\n          `}\n        >\n          <MenuPanel\n            autoClosing={compactMode}\n            opened={menuPanelOpen}\n            onMenuPanelClose={handleCloseMenuPanel}\n            onOpenPage={handleOpenPage}\n          />\n        </div>\n        <Root.Provider\n          css={`\n            flex-grow: 1;\n            height: 100%;\n            position: relative;\n          `}\n        >\n          <ScrollView>\n            <div\n              css={`\n                display: flex;\n                flex-direction: column;\n                height: 100%;\n              `}\n            >\n              <div\n                css={`\n                  flex: 1 0 auto;\n                `}\n              >\n                <Layout\n                  parentWidth={vw - (compactMode ? 0 : MENU_PANEL_WIDTH)}\n                  paddingBottom={0}\n                >\n                  {children}\n                </Layout>\n              </div>\n              <footer\n                css={`\n                  flex-shrink: 0;\n                  margin-bottom: ${5 * GU}px;\n                  width: 100%;\n                  text-align: center;\n                  ${textStyle('body2')};\n                  color: ${theme.surfaceContentSecondary};\n                `}\n              >\n                Supporting services provided by{' '}\n                <Link href=\"https://dijets.io\">Dijets Inc.</Link>. Read Dijets\n                Council's{' '}\n                <Link href=\"https://dijets.io/privacy-policy\">\n                  Terms of Service\n                </Link>\n                .\n              </footer>\n            </div>\n          </ScrollView>\n        </Root.Provider>\n      </div>\n    </div>\n  )\n}\n\nexport default MainView\n","import { useCallback, useEffect, useReducer } from 'react'\n\nfunction stepsReducer(state, { type, value, steps }) {\n  const { step } = state\n\n  let newStep = null\n\n  if (type === 'set') {\n    newStep = value\n  }\n  if (type === 'next' && step < steps - 1) {\n    newStep = step + 1\n  }\n  if (type === 'prev' && step > 0) {\n    newStep = step - 1\n  }\n\n  if (newStep !== null && step !== newStep) {\n    return {\n      step: newStep,\n      direction: newStep > step ? 1 : -1,\n    }\n  }\n\n  return state\n}\n// Simple hook to manage a given number of steps.\nexport function useSteps(steps) {\n  const [{ step, direction }, updateStep] = useReducer(stepsReducer, {\n    step: 0,\n    direction: 0,\n  })\n\n  // If the number of steps change, we reset the current step\n  useEffect(() => {\n    updateStep({ type: 'set', value: 0, steps })\n  }, [steps])\n\n  const setStep = useCallback(\n    value => {\n      updateStep({ type: 'set', value, steps })\n    },\n    [steps]\n  )\n\n  const next = useCallback(() => {\n    updateStep({ type: 'next', steps })\n  }, [steps])\n\n  const prev = useCallback(() => {\n    updateStep({ type: 'prev', steps })\n  }, [steps])\n\n  return {\n    direction,\n    next,\n    prev,\n    setStep,\n    step,\n  }\n}\n","import React from 'react'\nimport { Link } from '@aragon/ui'\n\nimport large1 from './highlights/assets/rinkeby/large/1.png'\nimport large2 from './highlights/assets/rinkeby/large/2.png'\nimport large3 from './highlights/assets/rinkeby/large/3.png'\nimport large4 from './highlights/assets/rinkeby/large/4.png'\nimport large5 from './highlights/assets/rinkeby/large/5.png'\n\nconst TYPEFORM_LINK = ''\n\nconst highlights = {\n  heading: 'Dijets Council',\n  defaultVisualColor: '#FF9780',\n  defaultButtonColor: '#FFFFFF',\n}\n\nhighlights.main = [\n  {\n    title: {\n      small: null,\n      large: 'Welcome, Councillor',\n    },\n    description: {\n      small: null,\n      large: (\n        <span>\n          This is the Dijets Governance Council Portal connected to Dijets\n          Mainnet. You can submit proposals, review decisions and much more..\n        </span>\n      ),\n    },\n    visual: {\n      small: null,\n      large: large1,\n    },\n  },\n  {\n    title: {\n      small: null,\n      large: 'Getting ANJ Tokens',\n    },\n    description: {\n      small: null,\n      large: (\n        <span>\n          Weve airdropped 5,000 ANJ Tokens to each council member that is now\n          fully registered and has his/her wallet hash generated. you will need\n          these ANJ tokens for all actions performed on Dijets Network\n        </span>\n      ),\n    },\n    visual: {\n      small: null,\n      large: large2,\n      color: '#F9FAFC',\n      buttonColor: '#FF9780',\n    },\n  },\n  {\n    title: {\n      small: null,\n      large: 'Arbitrate your first proposal',\n    },\n    description: {\n      small: null,\n      large: (\n        <span>\n          Once you start exploring, you will find some mock proposals with\n          realistic content that will allow you to become familiar with the\n          functionality of this dashboard.\n        </span>\n      ),\n    },\n    visual: {\n      small: null,\n      large: large3,\n    },\n  },\n  {\n    title: {\n      small: null,\n      large: 'Get into Hals goodbooks',\n    },\n    description: {\n      small: null,\n      large: (\n        <span>\n          When you vote in favor of the plurality ruling, you will be rewarded\n          with Likability Quotient. Just note that these rewards will be awarded\n          in LQ tokens for the purpose of this dashboard version.\n        </span>\n      ),\n    },\n    visual: {\n      small: null,\n      large: large4,\n    },\n  },\n  {\n    title: {\n      small: null,\n      large: 'Stay up to date!',\n    },\n    description: {\n      small: null,\n      large: (\n        <>\n          <p>\n            If you didnt receive any Dijets ANJ, just complete\n            <Link href={TYPEFORM_LINK}>this form</Link> and well send you some\n            funds swiftly!\n          </p>\n          <p>\n            Youll also receive notifications about important announcements,\n            your assigned disputes, and upcoming tasks as a juror.\n          </p>\n        </>\n      ),\n    },\n    visual: {\n      small: null,\n      large: large5,\n    },\n    start: {\n      small: null,\n      large: 'Discover Dijets Council',\n    },\n  },\n]\n\nhighlights.dijets = [\n  {\n    title: {\n      small: null,\n      large: 'Welcome, Councillor',\n    },\n    description: {\n      small: null,\n      large: (\n        <span>\n          This is the Dijets Governance Council Portal connected to Dijets\n          Mainnet. You can submit proposals, review decisions and much more..\n        </span>\n      ),\n    },\n    visual: {\n      small: null,\n      large: large1,\n    },\n  },\n  {\n    title: {\n      small: null,\n      large: 'Getting ANJ Tokens',\n    },\n    description: {\n      small: null,\n      large: (\n        <span>\n          Weve airdropped 5,000 ANJ Tokens to each council member that is now\n          fully registered and has his/her wallet hash generated. you will need\n          these ANJ tokens for all actions performed on Dijets Network\n        </span>\n      ),\n    },\n    visual: {\n      small: null,\n      large: large2,\n      color: '#F9FAFC',\n      buttonColor: '#FF9780',\n    },\n  },\n  {\n    title: {\n      small: null,\n      large: 'Arbitrate your first proposal',\n    },\n    description: {\n      small: null,\n      large: (\n        <span>\n          Once you start exploring, you will find some mock proposals with\n          realistic content that will allow you to become familiar with the\n          functionality of this dashboard.\n        </span>\n      ),\n    },\n    visual: {\n      small: null,\n      large: large3,\n    },\n  },\n  {\n    title: {\n      small: null,\n      large: 'Get into Hals goodbooks',\n    },\n    description: {\n      small: null,\n      large: (\n        <span>\n          When you vote in favor of the plurality ruling, you will be rewarded\n          with Likability Quotient. Just note that these rewards will be awarded\n          in LQ tokens for the purpose of this dashboard version.\n        </span>\n      ),\n    },\n    visual: {\n      small: null,\n      large: large4,\n    },\n  },\n  {\n    title: {\n      small: null,\n      large: 'Stay up to date!',\n    },\n    description: {\n      small: null,\n      large: (\n        <>\n          <p>\n            If you didnt receive any Dijets ANJ, just complete\n            <Link href={TYPEFORM_LINK}>this form</Link> and well send you some\n            funds swiftly!\n          </p>\n          <p>\n            Youll also receive notifications about important announcements,\n            your assigned disputes, and upcoming tasks as a juror.\n          </p>\n        </>\n      ),\n    },\n    visual: {\n      small: null,\n      large: large5,\n    },\n    start: {\n      small: null,\n      large: 'Discover Dijets Council',\n    },\n  },\n]\n\nexport { highlights }\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { ButtonBase, springs } from '@aragon/ui'\nimport { useSpring, animated } from 'react-spring'\nimport arrowSvg from './assets/arrow.svg'\n\nconst buttonTransitionStyles = show => ({\n  opacity: Number(show),\n  transform: `translate3d(0, ${show ? 0 : 2}px, 0)`,\n  config: springs.swift,\n  pointerEvents: show ? 'auto' : 'none',\n})\n\nconst Navigation = ({ step, steps, onPrev, onNext }) => {\n  const showPrev = step > 0\n  const showNext = step < steps - 1\n\n  const prevTransitionStyles = useSpring(buttonTransitionStyles(showPrev))\n  const nextTransitionStyles = useSpring(buttonTransitionStyles(showNext))\n\n  return (\n    <div\n      css={`\n        position: absolute;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        padding: 20px;\n        display: flex;\n        align-items: center;\n      `}\n    >\n      <div css=\"flex-shrink: 0\">\n        <animated.div style={prevTransitionStyles}>\n          <NavButton onClick={onPrev} type=\"prev\" />\n        </animated.div>\n      </div>\n      <div\n        css={`\n          width: 100%;\n          text-align: center;\n          height: 100%;\n        `}\n      >\n        {step + 1} of {steps}\n      </div>\n      <div css=\"flex-shrink: 0\">\n        <animated.div style={nextTransitionStyles}>\n          <NavButton onClick={onNext} type=\"next\" />\n        </animated.div>\n      </div>\n    </div>\n  )\n}\n\nNavigation.propTypes = {\n  step: PropTypes.number.isRequired,\n  steps: PropTypes.number.isRequired,\n  onPrev: PropTypes.func.isRequired,\n  onNext: PropTypes.func.isRequired,\n}\n\nconst NavButton = ({ type, ...props }) => (\n  <ButtonBase {...props}>\n    <div\n      css={`\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        height: 53px;\n        width: 53px;\n        border-radius: 50%;\n        background: rgba(0, 0, 0, 0.03);\n        transform: rotate(${type === 'next' ? '0' : '180deg'});\n        &:active {\n          background: rgba(0, 0, 0, 0.1);\n        }\n      `}\n    >\n      <img src={arrowSvg} alt=\"\" />\n    </div>\n  </ButtonBase>\n)\n\nNavButton.propTypes = {\n  type: PropTypes.oneOf(['next', 'prev']),\n}\n\nexport default Navigation\n","import PropTypes from 'prop-types'\nimport { isAddress } from '@aragon/ui'\n\n// https://github.com/react-spring/react-spring/blob/31200a79843ce85200b2a7692e8f14788e60f9e9/types/renderprops-universal.d.ts#L133\nexport const ReactSpringStateType = PropTypes.oneOf([\n  'enter',\n  'update',\n  'leave',\n])\n\nfunction validatorCreator(nonRequiredFunction) {\n  const validator = nonRequiredFunction\n  validator.isRequired = (props, propName, componentName) => {\n    const value = props[propName]\n    if (value === null || value === undefined || value === '') {\n      return new Error(\n        `Property ${propName} is required on ${componentName}, but ${value} was given.`\n      )\n    }\n    return nonRequiredFunction(props, propName, componentName)\n  }\n  return validator\n}\n\nfunction ethereumAddressValidator(props, propName, componentName) {\n  const value = props[propName]\n  if (value === null || value === undefined || value === '') {\n    return null\n  }\n  if (!isAddress(value)) {\n    const valueType = typeof value\n    let nonAddress = null\n    if (valueType !== 'object') {\n      nonAddress = value.toString()\n    }\n    return new Error(\n      `Invalid prop ${propName} supplied to ${componentName}. The provided value is not a valid ethereum address.${nonAddress &&\n        ` You provided \"${nonAddress}\"`}`\n    )\n  }\n  return null\n}\n\nexport const EthereumAddressType = validatorCreator(ethereumAddressValidator)\n","import React, { useEffect, useState } from 'react'\nimport PropTypes from 'prop-types'\nimport { Button, GU, springs, useImageExists } from '@aragon/ui'\nimport { Transition, animated } from 'react-spring/renderprops'\nimport { ReactSpringStateType } from '../../prop-types'\n\n// Ratios based on the the design files\nexport const RATIO_LEFT = 500 / 1055\nexport const RATIO_TOP = 560 / 950\n\nconst TRANSLATE_VALUE_TITLE = 20\nconst TRANSLATE_VALUE_HEADING = 40\nconst TRANSLATE_VALUE_CONTENT = 60\n\nconst HighlightScreen = ({\n  compactMode,\n  defaultVisualColor,\n  description,\n  enterProgress,\n  heading,\n  onDone,\n  showProgress,\n  start,\n  state,\n  title,\n  verticalMode,\n  visual,\n}) => {\n  const visualSrc = compactMode && visual.small ? visual.small : visual.large\n  const [leaving, setLeaving] = useState(false)\n\n  const { exists: visualSrcExists } = useImageExists(visualSrc)\n\n  useEffect(() => {\n    if (state === 'leave') {\n      setLeaving(true)\n    }\n  }, [state])\n\n  return (\n    <div\n      css={`\n        overflow: hidden;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        flex-shrink: 0;\n        width: 100%;\n        height: ${verticalMode ? 'auto' : '100%'};\n        display: flex;\n        flex-direction: ${verticalMode ? 'column-reverse' : 'row'};\n        justify-content: ${verticalMode ? 'flex-end' : 'flex-start'};\n        align-items: center;\n        text-align: ${verticalMode ? 'center' : 'left'};\n      `}\n    >\n      <animated.div\n        css={`\n          overflow: ${verticalMode ? 'visible' : 'hidden'};\n          flex-shrink: 0;\n          width: ${verticalMode ? 'auto' : `${RATIO_LEFT * 100}%`};\n          height: ${verticalMode ? 'auto' : '100%'};\n          padding: ${verticalMode ? '30px 20px 90px' : `10vh 40px 90px`};\n          max-width: ${verticalMode ? '420px' : 'none'};\n          display: flex;\n          flex-direction: column;\n          position: relative;\n          z-index: 1;\n        `}\n        style={{\n          opacity: showProgress.interpolate(v =>\n            // Make content disappear faster than appearing\n            leaving ? v * v : v\n          ),\n        }}\n      >\n        <animated.p\n          css={`\n            color: rgba(0, 0, 0, 0.5);\n            text-transform: uppercase;\n            font-size: ${compactMode ? 12 : 16}px;\n          `}\n          style={{\n            transform: enterProgress.interpolate(\n              v => `translate3d(${v * TRANSLATE_VALUE_TITLE}%, 0, 0)`\n            ),\n          }}\n        >\n          {heading}\n        </animated.p>\n        <animated.h1\n          css={`\n            font-size: ${compactMode ? 30 : 42}px;\n            line-height: 1.6;\n            margin: 10px 0 10px;\n          `}\n          style={{\n            transform: enterProgress.interpolate(\n              v => `translate3d(${v * TRANSLATE_VALUE_HEADING}%, 0, 0)`\n            ),\n          }}\n        >\n          {(compactMode && title.small) || title.large}\n        </animated.h1>\n        <animated.div\n          style={{\n            transform: enterProgress.interpolate(\n              v => `translate3d(${v * TRANSLATE_VALUE_CONTENT}%, 0, 0)`\n            ),\n          }}\n        >\n          <div\n            css={`\n              p + p {\n                margin-top: ${2 * GU}px;\n              }\n              line-height: 1.8;\n              font-size: ${compactMode ? 16 : 18}px;\n              color: ${compactMode ? '#8E97B5' : '#000000'};\n            `}\n          >\n            {compactMode && description.small\n              ? description.small\n              : description.large}\n          </div>\n          {start && (\n            <div css=\"margin-top: 30px\">\n              <Button\n                wide\n                mode=\"strong\"\n                onClick={onDone}\n                css={`\n                  height: 56px;\n                  font-size: 18px;\n                  font-weight: 600;\n                `}\n              >\n                {compactMode && start.small ? start.small : start.large}\n              </Button>\n            </div>\n          )}\n        </animated.div>\n      </animated.div>\n\n      <animated.div\n        css={`\n          overflow: hidden;\n          position: relative;\n          z-index: 2;\n          flex-shrink: 1;\n          width: 100%;\n          height: ${verticalMode ? `${RATIO_TOP * 100}%` : '100%'};\n          background: ${visual.color || defaultVisualColor};\n        `}\n        style={{ opacity: leaving ? 0 : 1 }}\n      >\n        <Transition\n          native\n          items={visualSrcExists}\n          from={{ opacity: 0 }}\n          enter={{ opacity: 1 }}\n          leave={{ opacity: 0 }}\n          config={springs.lazy}\n        >\n          {exists =>\n            exists &&\n            (({ opacity }) => (\n              <animated.div\n                css={`\n                  position: absolute;\n                  top: 0;\n                  left: 0;\n                  right: 0;\n                  bottom: 0;\n                  background: ${`\n                    url(${visualSrc})\n                    ${verticalMode ? '50% 40%' : '0 50%'} / cover\n                    no-repeat\n                  `};\n                `}\n                style={{ opacity }}\n              />\n            ))\n          }\n        </Transition>\n      </animated.div>\n    </div>\n  )\n}\n\nHighlightScreen.propTypes = {\n  compactMode: PropTypes.bool,\n  defaultVisualColor: PropTypes.string,\n  description: PropTypes.shape({\n    small: PropTypes.node,\n    large: PropTypes.node.isRequired,\n  }),\n  enterProgress: PropTypes.object,\n  heading: PropTypes.node,\n  onDone: PropTypes.func.isRequired,\n  showProgress: PropTypes.object,\n  start: PropTypes.shape({\n    small: PropTypes.node,\n    large: PropTypes.node.isRequired,\n  }),\n  state: ReactSpringStateType.isRequired,\n  title: PropTypes.shape({\n    small: PropTypes.node,\n    large: PropTypes.node.isRequired,\n  }),\n  verticalMode: PropTypes.bool,\n  visual: PropTypes.shape({\n    small: PropTypes.string,\n    large: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default HighlightScreen\n","import React, { useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { Modal, Viewport, springs } from '@aragon/ui'\nimport { Transition } from 'react-spring/renderprops'\nimport { useSteps } from '../../hooks/useOnboarding'\nimport useKeyboardArrows from '../../hooks/useKeyboardArrows'\nimport { highlights } from './content'\nimport Navigation from './Navigation'\nimport HighlightScreen, { RATIO_LEFT } from './HighlightScreen'\nimport { getNetworkType } from '../../lib/web3-utils'\n\nconst OnboardingModal = React.memo(function OnboardingModal({\n  onComplete,\n  visible,\n}) {\n  const content =\n    getNetworkType() === 'main' ? highlights.main : highlights.dijets\n\n  const steps = content.length\n  const { step, next, prev, setStep, direction } = useSteps(steps)\n\n  useKeyboardArrows(visible ? { onLeft: prev, onRight: next } : {})\n\n  useEffect(() => {\n    if (visible) {\n      setStep(0)\n    }\n  }, [setStep, visible])\n\n  return (\n    <Viewport>\n      {({ width, height }) => {\n        const verticalMode = width < 900\n        const compactMode = width < 500 || height < 400\n        return (\n          <Modal\n            closeButton={false}\n            padding={0}\n            width={Math.min(1055, width - 40)}\n            visible={visible}\n            css=\"z-index: 4\"\n          >\n            <div\n              css=\"position: relative\"\n              style={{\n                height: verticalMode\n                  ? `${height - 40}px`\n                  : `${Math.max(500, Math.min(620, height - 40))}px`,\n              }}\n            >\n              <div\n                css={`\n                  position: relative;\n                  z-index: 1;\n                  width: 100%;\n                  height: 100%;\n                  overflow: hidden;\n                  display: flex;\n                `}\n              >\n                <Transition\n                  native\n                  items={step}\n                  from={{\n                    enterProgress: 1 * direction,\n                    showProgress: 0,\n                  }}\n                  initial={{\n                    enterProgress: 0,\n                    showProgress: 1,\n                  }}\n                  enter={{\n                    enterProgress: 0,\n                    showProgress: 1,\n                  }}\n                  leave={{\n                    enterProgress: -1 * direction,\n                    showProgress: 0,\n                  }}\n                  config={springs.smooth}\n                >\n                  {(index, state) =>\n                    /* eslint-disable react/prop-types */\n                    ({ enterProgress, showProgress, status }) => (\n                      <HighlightScreen\n                        compactMode={compactMode}\n                        defaultVisualColor={highlights.defaultVisualColor}\n                        enterProgress={enterProgress}\n                        heading={highlights.heading}\n                        onDone={onComplete}\n                        showProgress={showProgress}\n                        state={state}\n                        verticalMode={verticalMode}\n                        {...content[index]}\n                      />\n                    )\n                  /* eslint-enable react/prop-types */\n                  }\n                </Transition>\n              </div>\n              <div\n                css={`\n                  position: relative;\n                  z-index: 2;\n                `}\n                style={{\n                  width: verticalMode ? '100%' : `${RATIO_LEFT * 100}%`,\n                }}\n              >\n                <Navigation\n                  step={step}\n                  steps={steps}\n                  onPrev={prev}\n                  onNext={next}\n                />\n              </div>\n            </div>\n          </Modal>\n        )\n      }}\n    </Viewport>\n  )\n})\n\nOnboardingModal.propTypes = {\n  visible: PropTypes.bool.isRequired,\n  onComplete: PropTypes.func.isRequired,\n}\n\nexport default OnboardingModal\n","import React, { useCallback, useState } from 'react'\nimport OnboardingModal from './Onboarding/OnboardingModal'\n\nfunction OnboardingLoader({ children }) {\n  const [onboardingCompleted, setOnboardingCompleted] = useState(\n    localStorage.getItem('onboardingCompleted') === 'true'\n  )\n\n  const handleOnComplete = useCallback(() => {\n    localStorage.setItem('onboardingCompleted', 'true')\n    setOnboardingCompleted(true)\n  }, [])\n\n  return (\n    <React.Fragment>\n      <OnboardingModal\n        onComplete={handleOnComplete}\n        visible={!onboardingCompleted}\n      />\n      {children}\n    </React.Fragment>\n  )\n}\n\nexport default OnboardingLoader\n","import React, { useEffect, useCallback, useState } from 'react'\nimport { GU, Inside, useViewport, Modal } from '@aragon/ui'\nimport { useWallet } from '../providers/Wallet'\nimport { useSubscriptionDetails } from '../hooks/useEmailNotifications'\nimport EmailNotificationsManager from './EmailNotifications/EmailNotificationsManager'\n\nfunction EmailNotificationsLoader({ children }) {\n  const { width } = useViewport()\n  const [modalVisible, setModalVisible] = useState(false)\n  const wallet = useWallet()\n  const { addressVerified, emailExists, fetching } = useSubscriptionDetails(\n    wallet.account\n  )\n\n  useEffect(() => {\n    const visible = wallet.account && !addressVerified\n    setModalVisible(visible)\n  }, [wallet.account, addressVerified])\n\n  const handleOnClose = useCallback(() => {\n    setModalVisible(false)\n  }, [])\n\n  return (\n    <React.Fragment>\n      {!fetching && (\n        <Modal\n          width={Math.min(76 * GU, width - 40)}\n          visible={modalVisible}\n          onClose={handleOnClose}\n          css=\"z-index: 4\"\n        >\n          <Inside name=\"NotificationsModal\">\n            <EmailNotificationsManager\n              emailExists={emailExists}\n              addressVerified={addressVerified}\n            />\n          </Inside>\n        </Modal>\n      )}\n      {children}\n    </React.Fragment>\n  )\n}\n\nexport default EmailNotificationsLoader\n","import React from 'react'\nimport { Button, GU, Info, textStyle, useTheme } from '@aragon/ui'\n\nfunction ConfirmRequest({ descriptions, onStartRequest }) {\n  const theme = useTheme()\n\n  return (\n    <div>\n      <Info>\n        <h4\n          css={`\n            ${textStyle('label2')};\n            margin-bottom: ${0.5 * GU}px;\n          `}\n        >\n          Action{descriptions.length > 0 ? 's' : ''} to be triggered\n        </h4>\n        <div\n          css={`\n            color: ${theme.content};\n          `}\n        >\n          {descriptions.length > 1 ? (\n            <ul\n              css={`\n                padding: 0px ${1 * GU}px;\n                margin-top: ${0.5 * GU}px;\n                list-style: none;\n              `}\n            >\n              {descriptions.map((description, index) => (\n                <li key={index}>\n                  <span\n                    css={`\n                      font-weight: bold;\n                      margin-right: ${0.5 * GU}px;\n                    `}\n                  >\n                    -\n                  </span>\n                  {description}\n                </li>\n              ))}\n            </ul>\n          ) : (\n            <span>{descriptions[0]}</span>\n          )}\n        </div>\n      </Info>\n      <Button\n        label=\"Confirm\"\n        mode=\"strong\"\n        wide\n        onClick={onStartRequest}\n        css={`\n          margin-top: ${2 * GU}px;\n        `}\n      />\n    </div>\n  )\n}\n\nexport default ConfirmRequest\n","import React from 'react'\nimport { RequestStepItem } from './RequestSteps'\n\nfunction MultiStepRequest({ lastProcessedAt, requests, requestStatus }) {\n  return requests.map((request, index) => {\n    const status = requestStatus[index]\n\n    return (\n      <RequestStepItem\n        key={index}\n        lastProcessedAt={lastProcessedAt}\n        status={status}\n        stepNumber={index + 1}\n        request={request}\n      />\n    )\n  })\n}\n\nexport default MultiStepRequest\n","export const REQUEST_STATUS_CONFIRMED = Symbol('REQUEST_STATUS_CONFIRMED')\nexport const REQUEST_STATUS_FAILED = Symbol('REQUEST_STATUS_FAILED')\nexport const REQUEST_STATUS_PENDING = Symbol('REQUEST_STATUS_PENDING')\nexport const REQUEST_STATUS_PROCESSED = Symbol('REQUEST_STATUS_PROCESSED')\nexport const REQUEST_STATUS_PROCESSING_FAILED = Symbol(\n  'REQUEST_STATUS_PROCESSING_FAILED'\n)\nexport const REQUEST_STATUS_UPCOMING = Symbol('REQUEST_STATUS_UPCOMING')\n","import {\n  REQUEST_STATUS_CONFIRMED,\n  REQUEST_STATUS_FAILED,\n  REQUEST_STATUS_PENDING,\n  REQUEST_STATUS_PROCESSED,\n  REQUEST_STATUS_PROCESSING_FAILED,\n} from '../request-statuses'\n\nexport function getRequestLabelText(request, status) {\n  if (\n    status === REQUEST_STATUS_PROCESSING_FAILED ||\n    status === REQUEST_STATUS_FAILED\n  ) {\n    if (request.isTx) {\n      return status === REQUEST_STATUS_PROCESSING_FAILED\n        ? 'Signing transaction failed!'\n        : 'Transaction failed'\n    }\n\n    return request.onError\n  }\n\n  if (status === REQUEST_STATUS_CONFIRMED) {\n    return 'Transaction confirmed!'\n  }\n\n  if (status === REQUEST_STATUS_PENDING) {\n    return 'Transaction being mined'\n  }\n\n  if (status === REQUEST_STATUS_PROCESSED) {\n    return request.isTx ? 'Transaction signed!' : request.onSuccess\n  }\n\n  return request.isTx ? 'Waiting for signature' : request.description\n}\n\nexport function hasRequestSucceeded(request, status) {\n  return (\n    status === REQUEST_STATUS_CONFIRMED ||\n    (status === REQUEST_STATUS_PROCESSED && !request.ensureConfirmation)\n  )\n}\n\nexport function hasRequestFailed(status) {\n  return (\n    status === REQUEST_STATUS_PROCESSING_FAILED ||\n    status === REQUEST_STATUS_FAILED\n  )\n}\n","import React, { useMemo } from 'react'\nimport { GU, IconCheck, IconCross, useTheme } from '@aragon/ui'\nimport {\n  REQUEST_STATUS_CONFIRMED,\n  REQUEST_STATUS_PENDING,\n  REQUEST_STATUS_PROCESSED,\n  REQUEST_STATUS_PROCESSING_FAILED,\n} from '../request-statuses'\nimport { getRequestLabelText } from './helper'\n\nfunction SingleStepRequest({ request, status }) {\n  const theme = useTheme()\n\n  const { iconColor, labelText } = useMemo(() => {\n    const labelText = getRequestLabelText(request, status)\n\n    if (status === REQUEST_STATUS_PROCESSING_FAILED) {\n      return {\n        iconColor: theme.negative,\n        labelText,\n      }\n    }\n\n    if (status === REQUEST_STATUS_CONFIRMED) {\n      return {\n        iconColor: theme.positive,\n        labelText,\n      }\n    }\n\n    if (status === REQUEST_STATUS_PENDING) {\n      return {\n        iconColor: theme.info,\n        labelText,\n      }\n    }\n\n    if (status === REQUEST_STATUS_PROCESSED) {\n      return {\n        iconColor: theme.positive,\n        labelText,\n      }\n    }\n\n    return {\n      iconColor: theme.hint,\n      labelText,\n    }\n  }, [request, status, theme])\n\n  return (\n    <div\n      css={`\n        align-self: center;\n      `}\n    >\n      <div\n        css={`\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n        `}\n      >\n        <div\n          css={`\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            width: ${7.5 * GU}px;\n            height: ${7.5 * GU}px;\n            border: 2px solid ${iconColor};\n            border-radius: 50%;\n            transition: border-color 150ms ease-in-out;\n          `}\n        >\n          {status === REQUEST_STATUS_PROCESSING_FAILED ? (\n            <IconCross\n              size=\"medium\"\n              css={`\n                color: ${iconColor};\n                transition: color 150ms ease-in-out;\n              `}\n            />\n          ) : (\n            <IconCheck\n              size=\"medium\"\n              css={`\n                color: ${iconColor};\n                transition: color 150ms ease-in-out;\n              `}\n            />\n          )}\n        </div>\n        <p\n          css={`\n            margin-top: ${3 * GU}px;\n          `}\n        >\n          {labelText}\n        </p>\n      </div>\n    </div>\n  )\n}\n\nexport default SingleStepRequest\n","import React from 'react'\nimport { GU, ProgressBar, textStyle, useTheme } from '@aragon/ui'\nimport useNow from '../../hooks/useNow'\nimport { norm } from '../../lib/math-utils'\nimport { getRelativeTime, MINUTE } from '../../utils/date-utils'\n\nconst TX_DURATION_AVERAGE = 2 * MINUTE\nconst TX_DURATION_THRESHOLD = TX_DURATION_AVERAGE - MINUTE / 2\n\nfunction TransactionProgress({ createdAt }) {\n  const theme = useTheme()\n  const now = useNow().valueOf()\n\n  const estimate = createdAt + TX_DURATION_AVERAGE\n  const threshold = createdAt + TX_DURATION_THRESHOLD\n\n  const progress = now > threshold ? -1 : norm(now, createdAt, estimate)\n\n  return (\n    <div\n      css={`\n        display: flex;\n        align-items: center;\n        margin-top: ${1 * GU}px;\n      `}\n    >\n      <div\n        css={`\n          width: ${15 * GU}px;\n        `}\n      >\n        <ProgressBar animate color={theme.info} value={progress} />\n      </div>\n      <span\n        css={`\n          ${textStyle('body3')};\n          margin-left: ${0.5 * GU}px;\n        `}\n      >\n        {getRelativeTime(now, estimate)}\n      </span>\n    </div>\n  )\n}\n\nexport default TransactionProgress\n","import React, { useMemo } from 'react'\nimport { GU, IconCheck, IconCross, textStyle, useTheme } from '@aragon/ui'\nimport MultiStepRequest from './MultiStepRequest'\nimport SingleStepRequest from './SingleStepRequest'\nimport TransactionProgress from '../TransactionProgress'\nimport {\n  REQUEST_STATUS_CONFIRMED,\n  REQUEST_STATUS_FAILED,\n  REQUEST_STATUS_PENDING,\n  REQUEST_STATUS_PROCESSED,\n  REQUEST_STATUS_PROCESSING_FAILED,\n} from '../request-statuses'\nimport { numberToOrdinal } from '../../../lib/math-utils'\nimport {\n  hasRequestFailed,\n  hasRequestSucceeded,\n  getRequestLabelText,\n} from './helper'\n\nconst capitalize = str => str.charAt(0).toUpperCase() + str.slice(1)\n\nfunction RequestSteps({\n  lastProcessedAt,\n  multipleRequests,\n  requests,\n  requestStatus,\n}) {\n  const theme = useTheme()\n  return (\n    <div\n      css={`\n        background: ${theme.feedbackSurface};\n        display: grid;\n        grid-row-gap: ${4 * GU}px;\n        justify-content: space-evenly;\n        padding: ${3 * GU}px 0;\n        height: ${44 * GU}px;\n        overflow-y: auto;\n      `}\n    >\n      {multipleRequests ? (\n        <MultiStepRequest\n          lastProcessedAt={lastProcessedAt}\n          requests={requests}\n          requestStatus={requestStatus}\n        />\n      ) : (\n        <SingleStepRequest request={requests[0]} status={requestStatus[0]} />\n      )}\n    </div>\n  )\n}\n\nexport function RequestStepItem({\n  lastProcessedAt,\n  request,\n  status,\n  stepNumber,\n}) {\n  const theme = useTheme()\n\n  const {\n    background,\n    iconColor,\n    labelColor,\n    labelText,\n    showProgress,\n  } = useMemo(() => {\n    const labelText = getRequestLabelText(request, status)\n\n    if (\n      status === REQUEST_STATUS_PROCESSING_FAILED ||\n      status === REQUEST_STATUS_FAILED\n    ) {\n      return {\n        background: theme.negative,\n        iconColor: theme.accentContent,\n        labelColor: theme.negative,\n        labelText,\n      }\n    }\n\n    if (status === REQUEST_STATUS_CONFIRMED) {\n      return {\n        iconColor: theme.positive,\n        labelColor: theme.positive,\n        labelText,\n      }\n    }\n\n    if (status === REQUEST_STATUS_PENDING) {\n      return {\n        background: theme.info,\n        iconColor: theme.accentContent,\n        labelColor: theme.contentSecondary.alpha(0.6),\n        labelText,\n        showProgress: true,\n      }\n    }\n    if (status === REQUEST_STATUS_PROCESSED) {\n      return {\n        iconColor: theme.positive,\n        labelColor: theme.positive,\n        labelText,\n      }\n    }\n\n    return {\n      background: theme.surfaceContentSecondary.alpha(0.2),\n      iconColor: theme.contentSecondary,\n      labelColor: theme.contentSecondary.alpha(0.6),\n      labelText,\n    }\n  }, [request, status, theme])\n\n  const success = hasRequestSucceeded(request, status)\n  const error = !success && hasRequestFailed(status)\n\n  return (\n    <div\n      css={`\n        align-self: center;\n      `}\n    >\n      <div\n        css={`\n          display: grid;\n          grid-template-columns: 20% 80%;\n          grid-gap: ${2 * GU}px;\n          width: ${35 * GU}px;\n        `}\n      >\n        <div\n          css={`\n            background: ${background};\n            color: ${iconColor};\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            width: ${6 * GU}px;\n            height: ${6 * GU}px;\n            border-radius: 50%;\n            margin-top: ${0.5 * GU}px;\n\n            ${success && `border: 2px solid ${iconColor}`};\n          `}\n        >\n          {(() => {\n            if (error) {\n              return (\n                <IconCross\n                  size=\"medium\"\n                  css={`\n                    color: ${iconColor};\n                    transition: color 150ms ease-in-out;\n                  `}\n                />\n              )\n            }\n\n            if (success) {\n              return (\n                <IconCheck\n                  size=\"medium\"\n                  css={`\n                    color: ${iconColor};\n                    transition: color 150ms ease-in-out;\n                  `}\n                />\n              )\n            }\n\n            return (\n              <span\n                css={`\n                  ${textStyle('body1')};\n                `}\n              >\n                {stepNumber}\n              </span>\n            )\n          })()}\n        </div>\n        <div>\n          <h3\n            css={`\n              ${textStyle('title4')}\n            `}\n          >\n            {capitalize(numberToOrdinal(stepNumber))} step\n          </h3>\n          <p\n            css={`\n              color: ${labelColor};\n              ${textStyle('body3')};\n            `}\n          >\n            {labelText}\n          </p>\n          {showProgress && <TransactionProgress createdAt={lastProcessedAt} />}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default RequestSteps\n","import React from 'react'\nimport { Button, GU, Info } from '@aragon/ui'\nimport RequestSteps from './Steps/RequestSteps'\nimport { useWallet } from '../../providers/Wallet'\nimport { getProviderFromUseWalletId } from '../../ethereum-providers'\nimport {\n  REQUEST_STATUS_FAILED,\n  REQUEST_STATUS_PROCESSING_FAILED,\n} from './request-statuses'\n\nfunction RequestStatus({\n  allSuccess,\n  lastProcessedAt,\n  maxAttemptsReached,\n  onClosePanel,\n  onNextAttempt,\n  requests,\n  requestStatus,\n}) {\n  const multipleRequests = requests.length > 1\n\n  return (\n    <div>\n      <RequestSteps\n        lastProcessedAt={lastProcessedAt}\n        multipleRequests={multipleRequests}\n        requests={requests}\n        requestStatus={requestStatus}\n      />\n      <div\n        css={`\n          margin-top: ${2 * GU}px;\n        `}\n      >\n        <RequestStatusInfo\n          allSuccess={allSuccess}\n          multipleRequests={multipleRequests}\n          maxAttemptsReached={maxAttemptsReached}\n          onClosePanel={onClosePanel}\n          onNextAttempt={onNextAttempt}\n          requests={requests}\n          requestStatus={requestStatus}\n        />\n      </div>\n    </div>\n  )\n}\n\nfunction RequestStatusInfo({\n  allSuccess,\n  multipleRequests,\n  maxAttemptsReached,\n  onClosePanel,\n  onNextAttempt,\n  requests,\n  requestStatus,\n}) {\n  const { activated } = useWallet()\n  const provider = getProviderFromUseWalletId(activated)\n\n  if (allSuccess) {\n    return (\n      <Info>Step{multipleRequests ? 's' : ''} processed successfully!</Info>\n    )\n  }\n\n  const requiresMultipleSignatures =\n    multipleRequests && requests.filter(request => request.isTx).length > 1\n  const requestFailedStatus = requestStatus.find(status =>\n    [REQUEST_STATUS_PROCESSING_FAILED, REQUEST_STATUS_FAILED].includes(status)\n  )\n\n  if (requestFailedStatus) {\n    if (multipleRequests) {\n      return (\n        <RequestReattempt\n          maxAttemptsReached={maxAttemptsReached}\n          onClosePanel={onClosePanel}\n          onNextAttempt={onNextAttempt}\n        />\n      )\n    }\n\n    return (\n      <>\n        <Info>\n          {requestFailedStatus === REQUEST_STATUS_PROCESSING_FAILED\n            ? \"This step wasn't processed correctly\"\n            : 'This step failed'}\n        </Info>\n        <Button\n          css={`\n            margin-top: ${2 * GU}px;\n          `}\n          label=\"Close\"\n          mode=\"strong\"\n          onClick={onClosePanel}\n          wide\n        />\n      </>\n    )\n  }\n\n  if (multipleRequests) {\n    return (\n      <Info>\n        {requiresMultipleSignatures ? (\n          <span>\n            These actions require multiple transactions. Please sign them one\n            after another and <strong>do not close this window</strong> until\n            all of them are finished. Open {provider.name} to sign the\n            transactions.\n          </span>\n        ) : (\n          <span>\n            This action involves multiple steps. Please,{' '}\n            <strong>do not close this window</strong> until all of them are\n            finished.\n          </span>\n        )}\n      </Info>\n    )\n  }\n\n  // If we get here means we have only one request\n  return (\n    <Info>\n      {requests[0].isTx\n        ? `Open ${provider.name} to sign the transaction`\n        : requests[0].description}\n    </Info>\n  )\n}\n\nconst RequestReattempt = ({\n  maxAttemptsReached,\n  onClosePanel,\n  onNextAttempt,\n}) => {\n  return (\n    <>\n      <Info>\n        {maxAttemptsReached\n          ? `It seems there's something wrong with this step`\n          : `An error occurred at this step. Don't worry, you can\n             try to process this step again.`}\n      </Info>\n      <Button\n        css={`\n          margin-top: ${2 * GU}px;\n        `}\n        label={maxAttemptsReached ? 'Close' : \"OK, let's try again\"}\n        onClick={maxAttemptsReached ? onClosePanel : onNextAttempt}\n        mode=\"strong\"\n        wide\n      />\n    </>\n  )\n}\n\nexport default RequestStatus\n","import React, { useCallback, useEffect, useMemo, useState } from 'react'\nimport { GU, SidePanel } from '@aragon/ui'\nimport { captureException } from '@sentry/browser'\n\nimport ConfirmRequest from './ConfirmRequest'\nimport RequestStatus from './RequestStatus'\nimport { useRequestQueue } from '../../providers/RequestQueue'\nimport {\n  REQUEST_STATUS_CONFIRMED,\n  REQUEST_STATUS_FAILED,\n  REQUEST_STATUS_PENDING,\n  REQUEST_STATUS_PROCESSED,\n  REQUEST_STATUS_PROCESSING_FAILED,\n  REQUEST_STATUS_UPCOMING,\n} from './request-statuses'\n\nconst MAX_ATTEMPTS = 3\n\nconst INITIAL_STATE = {\n  processed: 0,\n  errorProcessing: -1,\n  confirmed: 0,\n  failed: -1,\n  requesting: 0,\n}\n\nfunction RequestPanel() {\n  const [attempts, setAttempts] = useState(0)\n  const [progress, setProgress] = useState({\n    ...INITIAL_STATE,\n  })\n  const { clearRequestQueue, requests } = useRequestQueue()\n\n  const handleSignerClose = useCallback(() => {\n    // Clear state\n    setAttempts(0)\n    setProgress({ ...INITIAL_STATE })\n    clearRequestQueue()\n  }, [clearRequestQueue])\n\n  const handleNextAttempt = useCallback(() => {\n    setAttempts(attempts => attempts + 1)\n  }, [])\n\n  const handleStartRequest = useCallback(() => {\n    setProgress(progress => ({ ...progress, requesting: 1 }))\n  }, [])\n\n  const processRequest = useCallback(async request => {\n    try {\n      const requestProcess = await request.intent()\n      // Mark request as processed\n      setProgress(({ processed, ...progress }) => ({\n        ...progress,\n        processed: processed + 1,\n        lastProcessedAt: Date.now(),\n      }))\n\n      return requestProcess\n    } catch (err) {\n      // Mark request as errored at processing\n      setProgress(({ processed, ...progress }) => ({\n        ...progress,\n        errorProcessing: processed,\n        processed,\n      }))\n\n      // Re throw error\n      throw err\n    }\n  }, [])\n\n  const ensureRequestConfirmed = useCallback(\n    async request => {\n      try {\n        // Wait for request to be confirmed\n        await request.wait()\n        return setProgress(({ confirmed, ...progress }) => ({\n          ...progress,\n          confirmed: confirmed + 1,\n        }))\n      } catch (err) {\n        // Mark request as failed\n        setProgress(({ processed, ...progress }) => ({\n          ...progress,\n          failed: processed - 1,\n          processed: processed - 1,\n        }))\n\n        // Re throw error\n        throw err\n      }\n    },\n    [setProgress]\n  )\n\n  // Get request statuses\n  const requestStatus = useMemo(() => {\n    if (!requests) {\n      return []\n    }\n\n    const requiredConfirmedRequests = requests\n      .map((req, index) => ({ ...req, index }))\n      .filter(req => req.ensureConfirmation)\n\n    const { confirmed, errorProcessing, failed, processed } = progress\n    const status = (request, index) => {\n      // Request processing failed\n      if (errorProcessing !== -1 && index >= errorProcessing) {\n        return REQUEST_STATUS_PROCESSING_FAILED\n      }\n\n      // Request confirmation failed\n      if (failed !== -1 && index >= failed) {\n        return REQUEST_STATUS_FAILED\n      }\n\n      if (request.ensureConfirmation) {\n        const confirmedIndex = requiredConfirmedRequests.findIndex(\n          req => req.index === index\n        )\n\n        // Request confirmed\n        if (confirmedIndex < confirmed) {\n          return REQUEST_STATUS_CONFIRMED\n        }\n\n        // Request pending\n        if (index < processed) {\n          return REQUEST_STATUS_PENDING\n        }\n      }\n\n      // Request processed\n      if (index < processed) {\n        return REQUEST_STATUS_PROCESSED\n      }\n\n      // Transaction not processed\n      return REQUEST_STATUS_UPCOMING\n    }\n\n    return requests.map((request, index) => status(request, index))\n  }, [progress, requests])\n\n  const allSuccess = useMemo(() => {\n    const { confirmed, processed } = progress\n\n    const requiredConfirmedRequests = requests.filter(\n      request => request.ensureConfirmation\n    ).length\n\n    const allProcessed = processed > 0 && processed === requests.length\n    const allConfirmed = confirmed === requiredConfirmedRequests\n    return allProcessed && allConfirmed\n  }, [progress, requests])\n\n  const maxAttemptsReached = attempts >= MAX_ATTEMPTS\n\n  // Create requests\n  useEffect(\n    () => {\n      if (!progress.requesting || maxAttemptsReached) {\n        return\n      }\n\n      if (attempts === 0) {\n        setProgress(({ requesting }) => ({\n          ...INITIAL_STATE,\n          requesting,\n        }))\n      } else {\n        setProgress(progress => ({\n          ...progress,\n          errorProcessing: -1,\n          failed: -1,\n        }))\n      }\n\n      let cancelled = false\n\n      const createRequests = async () => {\n        const filteredRequests = requests.slice(progress.processed)\n\n        for (const request of filteredRequests) {\n          if (cancelled) {\n            break\n          }\n\n          try {\n            const requestProcess = await processRequest(request)\n\n            if (request.isTx && request.ensureConfirmation) {\n              await ensureRequestConfirmed(requestProcess)\n\n              // Execute callback function if required\n              if (typeof request.callback === 'function') {\n                request.callback()\n              }\n            }\n          } catch (err) {\n            console.error(`Error when executing '${request.description}':`, err)\n            captureException(err)\n\n            throw err\n          }\n        }\n      }\n\n      createRequests()\n\n      return () => {\n        cancelled = true\n      }\n    },\n    // We'll remove `progress.processed` from the dependencies to prevent the effect from running every time we process a request\n    // Note that we'll retry processing requests from the last failed one only if the user requests to do so\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n      attempts,\n      ensureRequestConfirmed,\n      maxAttemptsReached,\n      processRequest,\n      requests,\n      progress.requesting,\n    ]\n  )\n\n  useEffect(() => {\n    let timeout\n\n    const startClearing = () => {\n      timeout = setTimeout(() => {\n        handleSignerClose()\n      }, 3000)\n    }\n\n    if (maxAttemptsReached || allSuccess) {\n      startClearing()\n    }\n\n    return () => {\n      clearTimeout(timeout)\n    }\n  }, [allSuccess, handleSignerClose, maxAttemptsReached, requests])\n\n  const blockPanel =\n    !maxAttemptsReached && requests.length > 1 && Boolean(progress.requesting)\n\n  return (\n    <SidePanel\n      blocking={blockPanel}\n      title=\"Confirm action\"\n      opened={requests.length > 0}\n      onClose={handleSignerClose}\n    >\n      <div\n        css={`\n          margin-top: ${3 * GU}px;\n        `}\n      >\n        {progress.requesting ? (\n          <RequestStatus\n            allSuccess={allSuccess}\n            lastProcessedAt={progress.lastProcessedAt}\n            maxAttemptsReached={maxAttemptsReached}\n            onClosePanel={handleSignerClose}\n            onNextAttempt={handleNextAttempt}\n            requests={requests}\n            requestStatus={requestStatus}\n          />\n        ) : (\n          <ConfirmRequest\n            descriptions={requests.map(request => request.description)}\n            onStartRequest={handleStartRequest}\n          />\n        )}\n      </div>\n    </SidePanel>\n  )\n}\n\nexport default React.memo(RequestPanel)\n","import React from 'react'\nimport { Button, GU, textStyle, useTheme } from '@aragon/ui'\n\nimport Logo from '../../assets/Welcome.png'\n\nfunction Welcome() {\n  const theme = useTheme()\n\n  return (\n    <div\n      css={`\n        background: linear-gradient(200deg, #fffaf1 -3%, #ffebeb 216%);\n        margin-bottom: ${2 * GU}px;\n        border-radius: ${0.5 * GU}px;\n        display: flex;\n        align-items: center;\n        flex-wrap: wrap;\n      `}\n    >\n      <img src={Logo} alt=\"\" height={35 * GU} width={60 * GU} />\n      <div\n        css={`\n          padding: ${4 * GU}px;\n          width: 428px;\n        `}\n      >\n        <h1\n          css={`\n            ${textStyle('title1')}\n            font-weight: 200;\n            margin-bottom: ${1 * GU}px;\n          `}\n        >\n          Welcome to Dijets Council Portal\n        </h1>\n        <p\n          css={`\n            ${textStyle('body1')}\n            color: ${theme.contentSecondary};\n            margin-bottom: ${3 * GU}px;\n          `}\n        >\n          Dijets Council submits, reviews &amp; handles objective improvement\n          proposals for Dijets Ecosystem.\n        </p>\n        <div\n          css={`\n            display: flex;\n            align-items: center;\n          `}\n        >\n          <Button\n            label=\"Member Guide\"\n            href=\"https://support.dijets.io/article/41-aragon-court\"\n            css={`\n              width: ${19 * GU}px;\n            `}\n          />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Welcome\n","import React from 'react'\nimport { Box, GU, LoadingRing, textStyle, Link, useTheme } from '@aragon/ui'\n\nexport default function MessageCard({\n  icon,\n  title,\n  paragraph,\n  loading,\n  border = true,\n  mode = 'normal',\n  link,\n}) {\n  const theme = useTheme()\n\n  const isCompactMode = mode === 'compact'\n\n  const Container = border ? Box : 'div'\n  return (\n    <Container>\n      <div\n        css={`\n          margin: ${(isCompactMode ? 0 : 3) * GU}px auto;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n        `}\n      >\n        <img\n          src={icon}\n          alt=\"\"\n          css={`\n            display: block;\n            max-width: 680px;\n            height: auto;\n            margin: ${4 * GU}px 0;\n          `}\n        />\n        {loading ? (\n          <div\n            css={`\n              display: flex;\n              align-items: center;\n            `}\n          >\n            <LoadingRing\n              css={`\n                width: 30px;\n              `}\n            />\n            <span\n              css={`\n                margin-left: ${1 * GU}px;\n                ${textStyle('title2')};\n              `}\n            >\n              Loading\n            </span>\n          </div>\n        ) : (\n          <>\n            <span\n              css={`\n                ${textStyle(isCompactMode ? 'title4' : 'title2')};\n                text-align: center;\n              `}\n            >\n              {title}\n            </span>\n            <div\n              css={`\n                ${textStyle('body2')};\n                color: ${theme.surfaceContentSecondary};\n                margin-top: ${1.5 * GU}px;\n                width: ${(isCompactMode ? 25 : 55) * GU}px;\n                display: flex;\n                text-align: center;\n              `}\n            >\n              {paragraph}\n            </div>\n            {link && <Link onClick={link.action}>{link.text}</Link>}\n          </>\n        )}\n      </div>\n    </Container>\n  )\n}\n","import React from 'react'\nimport noData from '../../assets/noData.svg'\nimport MessageCard from '../MessageCard'\n\nfunction NoTasks() {\n  const title = 'No tasks yet!'\n  return <MessageCard icon={noData} title={title} />\n}\n\nexport default NoTasks\n","import React from 'react'\nimport MessageCard from '../MessageCard'\nimport noDraftSvg from '../../assets/noDraft.svg'\n\nfunction NoMyTasks() {\n  const title = 'You have no open tasks right now'\n  const paragraph = (\n    <span>\n      You will receive tasks to complete when you are drafted for a proposal\n    </span>\n  )\n\n  return <MessageCard title={title} paragraph={paragraph} icon={noDraftSvg} />\n}\n\nexport default NoMyTasks\n","import React from 'react'\nimport { DropDown, DateRangePicker, GU } from '@aragon/ui'\n\nconst TasksFilters = ({\n  dateRangeFilter,\n  onDateRangeChange,\n  phaseFilter,\n  onPhaseChange,\n  phaseTypes,\n}) => {\n  return (\n    <div\n      css={`\n        margin-bottom: ${1 * GU}px;\n        display: grid;\n        grid-gap: ${1.5 * GU}px;\n        grid-template-columns: 170px auto;\n      `}\n    >\n      <DropDown\n        placeholder=\"Type\"\n        header=\"Type\"\n        items={phaseTypes}\n        selected={phaseFilter}\n        onChange={onPhaseChange}\n      />\n      <DateRangePicker\n        startDate={dateRangeFilter.start}\n        endDate={dateRangeFilter.end}\n        onChange={onDateRangeChange}\n      />\n    </div>\n  )\n}\n\nexport default TasksFilters\n","import React from 'react'\nimport { Timer } from '@aragon/ui'\nimport { dayjs } from '../../utils/date-utils'\n\nfunction TaskDueDate({ dueDate }) {\n  const diff = dayjs(dueDate).diff(dayjs().startOf('day'), 'day')\n  return <Timer end={new Date(dueDate)} maxUnits={diff === 0 ? 3 : 2} />\n}\n\nexport default TaskDueDate\n","import React from 'react'\nimport {\n  DataView,\n  GU,\n  Link,\n  textStyle,\n  useTheme,\n  useViewport,\n} from '@aragon/ui'\nimport IdentityBadge from '../IdentityBadge'\nimport TasksFilters from './TasksFilters'\nimport TaskDueDate from './TaskDueDate'\n\nimport noResults from '../../assets/noResults.svg'\n\nconst ENTRIES_PER_PAGE = 6\n\nconst TaskTable = React.memo(function TaskTable({\n  tasks,\n  emptyFilterResults,\n  onClearFilters,\n  dateRangeFilter,\n  onDateRangeChange,\n  phaseFilter,\n  onPhaseChange,\n  phaseTypes,\n  onlyTable,\n}) {\n  const theme = useTheme()\n  const { below } = useViewport()\n  const compactMode = below('medium')\n\n  return (\n    <DataView\n      entriesPerPage={ENTRIES_PER_PAGE}\n      heading={\n        <>\n          <div\n            css={`\n              padding-bottom: ${2 * GU}px;\n              display: flex;\n              align-items: center;\n              justify-content: space-between;\n            `}\n          >\n            <div\n              css={`\n                color: ${theme.content};\n                ${textStyle('body1')};\n              `}\n            >\n              Upcoming tasks\n            </div>\n          </div>\n          {!compactMode && !onlyTable && (\n            <React.Fragment>\n              <TasksFilters\n                dateRangeFilter={dateRangeFilter}\n                onDateRangeChange={onDateRangeChange}\n                phaseFilter={phaseFilter}\n                onPhaseChange={onPhaseChange}\n                phaseTypes={phaseTypes}\n              />\n            </React.Fragment>\n          )}\n        </>\n      }\n      fields={\n        emptyFilterResults\n          ? []\n          : ['Action', 'Dispute', 'Assigned to juror', 'Due in']\n      }\n      entries={tasks}\n      renderEntry={({ phase, disputeId, juror, dueDate }) => {\n        return [\n          <span\n            css={`\n              ${textStyle('body2')}\n            `}\n          >\n            {phase}\n          </span>,\n          <Link href={`#/disputes/${disputeId}`} external={false}>\n            Dispute #{disputeId}\n          </Link>,\n          <IdentityBadge entity={juror} />,\n          <TaskDueDate dueDate={dueDate} />,\n        ]\n      }}\n      status={emptyFilterResults ? 'empty-filters' : 'default'}\n      emptyState={{\n        'empty-filters': {\n          displayLoader: false,\n          title: 'No results found',\n          subtitle: 'We couldnt find any task matching your filter selection.',\n          illustration: <img src={noResults} alt=\"\" />,\n          clearLabel: 'Clear filters',\n        },\n      }}\n      onStatusEmptyClear={onClearFilters}\n    />\n  )\n})\n\nexport default TaskTable\n","import React from 'react'\nimport MessageCard from './MessageCard'\nimport loadingSVG from '../assets/Loading.svg'\n\nfunction LoadingCard({ border }) {\n  return <MessageCard icon={loadingSVG} loading border={border} />\n}\n\nexport default LoadingCard\n","import React from 'react'\nimport { Button, GU, Header, useLayout } from '@aragon/ui'\n\nfunction TitleHeader({ title, onlyTitle = false }) {\n  const { layoutName } = useLayout()\n  const compactMode = layoutName === 'small'\n\n  return (\n    <Header\n      primary={title}\n      secondary={\n        !onlyTitle && (\n          <div\n            css={`\n              display: flex;\n              align-items: center;\n            `}\n          >\n            {!compactMode && (\n              <Button\n                label=\"User guide\"\n                href=\"https://support.dijets.io/article/council-dashboard\"\n                css={`\n                  margin-right: ${1.5 * GU}px;\n                  width: 150px;\n                `}\n              />\n            )}\n          </div>\n        )\n      }\n    />\n  )\n}\n\nexport default TitleHeader\n","import React from 'react'\nimport { GU, Info, useTheme } from '@aragon/ui'\n\nimport errorLoadingSvg from '../../assets/errorLoading.svg'\nimport MessageCard from '../MessageCard'\n\nfunction ErrorLoading({ subject, errors, border }) {\n  const theme = useTheme()\n\n  const title = `We couldn't load ${subject} information`\n  const paragraph = (\n    <div>\n      <span>\n        Something went wrong! You can restart the app, or you can{' '}\n        <span\n          css={`\n            color: ${theme.help};\n          `}\n        >\n          {' '}\n          tell us what went wrong {/* TODO: add link */}\n        </span>{' '}\n        if the problem persists.\n      </span>\n      <Info\n        mode=\"error\"\n        css={`\n          margin-top: ${3 * GU}px;\n        `}\n      >\n        {errors.map((error, index) => (\n          <div key={index}>{error}</div>\n        ))}\n      </Info>\n    </div>\n  )\n\n  return (\n    <MessageCard\n      title={title}\n      paragraph={paragraph}\n      icon={errorLoadingSvg}\n      border={border}\n    />\n  )\n}\n\nexport default ErrorLoading\n","import { useMemo } from 'react'\nimport { useCourtClock } from '../providers/CourtClock'\nimport { useCourtConfig } from '../providers/CourtConfig'\nimport { useTasksSubscription } from './subscription-hooks'\n\nimport { getTermEndTime } from '../utils/court-utils'\nimport { getAdjudicationPhase } from '../utils/dispute-utils'\nimport {\n  convertToString,\n  getTaskActionString,\n  Phase as DisputePhase,\n} from '../types/dispute-status-types'\nimport { getVoidedDisputesByCourt } from '../flagged-disputes/voided-disputes'\n\nexport default function useTasks() {\n  const courtConfig = useCourtConfig()\n  const { currentTermId } = useCourtClock()\n  const { tasks, fetching, error } = useTasksSubscription()\n\n  const openTasks = useOpenTasks(tasks, currentTermId, courtConfig)\n\n  return { openTasks, fetching, error }\n}\n\nfunction useOpenTasks(tasks, currentTermId, courtConfig) {\n  const voidedDisputes = getVoidedDisputesByCourt()\n  const convertedTasks = useMemo(() => {\n    if (!tasks) {\n      return null\n    }\n    return tasks.map(task => ({\n      ...task,\n      ...getAdjudicationPhase(task.dispute, task, currentTermId, courtConfig),\n    }))\n  }, [courtConfig, currentTermId, tasks])\n\n  const convertedTasksPhasesKey = convertedTasks\n    ? convertedTasks.map(phase => convertToString(phase.phase)).join('')\n    : null\n\n  const incompleteTasks = useMemo(() => {\n    if (!convertedTasks) {\n      return null\n    }\n    return convertedTasks.filter(\n      task =>\n        !voidedDisputes.has(task.dispute.id) &&\n        task.phase !== DisputePhase.Ended\n    )\n  }, [convertedTasksPhasesKey, voidedDisputes]) // eslint-disable-line react-hooks/exhaustive-deps\n\n  return useMemo(() => {\n    if (!convertedTasks) {\n      return []\n    }\n    const openTasks = []\n\n    for (let i = 0; i < incompleteTasks.length; i++) {\n      const currentPhase = incompleteTasks[i].phase\n      const nextTransition = getTermEndTime(\n        incompleteTasks[i].phaseEndTerm,\n        courtConfig\n      )\n\n      if (\n        currentPhase !== DisputePhase.AppealRuling &&\n        currentPhase !== DisputePhase.ConfirmAppeal\n      ) {\n        for (let j = 0; j < incompleteTasks[i].jurors.length; j++) {\n          if (isVotingTaskOpen(incompleteTasks[i].jurors[j], currentPhase)) {\n            openTasks.push({\n              number: incompleteTasks[i].number,\n              state: incompleteTasks[i].state,\n              createdAt: incompleteTasks[i].createdAt,\n              juror: incompleteTasks[i].jurors[j].juror.id,\n              disputeId: incompleteTasks[i].dispute.id,\n              commitment: incompleteTasks[i].jurors[j].commitment,\n              outcome: incompleteTasks[i].jurors[j].outcome,\n              phase: getTaskActionString(currentPhase),\n              phaseType: currentPhase,\n              dueDate: nextTransition,\n            })\n          }\n        }\n      } else {\n        if (isAppealTaskOpen(incompleteTasks[i], currentPhase)) {\n          // We are in appeal or confirm and only need to generate a single task\n          // (rather than one per juror) if the task is still open\n          openTasks.push({\n            number: incompleteTasks[i].number,\n            state: incompleteTasks[i].state,\n            createdAt: incompleteTasks[i].createdAt,\n            juror: 'Anyone',\n            disputeId: incompleteTasks[i].dispute.id,\n            phase: getTaskActionString(currentPhase),\n            phaseType: currentPhase,\n            dueDate: nextTransition,\n          })\n        }\n      }\n    }\n    return openTasks\n    // Since we are using our own generated cache key we don't need to add the convertedTasks to the dependency list.\n  }, [convertedTasksPhasesKey, incompleteTasks]) // eslint-disable-line react-hooks/exhaustive-deps\n}\n\nfunction isAppealTaskOpen(round, currentPhase) {\n  if (currentPhase === DisputePhase.AppealRuling) {\n    return !round.appeal\n  }\n  if (currentPhase === DisputePhase.ConfirmAppeal) {\n    if (round?.appeal?.opposedRuling) {\n      return Number(round.appeal.opposedRuling) === 0\n    }\n\n    return true\n  }\n}\n\nfunction isVotingTaskOpen(draft, currentPhase) {\n  if (currentPhase === DisputePhase.VotingPeriod) {\n    return !draft.commitment\n  }\n  if (currentPhase === DisputePhase.RevealVote) {\n    if (draft.outcome || !draft.commitment) {\n      return false\n    }\n    return true\n  }\n}\n","import { useCallback, useState, useMemo } from 'react'\nimport useTasks from './useTasks'\nimport { addressesEqual } from '../lib/web3-utils'\nimport { dayjs } from '../utils/date-utils'\nimport * as DisputesTypes from '../types/dispute-status-types'\n\nconst ALL_FILTER = 0\nconst UNSELECTED_PHASE = -1\nconst INITIAL_DATE_RANGE = { start: null, end: null }\nconst TASKS_ACTIONS_TYPES = [\n  DisputesTypes.Phase.All,\n  DisputesTypes.Phase.VotingPeriod,\n  DisputesTypes.Phase.RevealVote,\n  DisputesTypes.Phase.AppealRuling,\n  DisputesTypes.Phase.ConfirmAppeal,\n]\n\nfunction useFilteredTasks(jurorTasksSelected, connectedAccount) {\n  const [selectedDateRange, setSelectedDateRange] = useState(INITIAL_DATE_RANGE)\n  const [selectedPhase, setSelectedPhase] = useState(UNSELECTED_PHASE)\n  const [filtersSelected, setFiltersSelected] = useState(false)\n\n  // If My Tasks is selected we need to only show ALL-COMMIT-REVEAL actions\n  const TASKS_ACTIONS_TYPES_STRING = jurorTasksSelected\n    ? TASKS_ACTIONS_TYPES.slice(0, 3).map(DisputesTypes.getTaskActionString)\n    : TASKS_ACTIONS_TYPES.map(DisputesTypes.getTaskActionString)\n\n  const { openTasks: tasks, fetching, error } = useTasks()\n\n  const jurorTasks = useMemo(\n    () =>\n      tasks\n        ? tasks.filter(task =>\n            task.juror === 'Anyone'\n              ? false\n              : addressesEqual(task.juror, connectedAccount)\n          )\n        : [],\n    [connectedAccount, tasks]\n  )\n\n  const tasksToFilter = jurorTasksSelected ? jurorTasks : tasks\n\n  const handleSelectedDateRangeChange = useCallback(\n    range => {\n      setFiltersSelected(range !== INITIAL_DATE_RANGE)\n      setSelectedDateRange(range)\n    },\n    [setSelectedDateRange]\n  )\n\n  const handleSelectedPhaseChange = useCallback(index => {\n    setFiltersSelected(index !== ALL_FILTER)\n    setSelectedPhase(index || UNSELECTED_PHASE)\n  }, [])\n\n  const filteredTasks = useMemo(\n    () =>\n      tasksToFilter.filter(\n        ({ phaseType, dueDate, open }) =>\n          (selectedPhase === UNSELECTED_PHASE ||\n            selectedPhase === ALL_FILTER ||\n            phaseType === TASKS_ACTIONS_TYPES[selectedPhase]) &&\n          (!selectedDateRange.start ||\n            !selectedDateRange.end ||\n            dayjs(dueDate).isBetween(\n              dayjs(selectedDateRange.start).startOf('day'),\n              dayjs(selectedDateRange.end).endOf('day'),\n              '[]'\n            ))\n      ),\n    [\n      selectedDateRange.end,\n      selectedDateRange.start,\n      selectedPhase,\n      tasksToFilter,\n    ]\n  )\n\n  const handleClearFilters = useCallback(() => {\n    setSelectedPhase(UNSELECTED_PHASE)\n    setSelectedDateRange(INITIAL_DATE_RANGE)\n    setFiltersSelected(false)\n  }, [])\n\n  const emptyFilterResults =\n    !filteredTasks.length &&\n    (selectedPhase > 1 || selectedDateRange.start || selectedDateRange.end)\n\n  return {\n    tasks: filteredTasks,\n    fetching,\n    error,\n    filtersSelected,\n    setFiltersSelected,\n    emptyFilterResults,\n    handleClearFilters,\n    selectedDateRange,\n    handleSelectedDateRangeChange,\n    selectedPhase,\n    handleSelectedPhaseChange,\n    openTasksNumber: tasks.length,\n    jurorOpenTaskNumber: jurorTasks.length,\n    taskActionsString: TASKS_ACTIONS_TYPES_STRING,\n  }\n}\n\nexport default useFilteredTasks\n","import React, { useState } from 'react'\nimport { GU, Tabs, Tag } from '@aragon/ui'\n\nimport NoTasks from './NoTasks'\nimport NoMyTasks from './NoMyTasks'\nimport TaskTable from './TasksTable'\nimport TasksLoading from '../LoadingCard'\nimport TitleHeader from '../TitleHeader'\nimport ErrorLoading from '../Errors/ErrorLoading'\nimport { useWallet } from '../../providers/Wallet'\nimport useFilteredTasks from '../../hooks/useFilteredTasks'\n\nconst Tasks = React.memo(({ onlyTable }) => {\n  const wallet = useWallet()\n\n  const [screenIndex, setScreenIndex] = useState(0)\n\n  const getMyTasksSelected = () => {\n    if (onlyTable) {\n      if (wallet.account) {\n        return true\n      }\n      return false\n    }\n    return screenIndex === 0\n  }\n\n  const myTasksSelected = getMyTasksSelected()\n\n  const {\n    tasks,\n    fetching: tasksFetching,\n    error: errorLoading,\n    filtersSelected,\n    setFiltersSelected,\n    emptyFilterResults,\n    handleClearFilters,\n    selectedDateRange,\n    handleSelectedDateRangeChange,\n    selectedPhase,\n    handleSelectedPhaseChange,\n    openTasksNumber,\n    jurorOpenTaskNumber,\n    taskActionsString,\n  } = useFilteredTasks(myTasksSelected, wallet.account)\n\n  const handleTabChange = screenIndex => {\n    setFiltersSelected(false)\n    handleClearFilters()\n    setScreenIndex(screenIndex)\n  }\n\n  return (\n    <div\n      css={`\n        padding-bottom: ${3 * GU}px;\n      `}\n    >\n      {!onlyTable && <TitleHeader title=\"Tasks\" />}\n      {/* Commented since we are not launching V1 with this component\n      <TaskBox\n        openTasks={openTasks}\n        completedTasks={completedTasks}\n        incompleteTasks={incompleteTasks}\n      /> */}\n      {!onlyTable && (\n        <Tabs\n          css={`\n            margin-bottom: 0px;\n          `}\n          items={[\n            <div>\n              <span>My Tasks </span>\n              <Tag limitDigits={4} label={jurorOpenTaskNumber} size=\"small\" />\n            </div>,\n            <div>\n              <span>All Tasks </span>\n              <Tag limitDigits={4} label={openTasksNumber} size=\"small\" />\n            </div>,\n          ]}\n          selected={screenIndex}\n          onChange={handleTabChange}\n        />\n      )}\n\n      {(() => {\n        if (errorLoading) {\n          return (\n            <ErrorLoading subject=\"tasks\" errors={[errorLoading.message]} />\n          )\n        }\n        if (tasksFetching) {\n          return <TasksLoading />\n        }\n\n        if (!filtersSelected && tasks.length === 0) {\n          return myTasksSelected ? <NoMyTasks /> : <NoTasks />\n        }\n        return (\n          <TaskTable\n            tasks={tasks}\n            emptyFilterResults={emptyFilterResults}\n            onClearFilters={handleClearFilters}\n            dateRangeFilter={selectedDateRange}\n            onDateRangeChange={handleSelectedDateRangeChange}\n            phaseFilter={selectedPhase}\n            onPhaseChange={handleSelectedPhaseChange}\n            phaseTypes={taskActionsString}\n            onlyTable={onlyTable}\n          />\n        )\n      })()}\n    </div>\n  )\n})\n\nexport default Tasks\n","export const ACCOUNT_STATUS_ANONYMUS = Symbol('ACCOUNT_STATUS_ANONYMUS')\nexport const ACCOUNT_STATUS_JUROR_INACTIVE = Symbol(\n  'ACCOUNT_STATUS_JUROR_INACTIVE'\n)\nexport const ACCOUNT_STATUS_JUROR_ACTIVE = Symbol('ACCOUNT_STATUS_JUROR_ACTIVE')\n","import React from 'react'\nimport { EthIdenticon, GU, useTheme, textStyle } from '@aragon/ui'\nimport { shortenAddress } from '../../lib/web3-utils'\nimport {\n  ACCOUNT_STATUS_JUROR_ACTIVE,\n  ACCOUNT_STATUS_JUROR_INACTIVE,\n} from '../../types/account-status-types'\n\nimport inactiveJurorIcon from '../../assets/IconJurorInactive.svg'\nimport activeJurorIcon from '../../assets/IconJurorActive.svg'\n\nconst getProfileAttributes = (status, theme) => {\n  if (status === ACCOUNT_STATUS_JUROR_ACTIVE)\n    return {\n      background: `linear-gradient(35deg, ${theme.accentStart}  -75%, ${theme.accentEnd} 105%)`,\n      primaryColor: theme.accentContent,\n      secondaryColor: theme.accentContent,\n      statusLabel: 'VOTING MEMBER',\n      icon: activeJurorIcon,\n    }\n\n  if (status === ACCOUNT_STATUS_JUROR_INACTIVE)\n    return {\n      background: 'linear-gradient(208deg, #FFFAF1 -3%, #FFEBEB 216%)',\n      primaryColor: theme.content,\n      secondaryColor: theme.contentSecondary,\n      statusLabel: 'NON-VOTING MEMBER',\n      icon: inactiveJurorIcon,\n    }\n\n  return {\n    background: '#F0F2F7',\n    primaryColor: theme.content,\n    secondaryColor: theme.contentSecondary,\n    statusLabel: 'ACCOUNT',\n  }\n}\n\nfunction Profile({ account, status }) {\n  const theme = useTheme()\n  const {\n    background,\n    primaryColor,\n    secondaryColor,\n    statusLabel,\n    icon,\n  } = getProfileAttributes(status, theme)\n\n  return (\n    <div\n      css={`\n        background: ${background};\n        padding: ${3 * GU}px;\n      `}\n    >\n      <div\n        css={`\n          height: ${7 * GU}px;\n          display: flex;\n          align-items: center;\n        `}\n      >\n        <div\n          css={`\n            display: flex;\n            align-items: stretch;\n          `}\n        >\n          <EthIdenticon\n            address={account}\n            radius={100}\n            scale={2}\n            css={`\n              margin-right: ${1.5 * GU}px;\n            `}\n          />\n          <div\n            css={`\n              display: flex;\n              flex-direction: column;\n              justify-content: space-between;\n              height: ${6 * GU}px;\n            `}\n          >\n            <span\n              css={`\n                ${textStyle('title4')};\n                color: ${primaryColor};\n                line-height: 1.2;\n              `}\n            >\n              {shortenAddress(account)}\n            </span>\n            <span\n              css={`\n                ${textStyle('label2')};\n                display: flex;\n                color: ${secondaryColor};\n                line-height: 1.2;\n              `}\n            >\n              {icon && (\n                <img\n                  css={`\n                    margin-right: ${0.5 * GU}px;\n                  `}\n                  src={icon}\n                  alt=\"juror-icon\"\n                />\n              )}\n              {statusLabel}\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Profile\n","import React, { useMemo } from 'react'\nimport PropTypes from 'prop-types'\nimport { GU, LoadingRing, textStyle } from '@aragon/ui'\n\nconst SIZES = {\n  SMALL: 'small',\n  MEDIUM: 'medium',\n  LARGE: 'large',\n}\n\nfunction Loading({ center = true, height, size = SIZES.MEDIUM }) {\n  const style = useMemo(() => {\n    if (size === SIZES.SMALL) {\n      return 'body3'\n    }\n    if (size === SIZES.MEDIUM) {\n      return 'body2'\n    }\n    if (size === SIZES.LARGE) {\n      return 'body1'\n    }\n  }, [size])\n\n  return (\n    <div\n      css={`\n        display: flex;\n        align-items: center;\n        justify-content: ${center ? 'center' : 'flex-start'};\n\n        margin: 0 auto;\n        height: ${height ? `${height}px` : 'auto'};\n      `}\n    >\n      <LoadingRing />\n      <span\n        css={`\n          ${textStyle(style)};\n          margin-left: ${1 * GU}px;\n        `}\n      >\n        Loading\n      </span>\n    </div>\n  )\n}\n\nLoading.propTypes = {\n  center: PropTypes.bool,\n  height: PropTypes.number,\n  size: PropTypes.oneOf([SIZES.SMALL, SIZES.MEDIUM, SIZES.LARGE]).isRequired,\n}\n\nexport default Loading\n","import React from 'react'\nimport { GU, Link, textStyle, useTheme } from '@aragon/ui'\n\nimport { useCourtConfig } from '../../providers/CourtConfig'\nimport { formatUnits } from '../../lib/math-utils'\n\nfunction ANJLockedDistribution({ distribution, text }) {\n  const theme = useTheme()\n  const {\n    anjToken: { decimals, symbol },\n  } = useCourtConfig()\n\n  const formattedInProcessAmount = formatUnits(distribution.inProcess, {\n    digits: decimals,\n  })\n\n  return (\n    <div\n      css={`\n        min-width: ${30 * GU}px;\n      `}\n    >\n      <h3\n        css={`\n          ${textStyle('label2')}\n          color: ${theme.surfaceContentSecondary};\n          margin-bottom: ${2 * GU}px;\n        `}\n      >\n        Locked {symbol} Distribution\n      </h3>\n      {distribution.lockedPerDispute\n        .sort((d1, d2) => d1.disputeId - d2.disputeId)\n        .map(({ disputeId, amount, weight }) => {\n          const formattedAmount = formatUnits(amount.div(weight), {\n            digits: decimals,\n          })\n\n          return (\n            <Row\n              key={disputeId}\n              label={\n                <Link href={`#/disputes/${disputeId}`} external={false}>\n                  {`Dispute #${disputeId}`}\n                </Link>\n              }\n              weight={weight}\n              amount={formattedAmount}\n              symbol={symbol}\n              isLabelLink\n            />\n          )\n        })}\n      {distribution.inProcess.gt(0) && (\n        <Row\n          label=\"In deactivation process\"\n          amount={formattedInProcessAmount}\n          symbol={symbol}\n        />\n      )}\n      <span>{text}</span>\n    </div>\n  )\n}\n\nfunction Row({ label, isLabelLink, amount, symbol, weight }) {\n  const theme = useTheme()\n\n  return (\n    <div\n      css={`\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n\n        ${textStyle('body2')};\n\n        margin-bottom: ${1 * GU}px;\n\n        &:last-child {\n          margin-bottom: 0;\n        }\n      `}\n    >\n      {isLabelLink ? (\n        label\n      ) : (\n        <span\n          css={`\n            color: ${theme.surfaceContentSecondary};\n          `}\n        >\n          {label}\n        </span>\n      )}\n\n      <span>\n        {weight?.gt(1) && `${weight.toNumber()}x `} {amount} {symbol}\n      </span>\n    </div>\n  )\n}\n\nexport default ANJLockedDistribution\n","import React from 'react'\nimport { GU } from '@aragon/ui'\n\nexport default function SplitAmount({ amount }) {\n  const [integer, fractional] = amount.split('.')\n  return (\n    <span\n      css={`\n        margin-right: ${0.5 * GU}px;\n      `}\n    >\n      <span>{integer}</span>\n      {fractional && <span>.{fractional}</span>}\n    </span>\n  )\n}\n","import { useEffect, useState } from 'react'\nimport { captureException } from '@sentry/browser'\n\nimport gql from 'graphql-tag'\nimport { Client } from 'urql'\n\nconst RETRY_EVERY = 3000\n\nconst UNISWAP_URL = 'https://api.thegraph.com/subgraphs/name/lutter/uniswap-v2'\nconst ETH_ANJ_PAIR = '0x0ffc70be6e2d841e109653ddb3034961591679d6'\nconst DAI_ETH_PAIR = '0xa478c2975ab1ea89e8196811f51a7b7ade33eb11'\n\nconst graphqlClient = new Client({ url: UNISWAP_URL })\n\nconst ANJ_PRICE_QUERY = gql`\n  query {\n    pair(id: \"${ETH_ANJ_PAIR}\") {\n      token0Price\n    }\n  }\n`\nconst ETH_PRICE_QUERY = gql`\n  query {\n    pair(id: \"${DAI_ETH_PAIR}\") {\n      token0Price\n    }\n  }\n`\n\nexport function useUniswapAnjPrice() {\n  const [anjPrice, setAnjPrice] = useState(0)\n\n  useEffect(() => {\n    let cancelled = false\n    let retryTimer\n    async function fetchPrice() {\n      try {\n        const [anjResults, ethResults] = await Promise.all([\n          graphqlClient.query(ANJ_PRICE_QUERY).toPromise(),\n          graphqlClient.query(ETH_PRICE_QUERY).toPromise(),\n        ])\n\n        const { pair: anjPair } = anjResults.data\n        const { pair: ethPair } = ethResults.data\n        const anjToEthPrice = anjPair.token0Price\n        const ethToDaiPrice = ethPair.token0Price\n        const anjPrice = Number(anjToEthPrice) * Number(ethToDaiPrice)\n\n        if (!cancelled) {\n          setAnjPrice(anjPrice)\n        }\n      } catch (err) {\n        captureException(err)\n        retryTimer = setTimeout(fetchPrice, RETRY_EVERY)\n      }\n    }\n\n    fetchPrice()\n\n    return () => {\n      cancelled = true\n      clearTimeout(retryTimer)\n    }\n  }, [])\n\n  return anjPrice\n}\n","import { useEffect, useState } from 'react'\nimport { captureException } from '@sentry/browser'\n\nimport { useCourtConfig } from '../providers/CourtConfig'\nimport { useUniswapAnjPrice } from './useUniswapAnjPrice'\nimport { bigNum, formatUnits } from '../lib/math-utils'\nimport { getNetworkType } from '../lib/web3-utils'\n\nconst API_BASE = 'https://api.0x.org'\nconst UNISWAP_PRECISION = bigNum(10).pow(18)\n\nconst SELL_TOKEN = 'USDC'\nconst SELL_TOKEN_PRECISION = bigNum(10).pow(6)\n\n/**\n * Convert ANJ amount into USD price\n * @param {BigNum} amount The amount to convert to USD\n * @returns {String} The amount value in USD\n */\nexport function useANJAmountToUsd(amount) {\n  const { anjToken } = useCourtConfig()\n  const anjPrice = useUniswapAnjPrice()\n\n  if (!amount || anjPrice === 0) {\n    return '-'\n  }\n\n  return convertAmount(amount, anjPrice, anjToken.decimals, UNISWAP_PRECISION)\n}\n\n/**\n * Convert a token into a USD price\n *\n * @param {String} symbol The symbol of the token to convert from.\n * @param {Number} decimals The amount of decimals for the token.\n * @param {BigNumber} amount The amount to convert into USD.\n * @returns { Number } The balance value in USD\n */\nexport function useTokenAmountToUsd(symbol, decimals, amount) {\n  const [amountInUsd, setAmountInUsd] = useState('-')\n  useEffect(() => {\n    let cancelled = false\n\n    if (getNetworkType() !== 'main') {\n      return\n    }\n\n    const fetchPrice = async () => {\n      try {\n        const res = await fetch(\n          `${API_BASE}/swap/v0/prices?sellToken=${SELL_TOKEN}`\n        )\n        const prices = await res.json()\n\n        if (cancelled || !amount || !prices?.records?.length) {\n          return\n        }\n\n        const priceRecord = prices.records.find(\n          price => price.symbol === symbol\n        )\n        if (!priceRecord) {\n          return\n        }\n\n        const convertedAmount = convertAmount(\n          amount,\n          priceRecord.price,\n          decimals,\n          SELL_TOKEN_PRECISION\n        )\n        setAmountInUsd(convertedAmount)\n      } catch (err) {\n        console.error(`Could not fetch ${symbol} USD price`, err)\n        captureException(err)\n      }\n    }\n\n    fetchPrice()\n\n    return () => {\n      cancelled = true\n    }\n  }, [amount, decimals, symbol])\n\n  return amountInUsd\n}\n\nfunction convertAmount(amount, price, decimals, precision) {\n  const rate = (price * precision).toFixed()\n\n  return formatUnits(amount.mul(rate.toString()).div(precision), {\n    digits: decimals,\n  })\n}\n","import React, { useMemo } from 'react'\nimport { Button, GU, Help, textStyle, useTheme } from '@aragon/ui'\nimport { animated, useSpring } from 'react-spring'\n\nimport Loading from '../Loading'\nimport ANJLockedDistribution from './ANJLockedDistribution'\nimport SplitAmount from '../SplitAmount'\n\nimport { useCourtConfig } from '../../providers/CourtConfig'\nimport { useANJAmountToUsd } from '../../hooks/useTokenAmountToUsd'\n\nimport { PCT_BASE } from '../../utils/dispute-utils'\nimport { bigNum, formatTokenAmount, formatUnits } from '../../lib/math-utils'\nimport { movementDirection, convertToString } from '../../types/anj-types'\n\nimport ANJIcon from '../../assets/IconANJ.svg'\nimport lockIcon from '../../assets/IconLock.svg'\n\nconst Balance = React.memo(function Balance({\n  label,\n  amount,\n  loading,\n  actions,\n  mainIcon,\n  activity,\n  distribution,\n  mainIconBackground,\n}) {\n  const theme = useTheme()\n  const {\n    anjToken: { symbol, decimals },\n  } = useCourtConfig()\n\n  const convertedAmount = useANJAmountToUsd(amount)\n\n  const springProps = useSpring({\n    to: { opacity: 1 },\n    from: { opacity: 0 },\n    delay: 300,\n  })\n\n  return (\n    <div>\n      <div\n        css={`\n          border-bottom: 1px solid ${theme.border.alpha(0.7)};\n        `}\n      >\n        {loading ? (\n          <Loading height={86} size=\"large\" />\n        ) : (\n          <animated.div\n            style={springProps}\n            css={`\n              display: flex;\n              align-items: flex-start;\n              padding-bottom: ${2 * GU}px;\n            `}\n          >\n            <div\n              css={`\n                padding: ${1.5 * GU}px;\n                background: ${mainIconBackground};\n                border-radius: 50%;\n                margin-right: ${2 * GU}px;\n              `}\n            >\n              <img\n                css={`\n                  display: block;\n                `}\n                src={mainIcon}\n                height={3 * GU}\n                width={3 * GU}\n              />\n            </div>\n            <div>\n              <span\n                css={`      \n                ${textStyle('body2')}\n                color: ${theme.surfaceContentSecondary};\n                display:block;\n              `}\n              >\n                {label}\n              </span>\n              <div\n                css={`\n                  ${textStyle('title3')}\n                  line-height: 1.2;\n                  display: flex;\n                  align-items: center;\n                `}\n              >\n                <SplitAmount\n                  amount={formatUnits(amount, { digits: decimals })}\n                />\n                <img height=\"20\" width=\"18\" src={ANJIcon} alt=\"ANJ\" />\n              </div>\n              <span\n                css={`\n                ${textStyle('body4')}\n                color: ${theme.surfaceContentSecondary};\n                display:block;\n              `}\n              >\n                $ {convertedAmount}\n              </span>\n            </div>\n          </animated.div>\n        )}\n      </div>\n      {loading ? (\n        <div\n          css={`\n            height: 96px;\n          `}\n        />\n      ) : (\n        <animated.div style={springProps}>\n          <div\n            css={`\n              margin: ${2 * GU}px 0;\n              color: ${theme.surfaceContentSecondary};\n            `}\n          >\n            {activity ? (\n              <LatestActivity\n                activity={activity}\n                tokenSymbol={symbol}\n                distribution={distribution}\n              />\n            ) : (\n              <span>No activity in the last 24h</span>\n            )}\n          </div>\n          <div\n            css={`\n              display: grid;\n              grid-template-columns: repeat(\n                auto-fit,\n                minmax(calc(50% - 8px), 1fr)\n              );\n              grid-column-gap: 8px;\n            `}\n          >\n            {actions.map((action, index) => {\n              return (\n                <Button\n                  key={index}\n                  label={action.label}\n                  mode={action.mode}\n                  onClick={action.onClick}\n                  wide\n                  disabled={amount.eq(0)}\n                />\n              )\n            })}\n          </div>\n        </animated.div>\n      )}\n    </div>\n  )\n})\n\nconst LatestActivity = ({ activity, distribution }) => {\n  const theme = useTheme()\n  const { anjToken } = useCourtConfig()\n  const isIncoming = activity.direction === movementDirection.Incoming\n  const displaySign =\n    activity.direction === movementDirection.Incoming ||\n    activity.direction === movementDirection.Outgoing\n\n  let color = theme.contentSecondary\n  // If sign shouldn't be displayed it means it's a Locked movement\n  if (displaySign) color = isIncoming ? theme.positive : theme.negative\n\n  return (\n    <div\n      css={`\n        display: flex;\n        justify-content: space-between;\n      `}\n    >\n      <div\n        css={`\n          display: flex;\n          align-items: center;\n        `}\n      >\n        {!displaySign && (\n          <img\n            src={lockIcon}\n            alt=\"lock\"\n            width=\"12px\"\n            height=\"14px\"\n            css={`\n              margin-right: ${0.5 * GU}px;\n            `}\n          />\n        )}\n        <span\n          css={`\n            color: ${color};\n            margin-right: ${0.5 * GU}px;\n          `}\n        >\n          {formatTokenAmount(\n            activity.amount,\n            isIncoming,\n            anjToken.decimals,\n            displaySign\n          )}{' '}\n          {anjToken.symbol}\n        </span>\n        <span\n          css={`\n            color: ${theme.content};\n          `}\n        >\n          {convertToString(activity.type, activity.direction)}\n        </span>\n      </div>\n      {distribution && <ANJLockedHelp distribution={distribution} />}\n    </div>\n  )\n}\n\nconst ANJLockedHelp = ({ distribution }) => {\n  const theme = useTheme()\n\n  const { showDistribution, text } = useHelpAttributes(distribution)\n\n  let hintText = \"What's my ANJ distribution\"\n  if (!showDistribution) {\n    hintText = distribution.inProcess.gt(0)\n      ? 'Why is my ANJ being deactivated'\n      : 'Why is my balance locked'\n  }\n\n  return (\n    <div\n      css={`\n        display: flex;\n        align-items: center;\n      `}\n    >\n      <span\n        css={`\n          color: ${theme.help};\n          margin-right: ${0.5 * GU}px;\n        `}\n      >\n        {showDistribution ? 'ANJ Distribution ' : 'Why'}\n      </span>\n      <Help hint={hintText}>\n        {showDistribution ? (\n          <ANJLockedDistribution distribution={distribution} text={text} />\n        ) : (\n          text\n        )}\n      </Help>\n    </div>\n  )\n}\n\nfunction useHelpAttributes(distribution) {\n  const { anjToken, minActiveBalance, penaltyPct } = useCourtConfig()\n\n  return useMemo(() => {\n    if (distribution.inProcess.gt(0)) {\n      return {\n        showDistribution: !!distribution.lockedPerDispute, // If juror has  ANJ locked in disputes, we'll show distribution\n        text:\n          'Deactivating ANJ does not happen immediately and requires one term before it can be processed.',\n      }\n    }\n\n    const { lockedPerDispute } = distribution\n\n    const onlyOneDispute = lockedPerDispute.length === 1\n    const isJurorDraftedMultipleTimesSameDispute = lockedPerDispute.some(lock =>\n      lock.weight.gt(1)\n    )\n\n    let text\n    const { decimals, symbol } = anjToken\n    const penaltyPercentage = bigNum(penaltyPct).div(PCT_BASE.div(100))\n    const minActiveBalanceFormatted = formatUnits(minActiveBalance, {\n      digits: decimals,\n    })\n    const minLockedAmountFormatted = formatUnits(\n      minActiveBalance.mul(penaltyPct).div(PCT_BASE),\n      { digits: decimals }\n    )\n\n    if (isJurorDraftedMultipleTimesSameDispute) {\n      text =\n        'The same juror can be drafted multiple times to arbitrate the same dispute for the same round.  When that happens, their voting weight will be proportional to the number of times they are drafted, as well as the % of ANJ locked in the Active balance.'\n    } else {\n      text = onlyOneDispute\n        ? `A portion of your active ANJ has been locked because you were drafted in a dispute. This amount will be locked until the dispute has been resolved. The exact locked amount corresponds to the ${penaltyPercentage}% of the minimum active balance for each time you get drafted. The minimum active balance is currently ${minActiveBalanceFormatted} ${symbol}, therefore the amount locked would be ${minLockedAmountFormatted} ANJ.`\n        : ''\n    }\n\n    return {\n      text,\n      showDistribution:\n        !onlyOneDispute || isJurorDraftedMultipleTimesSameDispute,\n    }\n  }, [anjToken, distribution, minActiveBalance, penaltyPct])\n}\n\nexport default Balance\n","import React from 'react'\nimport { textStyle, Timer, useTheme } from '@aragon/ui'\nimport { useCourtClock } from '../../providers/CourtClock'\n\nfunction AccountBannerInfo({ title, titleColor = '', paragraph, showTimer }) {\n  const theme = useTheme()\n  const { currentTermEndDate } = useCourtClock()\n  return (\n    <div\n      css={`\n        display: flex;\n        width: 100%;\n        justify-content: space-between;\n      `}\n    >\n      <div\n        css={`\n          display: flex;\n          flex-direction: column;\n          justify-content: space-around;\n        `}\n      >\n        <span\n          css={`\n            ${textStyle('title4')}\n            color: ${titleColor};\n          `}\n        >\n          {title}\n        </span>\n        <span\n          css={`\n            color: ${theme.surfaceContentSecondary};\n            display: block;\n          `}\n        >\n          {paragraph}\n        </span>\n      </div>\n      {showTimer && <Timer format=\"hms\" end={currentTermEndDate} />}\n    </div>\n  )\n}\n\nexport default AccountBannerInfo\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Spring, animated } from 'react-spring/renderprops'\nimport { GU, useTheme } from '@aragon/ui'\n\nconst STROKE_WIDTH = 4\n\nconst SIZE_DEFAULT = 80\nconst VALUE_DEFAULT = 1\nconst LABEL_DEFAULT = value => {\n  if (value === 0) {\n    return { value: '0', suffix: '%' }\n  }\n  if (Math.round(value * 100) < 1) {\n    return { prefix: '<', value: '1', suffix: '%' }\n  }\n  return {\n    value: String(Math.round(value * 100)),\n    suffix: '%',\n  }\n}\n\nconst { span: AnimatedSpan, circle: AnimatedCircle } = animated\n\nfunction CircleGraph({ value, label, size, strokeWidth }) {\n  const theme = useTheme()\n  const length = Math.PI * 2 * (size - strokeWidth)\n  const radius = (size - strokeWidth) / 2\n  const { prefix, suffix } = label(value)\n  return (\n    <Spring to={{ progressValue: value }} native>\n      {({ progressValue }) => (\n        <div\n          css={`\n            position: relative;\n            display: flex;\n            align-items: center;\n            justify-content center;\n            width: ${size}px;\n            height: ${size}px;\n          `}\n        >\n          <svg\n            css={`\n              position: absolute;\n              top: 0;\n              left: 0;\n            `}\n            width={size}\n            height={size}\n            viewBox={`0 0 ${size} ${size}`}\n          >\n            <circle\n              cx={size / 2}\n              cy={size / 2}\n              r={radius}\n              style={{ strokeWidth }}\n              fill=\"none\"\n              stroke={theme.border}\n            />\n            <AnimatedCircle\n              cx={size / 2}\n              cy={size / 2}\n              r={radius}\n              fill=\"none\"\n              stroke={theme.accent}\n              strokeLinecap=\"round\"\n              strokeDasharray={length}\n              strokeWidth={strokeWidth}\n              style={{\n                strokeDashoffset: progressValue.interpolate(\n                  t => length - (length * t) / 2\n                ),\n              }}\n              css={`\n                transform: rotate(270deg);\n                transform-origin: 50% 50%;\n              `}\n            />\n          </svg>\n          <div\n            css={`\n              display: flex;\n              align-items: baseline;\n              margin-left: ${prefix ? `0px ` : `${0.5 * GU}px`};\n            `}\n          >\n            {prefix && <div>{prefix}</div>}\n            <AnimatedSpan\n              css={`\n                font-size: 18px;\n              `}\n            >\n              {progressValue.interpolate(t => {\n                const { value: stringValue } = label(\n                  Math.min(1, Math.max(0, t))\n                )\n                return stringValue\n              })}\n            </AnimatedSpan>\n            <div\n              css={`\n                display: flex;\n                font-size: 12px;\n                color: ${theme.surfaceContentSecondary};\n              `}\n            >\n              {suffix}\n            </div>\n          </div>\n        </div>\n      )}\n    </Spring>\n  )\n}\n\nCircleGraph.propTypes = {\n  value: PropTypes.number,\n  size: PropTypes.number,\n  label: PropTypes.func,\n  strokeWidth: PropTypes.number,\n}\n\nCircleGraph.defaultProps = {\n  value: VALUE_DEFAULT,\n  size: SIZE_DEFAULT,\n  label: LABEL_DEFAULT,\n  strokeWidth: STROKE_WIDTH,\n}\n\nexport default CircleGraph\n","import { useMemo } from 'react'\nimport { useTotalANTStakedPolling } from './useCourtContracts'\nimport { useActiveJurorsNumber } from '../hooks/query-hooks'\nimport {\n  useJurorRegistrySubscription,\n  useTotalRewardsSubscription,\n} from '../hooks/subscription-hooks'\nimport { getKnownToken } from '../utils/known-tokens'\nimport { bigNum } from '../lib/math-utils'\nimport IconANJ from '../assets/IconANJ.svg'\nimport IconANT from '../assets/IconANT.svg'\nimport IconDAI from '../assets/IconDAI.svg'\n\nconst STATS_FETCHING_TIMEOUT = 15000\n\nconst COURT_STATS = [\n  {\n    label: 'Total Active ANJ',\n    token: { ...getKnownToken('ANJ'), icon: IconANJ },\n  },\n  {\n    label: 'Total Staked LQs',\n    token: { ...getKnownToken('ANT'), icon: IconANT },\n  },\n  { label: 'Total Active Jurors' },\n  {\n    label: 'Total Rewards DAI',\n    token: { ...getKnownToken('DAI'), icon: IconDAI },\n  },\n]\n\nexport function useTotalActiveBalance() {\n  const { data: jurorRegistryStats, error } = useJurorRegistrySubscription()\n\n  return useMemo(() => {\n    if (!jurorRegistryStats || error) {\n      return [bigNum(-1), error]\n    }\n    return [bigNum(jurorRegistryStats.totalActive), error]\n  }, [error, jurorRegistryStats])\n}\n\nfunction useTotalRewards() {\n  const { data: rewards, error } = useTotalRewardsSubscription()\n\n  return useMemo(() => {\n    if (!rewards || error) {\n      return [bigNum(-1), error]\n    }\n    return [\n      rewards.reduce(\n        (totalAcumulator, reward) => totalAcumulator.add(reward.amount),\n        bigNum(0)\n      ),\n      error,\n    ]\n  }, [error, rewards])\n}\n/**\n * Hook to get the dashboard stats ANJ active balance, ANT total stake and the active jurors number\n * @returns {Array} First item an array with the stats and the second one a loading state\n */\nfunction useCourtStats() {\n  const [anjActiveBalance, anjActiveBalanceError] = useTotalActiveBalance()\n  const [antTotalStake, antTotalStakeError] = useTotalANTStakedPolling(\n    STATS_FETCHING_TIMEOUT\n  )\n  const [activeJurors, activeJurorsError] = useActiveJurorsNumber()\n  const [totalRewards, totalRewardsError] = useTotalRewards()\n\n  // Loading states\n  const anjFetching = anjActiveBalance.eq(bigNum(-1)) && !anjActiveBalanceError\n  const antFetching = antTotalStake.eq(bigNum(-1)) && !antTotalStakeError\n  const activeJurorsFetching = activeJurors === null && !activeJurorsError\n  const totalRewardsFetching = totalRewards.eq(bigNum(-1)) && !totalRewardsError\n\n  return useMemo(\n    () => {\n      if (\n        anjFetching ||\n        antFetching ||\n        activeJurorsFetching ||\n        totalRewardsFetching\n      ) {\n        return [null, true]\n      }\n\n      const statsData = [\n        anjActiveBalance,\n        antTotalStake,\n        activeJurors,\n        totalRewards,\n      ]\n      const statsError = [\n        anjActiveBalanceError,\n        antTotalStakeError,\n        activeJurorsError,\n        totalRewardsError,\n      ]\n      return [\n        COURT_STATS.map((stat, index) => {\n          return {\n            ...stat,\n            value: statsData[index],\n            error: statsError[index],\n          }\n        }),\n        false,\n      ]\n    } /* eslint-disable react-hooks/exhaustive-deps */,\n    [\n      activeJurors,\n      activeJurorsError,\n      activeJurorsFetching,\n      anjActiveBalance.toString(),\n      anjActiveBalanceError,\n      anjFetching,\n      antFetching,\n      antTotalStake.toString(),\n      antTotalStakeError,\n      totalRewards.toString(),\n      totalRewardsError,\n      totalRewardsFetching,\n    ]\n    /* eslint-disable-line react-hooks/exhaustive-deps */\n  )\n}\n\nexport default useCourtStats\n","import { useQuery } from 'urql'\n\nimport { JurorFirstANJActivationMovement } from '../queries/balances'\nimport { ActiveJurors, JurorFeesClaimed } from '../queries/juror'\nimport { JurorDrafts } from '../queries/jurorDrafts'\n\nexport function useJurorDraftQuery(jurorId) {\n  const [result] = useQuery({\n    query: JurorDrafts,\n    variables: { id: jurorId?.toLowerCase() },\n    pause: !jurorId,\n  })\n\n  if (result.fetching || result.error) {\n    return []\n  }\n\n  const { juror } = result.data || {}\n\n  return juror ? juror.drafts.map(draft => draft.round.dispute.id) : []\n}\n\n/**\n * Queries if the juror  by id `jurorId` has ever claimed rewards\n * Rewards can be claimed from two places: Subscriptions fees or Dispute fees (the later includes appeal and juror fees)\n *\n * @param {String} jurorId Address of the juror\n * @returns {Boolean} True if juror has ever claimed rewards\n */\nexport function useJurorRewardsEverClaimedQuery(jurorId) {\n  const [{ data }] = useQuery({\n    query: JurorFeesClaimed,\n    variables: { owner: jurorId.toLowerCase() },\n  })\n\n  if (!data) {\n    return false\n  }\n\n  return data.feeMovements.length > 0\n}\n\nexport function useFirstANJActivationQuery(jurorId, { pause = false }) {\n  const [result] = useQuery({\n    query: JurorFirstANJActivationMovement,\n    variables: { id: jurorId.toLowerCase() },\n    pause,\n  })\n\n  const { juror } = result.data || {}\n\n  return juror ? juror.anjMovements[0] : null\n}\n\nexport function useActiveJurorsNumber() {\n  const [{ data, error }] = useQuery({\n    query: ActiveJurors,\n  })\n\n  return [data?.jurors?.length, error]\n}\n","import React, { useContext } from 'react'\nimport { useWallet } from '../../providers/Wallet'\nimport {\n  useAppealsByUserSubscription,\n  useJurorBalancesSubscription,\n  useJurorDraftsRewardsSubscription,\n} from '../../hooks/subscription-hooks'\n\nconst DashboardContext = React.createContext()\n\nfunction DashboardStateProvider({ children }) {\n  const wallet = useWallet()\n\n  const Provider = DashboardContext.Provider\n\n  // Workaround to not subscribe when no connected account\n  if (wallet.account)\n    return (\n      <WithSubscription Provider={Provider} connectedAccount={wallet.account}>\n        {children}\n      </WithSubscription>\n    )\n\n  return (\n    <Provider\n      value={{\n        anjMovements: [],\n        anjBalances: {},\n        appeals: [],\n        claimedSubscriptionFees: [],\n        jurorDrafts: [],\n        treasury: [],\n      }}\n    >\n      {children}\n    </Provider>\n  )\n}\n\nfunction WithSubscription({ Provider, connectedAccount, children }) {\n  // Juror ANJ balances, 24h ANJ movements and claimed subscription fees\n  const {\n    anjBalances,\n    anjMovements,\n    claimedSubscriptionFees,\n    treasury,\n    fetching: balancesFetching,\n    errors: balanceErrors,\n  } = useJurorBalancesSubscription(connectedAccount)\n\n  // Appeals\n  const {\n    appeals,\n    fetching: appealsFetching,\n    errors: appealErrors,\n  } = useAppealsByUserSubscription(connectedAccount, false) // Non settled appeals\n\n  // Juror drafts not rewarded\n  const {\n    jurorDrafts,\n    fetching: jurorDraftsFetching,\n    error: jurorDraftsError,\n  } = useJurorDraftsRewardsSubscription(connectedAccount)\n\n  const fetching = balancesFetching || appealsFetching || jurorDraftsFetching\n  const errors = [\n    ...balanceErrors,\n    ...appealErrors,\n    ...(jurorDraftsError ? [jurorDraftsError] : []),\n  ]\n\n  return (\n    <Provider\n      value={{\n        anjBalances,\n        anjMovements,\n        appeals,\n        claimedSubscriptionFees,\n        errors,\n        fetching,\n        jurorDrafts,\n        treasury,\n      }}\n    >\n      {children}\n    </Provider>\n  )\n}\n\nfunction useDashboardState() {\n  return useContext(DashboardContext)\n}\n\nexport { DashboardStateProvider, useDashboardState }\n","import { useMemo } from 'react'\n\nimport { useWallet } from '../providers/Wallet'\nimport { useCourtClock } from '../providers/CourtClock'\nimport { useCourtConfig } from '../providers/CourtConfig'\nimport { useFirstANJActivationQuery } from './query-hooks'\nimport { useDashboardState } from '../components/Dashboard/DashboardStateProvider'\n\nimport {\n  isMovementOf,\n  convertMovement,\n  isMovementEffective,\n  getUpdatedLockedMovement,\n  getLatestMovementByBalance,\n  acceptedMovementsPerBalance,\n  getAmountNotEffectiveByBalance,\n} from '../utils/anj-movement-utils'\nimport { getTermStartTime } from '../utils/court-utils'\nimport { getDraftLockAmount } from '../utils/dispute-utils'\nimport { ANJBalance, ANJMovement } from '../types/anj-types'\n\nexport function useANJBalances() {\n  const { anjBalances, anjMovements } = useDashboardState()\n\n  const {\n    walletBalance,\n    activeBalance,\n    lockedBalance,\n    inactiveBalance,\n    deactivationBalance,\n  } = anjBalances || {}\n\n  const convertedMovements = useConvertedMovements(anjMovements)\n\n  const convertedWalletBalance = useBalanceWithMovements(\n    walletBalance,\n    convertedMovements,\n    ANJBalance.Wallet\n  )\n\n  const convertedInactiveBalance = useBalanceWithMovements(\n    inactiveBalance,\n    convertedMovements,\n    ANJBalance.Inactive\n  )\n\n  const convertedActiveBalance = useBalanceWithMovements(\n    activeBalance,\n    convertedMovements,\n    ANJBalance.Active\n  )\n\n  // Use ANJ Locked distribution\n  const lockedDistribution = useJurorLockedANJDistribution()\n  const convertedLockedBalance = useMemo(() => {\n    return { amount: lockedBalance, distribution: lockedDistribution }\n  }, [lockedBalance, lockedDistribution])\n\n  const convertedDeactivationBalance = useMemo(() => {\n    return { amount: deactivationBalance }\n  }, [deactivationBalance])\n\n  // Since we pass the whole object through props to components, we should memoize it\n  return useMemo(() => {\n    if (!anjBalances) {\n      return null\n    }\n\n    return {\n      walletBalance: convertedWalletBalance,\n      inactiveBalance: convertedInactiveBalance,\n      activeBalance: convertedActiveBalance,\n      lockedBalance: convertedLockedBalance,\n      deactivationBalance: convertedDeactivationBalance,\n    }\n  }, [\n    anjBalances,\n    convertedActiveBalance,\n    convertedDeactivationBalance,\n    convertedInactiveBalance,\n    convertedLockedBalance,\n    convertedWalletBalance,\n  ])\n}\n\n// Asummes movements in descending order of creation\nfunction useConvertedMovements(movements) {\n  const { currentTermId } = useCourtClock()\n  const courtConfig = useCourtConfig()\n\n  const effectiveStates = movements\n    ? movements.map(mov => isMovementEffective(mov, currentTermId))\n    : []\n  const effectiveStatesKey = effectiveStates.join('')\n\n  return useMemo(\n    () => {\n      if (!movements) {\n        return null\n      }\n\n      // Since Activation, Deactivations and Slashing movements are effective on next term of creation\n      // but only Deactivations don't update the balance immediately, we'll use another attr (isImmediate) to differentiate these cases\n      return movements\n        .map((mov, i) => {\n          const isImmediate = ANJMovement[mov.type] !== ANJMovement.Deactivation\n\n          let updatesBalanceAt = mov.createdAt\n          if (!isImmediate && mov.effectiveTermId && effectiveStates[i]) {\n            const termStartTimeMs = getTermStartTime(\n              mov.effectiveTermId,\n              courtConfig\n            )\n            updatesBalanceAt = termStartTimeMs / 1000\n          }\n\n          return {\n            ...mov,\n            isEffective: effectiveStates[i],\n            updatesBalanceAt,\n            isImmediate,\n          }\n        })\n        .sort((mov1, mov2) => {\n          // We are resorting movements by time they update the balance at\n          if (mov1.updatesBalanceAt === mov2.updatesBalanceAt) {\n            return mov2.createdAt - mov1.createdAt\n          }\n\n          return mov2.updatesBalanceAt - mov1.updatesBalanceAt\n        })\n    },\n    [effectiveStatesKey, movements] //eslint-disable-line\n  )\n}\n\n/**\n * Calculates total amount, total not effective amount and the latest movement for `balanceType`\n * @dev In case the balance is active or inactive, we must also calculate all non effective movements to get the effective balance at current term\n *\n * @param {BigNum} balance Total balance amount\n * @param {Array} movements Latest 24h movements\n * @param {Symbol} balanceType Type of balance (Wallet, Inactive, Active)\n * @returns {Object} Converted balance\n */\nfunction useBalanceWithMovements(balance, movements, balanceType) {\n  const { anjBalances } = useDashboardState()\n  const { lockedBalance } = anjBalances || {}\n\n  const acceptedMovements = acceptedMovementsPerBalance.get(balanceType)\n  const filteredMovements = useFilteredMovements(movements, acceptedMovements)\n\n  return useMemo(() => {\n    if (!balance) {\n      return null\n    }\n\n    // Calculate total not effective (If balanceType === wallet returns 0)\n    const amountNotEffective = getAmountNotEffectiveByBalance(\n      movements,\n      balanceType\n    )\n\n    // Get latest movement\n    let latestMovement = getLatestMovementByBalance(\n      filteredMovements,\n      balanceType\n    )\n\n    // Update latest movement if necessary\n    if (balanceType === ANJBalance.Active) {\n      if (lockedBalance?.gt(0))\n        latestMovement = getUpdatedLockedMovement(lockedBalance, latestMovement)\n    }\n\n    return {\n      amount: balance,\n      amountNotEffective,\n      latestMovement: convertMovement(acceptedMovements, latestMovement),\n    }\n  }, [\n    acceptedMovements,\n    balance,\n    balanceType,\n    filteredMovements,\n    lockedBalance,\n    movements,\n  ])\n}\n\nfunction useFilteredMovements(movements, acceptedMovements) {\n  return useMemo(() => {\n    if (!movements) {\n      return null\n    }\n    return movements.filter(movement => {\n      return isMovementOf(acceptedMovements, ANJMovement[movement.type])\n    })\n  }, [acceptedMovements, movements])\n}\n\n/**\n * @param {Object} options query options\n * @param {Boolean} options.pause Tells whether to pause query or not\n * @return {Boolean} true if account's first ANJ activation happened on current term\n */\nexport function useJurorFirstTimeANJActivation(options) {\n  const wallet = useWallet()\n  const { currentTermId } = useCourtClock()\n  const firstANJActivation = useFirstANJActivationQuery(wallet.account, options)\n\n  if (!firstANJActivation) return false\n\n  const firstANJActivationTerm = parseInt(\n    firstANJActivation.effectiveTermId,\n    10\n  )\n\n  // Activation is effective on next term from when the activation was performed\n  return firstANJActivationTerm === currentTermId + 1\n}\n\nexport function useJurorLockedANJDistribution() {\n  const {\n    maxRegularAppealRounds,\n    minActiveBalance,\n    penaltyPct,\n  } = useCourtConfig()\n  const { jurorDrafts, anjBalances } = useDashboardState()\n  const { lockedBalance } = anjBalances || {}\n\n  return useMemo(() => {\n    if (!lockedBalance || lockedBalance.eq(0) || !jurorDrafts) return null\n\n    // For final rounds the ANJ at stake is pre-slashed for all jurors when they commit their vote\n    return jurorDrafts\n      .filter(\n        jurorDraft =>\n          !jurorDraft.round.settledPenalties &&\n          jurorDraft.round.number < maxRegularAppealRounds\n      )\n      .reduce((lockDistribution, { weight, round }) => {\n        const { dispute } = round\n\n        // Since the subgraph cannot provide a way to tell how much was locked per draft we calculate it ourselves\n        // See https://github.com/aragon/court-subgraph/blob/7f0fec5c8953e9dbd67e5607fb6da03f69a60f40/src/DisputeManager.ts#L57\n        const lockedAmount = getDraftLockAmount(\n          minActiveBalance,\n          penaltyPct,\n          weight\n        )\n\n        const index = lockDistribution.findIndex(\n          locks => locks.disputeId === dispute.id\n        )\n\n        if (index >= 0) {\n          const elem = lockDistribution[index]\n\n          // Replace with updated amount and weight\n          lockDistribution.splice(index, 1, {\n            ...elem,\n            amount: elem.amount.add(lockedAmount),\n            weight: elem.weight.add(weight),\n          })\n        } else {\n          lockDistribution.push({\n            disputeId: dispute.id,\n            amount: lockedAmount,\n            weight,\n          })\n        }\n\n        return lockDistribution\n      }, [])\n  }, [\n    jurorDrafts,\n    lockedBalance,\n    maxRegularAppealRounds,\n    minActiveBalance,\n    penaltyPct,\n  ])\n}\n","import { dayjs } from '../utils/date-utils'\nimport { useWallet } from '../providers/Wallet'\nimport { useCourtClock } from '../providers/CourtClock'\nimport { useCurrentTermJurorDraftsSubscription } from './subscription-hooks'\n\nexport function useJurorDrafted({ pause }) {\n  const wallet = useWallet()\n  const { currentTermStartDate } = useCourtClock()\n\n  const currnetTermStartTime = dayjs(currentTermStartDate).unix()\n\n  const jurorDrafts = useCurrentTermJurorDraftsSubscription(\n    wallet.account,\n    currnetTermStartTime,\n    pause\n  )\n\n  return jurorDrafts.length > 0\n}\n","import React from 'react'\nimport { animated, useSpring } from 'react-spring'\nimport { GU, Help, LoadingRing, useTheme } from '@aragon/ui'\n\nimport AccountBannerInfo from './AccountBannerInfo'\nimport CircleGraph from '../CircleGraph'\nimport { useCourtConfig } from '../../providers/CourtConfig'\nimport { useTotalActiveBalance } from '../../hooks/useCourtStats'\nimport { useJurorFirstTimeANJActivation } from '../../hooks/useANJ'\n\nimport { ACCOUNT_STATUS_JUROR_ACTIVE } from '../../types/account-status-types'\nimport { getPercentageBN, bigNum } from '../../lib/math-utils'\n\nimport anjSpringIcon from '../../assets/IconANJSpring.svg'\nimport { useJurorDrafted } from '../../hooks/useJurorDrafted'\n\nconst getBannerAttributes = () => {\n  return {\n    icon: anjSpringIcon,\n    title: 'Deprecation warning: Council Tokens',\n    paragraph: `Please do not lose the keys to your Decypher wallet.`,\n  }\n}\n\nfunction AccountBanner({ status, loading, minActiveBalance, activeBalance }) {\n  const theme = useTheme()\n  const { anjToken } = useCourtConfig()\n\n  // check if juror has been drafted in this current term\n  const isJurorDrafted = useJurorDrafted({\n    pause: status !== ACCOUNT_STATUS_JUROR_ACTIVE,\n  })\n\n  // check if it's the first time activating ANJ\n  const isFirstTimeActivating = useJurorFirstTimeANJActivation({\n    pause: isJurorDrafted || status !== ACCOUNT_STATUS_JUROR_ACTIVE,\n  })\n\n  const attributes = getBannerAttributes(\n    status,\n    isJurorDrafted,\n    isFirstTimeActivating,\n    minActiveBalance,\n    anjToken.decimals,\n    theme\n  )\n\n  if (loading) {\n    return <BannerLoadingRing />\n  }\n  if (attributes.showProbability) {\n    return <BannerWithProbability activeBalance={activeBalance} />\n  }\n  const {\n    icon,\n    title,\n    titleColor,\n    paragraph,\n    iconBackground,\n    showTimer,\n  } = attributes\n\n  return (\n    <Wrapper\n      mainIcon={\n        <div\n          css={`\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            background: ${iconBackground};\n            width: ${iconBackground ? 7 * GU + 'px' : 'auto'};\n            border-radius: 50%;\n          `}\n        >\n          <img\n            css={`\n              display: block;\n              margin: 0 auto;\n            `}\n            height={iconBackground ? 3 * GU : 6 * GU}\n            src={icon}\n            alt=\"\"\n          />\n        </div>\n      }\n      information={\n        <AccountBannerInfo\n          title={title}\n          titleColor={titleColor}\n          paragraph={paragraph}\n          showTimer={showTimer}\n        />\n      }\n    />\n  )\n}\n\nconst Wrapper = ({ mainIcon, information }) => {\n  const springProps = useSpring({\n    to: { opacity: 1 },\n    from: { opacity: 0 },\n    delay: 200,\n  })\n\n  return (\n    <animated.div\n      style={springProps}\n      css={`\n        display: flex;\n      `}\n    >\n      <div\n        css={`\n          margin-right: ${1.5 * GU}px;\n        `}\n      >\n        {mainIcon}\n      </div>\n      {information}\n    </animated.div>\n  )\n}\n\nconst BannerWithProbability = ({ activeBalance }) => {\n  const theme = useTheme()\n  const [totalActiveBalanceCurrentTerm] = useTotalActiveBalance()\n\n  const fetchingTotalBalance = totalActiveBalanceCurrentTerm.eq(bigNum(-1))\n  if (fetchingTotalBalance) {\n    return <BannerLoadingRing />\n  }\n\n  // Calculate juror's active balance and total active balance for current term\n  const {\n    amount: activeAmount,\n    amountNotEffective: activeAmountNotEffective,\n  } = activeBalance\n  const activeBalanceCurrentTerm = activeAmount.sub(activeAmountNotEffective)\n  const totalPercentage = getPercentageBN(\n    activeBalanceCurrentTerm,\n    totalActiveBalanceCurrentTerm\n  )\n\n  // Calculate probability (since the total active balance is asynchronous\n  // it can happen that it has not been updated yet when the juror active balance has)\n  const draftingProbability = Math.min(1, totalPercentage / 100)\n  const probablilityTooLow = totalPercentage < 1\n\n  const chances = probablilityTooLow\n    ? '100+'\n    : totalPercentage > 0 && Math.floor(100 / totalPercentage)\n\n  const title = (\n    <div\n      css={`\n        display: flex;\n        align-items: center;\n      `}\n    >\n      <span\n        css={`\n          margin-right: ${1 * GU}px;\n        `}\n      >\n        {'On average, you will be drafted into a jury '}\n        <span\n          css={`\n            color: ${theme.accent};\n          `}\n        >\n          1 in {chances} times\n        </span>\n      </span>\n      <Help hint=\"How is the probability calculated?\">\n        <p>\n          This is a numerical estimate of your likelihood of being selected for\n          arbitration. Its calculated by dividing your active ANJ balance\n          against the Court's total active ANJ balance during the current term.\n        </p>\n        <p\n          css={`\n            margin-top: ${1 * GU}px;\n          `}\n        >\n          {probablilityTooLow\n            ? `\n                You currently have <1% of all activated ANJ, hence are unlikely\n                to be drafted unless a dispute goes to the final round or many\n                disputes are created. Activate more ANJ to increase your chances\n                of being selected as a juror.\n              `\n            : `\n                You can always activate more ANJ to increase your chances of\n                being selected as a juror.\n              `}\n        </p>\n      </Help>\n    </div>\n  )\n\n  const paragraph =\n    'The more ANJ you activate, the more likely you will be drafted to arbitrate a dispute'\n\n  return (\n    <Wrapper\n      mainIcon={<CircleGraph value={draftingProbability} />}\n      information={<AccountBannerInfo title={title} paragraph={paragraph} />}\n    />\n  )\n}\n\nfunction BannerLoadingRing() {\n  return (\n    <div\n      css={`\n        display: flex;\n        align-items: center;\n        height: ${7 * GU}px;\n      `}\n    >\n      <LoadingRing />\n    </div>\n  )\n}\n\nexport default AccountBanner\n","import {\n  ACCOUNT_STATUS_ANONYMUS,\n  ACCOUNT_STATUS_JUROR_ACTIVE,\n  ACCOUNT_STATUS_JUROR_INACTIVE,\n} from '../types/account-status-types'\n\nconst HIGH_PROBABILITY_BASE = 0.1\n\nexport function getAccountStatus(balances, minActiveBalance) {\n  const { activeBalance } = balances\n\n  if (activeBalance.amount.gte(minActiveBalance))\n    return ACCOUNT_STATUS_JUROR_ACTIVE\n\n  if (!isANJHolder(balances)) return ACCOUNT_STATUS_ANONYMUS\n\n  return ACCOUNT_STATUS_JUROR_INACTIVE\n}\n\nfunction isANJHolder(balances) {\n  return Object.values(balances).reduce(\n    (isHolder, balance) => isHolder || balance.amount.gt(0),\n    false\n  )\n}\n\nexport function getProbabilityText(probability) {\n  return probability >= HIGH_PROBABILITY_BASE ? 'High' : 'Low'\n}\n","export function getTotalUnlockedActiveBalance({\n  lockedBalance,\n  activeBalance,\n}) {\n  return activeBalance.amount.sub(lockedBalance.amount)\n}\n\nexport function getTotalLockedANJDistribution({\n  lockedBalance,\n  inactiveBalance,\n}) {\n  if (!lockedBalance.distribution && inactiveBalance.amountNotEffective.eq(0))\n    return null\n\n  return {\n    lockedPerDispute: lockedBalance.distribution,\n    inProcess: inactiveBalance.amountNotEffective,\n  }\n}\n\nexport function getTotalEffectiveInactiveBalance({\n  inactiveBalance,\n  deactivationBalance,\n}) {\n  return inactiveBalance.amount\n    .add(deactivationBalance.amount)\n    .sub(inactiveBalance.amountNotEffective)\n}\n","import React from 'react'\nimport { Box, GU, Split, useLayout, useTheme } from '@aragon/ui'\nimport Profile from './Profile'\nimport Balance from './Balance'\nimport AccountBanner from './AccountBanner'\nimport { useCourtConfig } from '../../providers/CourtConfig'\n\nimport { getAccountStatus } from '../../utils/account-utils'\nimport { useWallet } from '../../providers/Wallet'\nimport {\n  getTotalUnlockedActiveBalance,\n  getTotalLockedANJDistribution,\n  getTotalEffectiveInactiveBalance,\n} from '../../utils/balance-utils'\n\n// TODO: import icons from aragon-ui when available\nimport walletIcon from '../../assets/IconWallet.svg'\nimport inactiveANJIcon from '../../assets/IconANJInactive.svg'\nimport activeANJIcon from '../../assets/IconANJActive.svg'\n\nconst BalanceModule = React.memo(\n  ({\n    balances,\n    loading,\n    onRequestActivate,\n    onRequestDeactivate,\n    onRequestStakeActivate,\n    onRequestWithdraw,\n  }) => {\n    const wallet = useWallet()\n    const theme = useTheme()\n    const { name: layout } = useLayout()\n    const { minActiveBalance } = useCourtConfig()\n\n    const oneColumn = layout === 'small' || layout === 'medium'\n    const status = balances && getAccountStatus(balances, minActiveBalance)\n\n    const { walletBalance, activeBalance, inactiveBalance } = balances || {}\n\n    const lockedBalanceDistribution =\n      balances && getTotalLockedANJDistribution(balances)\n    const unlockedActiveBalance =\n      balances && getTotalUnlockedActiveBalance(balances)\n    const effectiveInactiveBalance =\n      balances && getTotalEffectiveInactiveBalance(balances)\n\n    return (\n      <Split\n        primary={\n          <div\n            css={`\n              display: flex;\n              flex-direction: column;\n              height: 100%;\n            `}\n          >\n            <Box\n              css={`\n                border: 0;\n                background: #fffaf1;\n              `}\n              padding={3 * GU}\n            >\n              <AccountBanner\n                status={status}\n                loading={loading}\n                minActiveBalance={minActiveBalance}\n                activeBalance={activeBalance}\n              />\n            </Box>\n            <div\n              css={`\n                display: ${oneColumn ? 'block' : 'flex'};\n                flex-grow: 1;\n              `}\n            >\n              <Box\n                padding={3 * GU}\n                css={`\n                  flex-basis: 50%;\n                  margin-top: ${2 * GU}px;\n                  margin-right: ${oneColumn ? 0 : `${2 * GU}px`};\n                  border: 0;\n                `}\n              >\n                <Balance\n                  amount={effectiveInactiveBalance}\n                  label=\"Inactive\"\n                  mainIcon={inactiveANJIcon}\n                  mainIconBackground={theme.accent.alpha(0.2)}\n                  actions={[\n                    { label: 'Withdraw', onClick: onRequestWithdraw },\n                    {\n                      label: 'Activate',\n                      mode: 'strong',\n                      onClick: onRequestActivate,\n                    },\n                  ]}\n                  activity={inactiveBalance && inactiveBalance.latestMovement}\n                  loading={loading}\n                />\n              </Box>\n              <Box\n                padding={3 * GU}\n                css={`\n                  flex-basis: 50%;\n                  border: 0;\n                `}\n              >\n                <Balance\n                  amount={unlockedActiveBalance}\n                  label=\"Active\"\n                  mainIcon={activeANJIcon}\n                  mainIconBackground={`linear-gradient(35deg, ${theme.accentStart}  -75%, ${theme.accentEnd} 105%)`}\n                  actions={[\n                    { label: 'Deactivate', onClick: onRequestDeactivate },\n                  ]}\n                  activity={activeBalance && activeBalance.latestMovement}\n                  distribution={lockedBalanceDistribution}\n                  loading={loading}\n                />\n              </Box>\n            </div>\n          </div>\n        }\n        secondary={\n          <Box\n            padding={0}\n            css={`\n              overflow: hidden;\n              border: 0;\n              height: 100%;\n            `}\n          >\n            <Profile status={status} account={wallet.account} />\n            <div\n              css={`\n                padding: ${3 * GU}px;\n                margin-top: ${2 * GU}px;\n              `}\n            >\n              <Balance\n                amount={walletBalance && walletBalance.amount}\n                label=\"My wallet\"\n                mainIcon={walletIcon}\n                mainIconBackground={theme.accent.alpha(0.2)}\n                actions={[\n                  {\n                    label: 'Activate',\n                    mode: 'strong',\n                    onClick: onRequestStakeActivate,\n                  },\n                ]}\n                activity={walletBalance && walletBalance.latestMovement}\n                loading={loading}\n              />\n            </div>\n          </Box>\n        }\n        invert={oneColumn ? 'vertical' : 'horizontal'}\n      />\n    )\n  }\n)\n\nexport default BalanceModule\n","import React from 'react'\nimport { useWallet } from 'use-wallet'\n\nimport MessageCard from '../MessageCard'\nimport { useJurorRewardsEverClaimedQuery } from '../../hooks/query-hooks'\n\nimport iconNoRewardsSvg from '../../assets/IconNoRewards.svg'\n\nfunction NoRewards() {\n  // This component is only rendered when an account is connected so we are safe to assume that the wallet is not empty\n  const wallet = useWallet()\n  const hasJurorEverClaimedRewards = useJurorRewardsEverClaimedQuery(\n    wallet.account\n  )\n\n  const title = 'No LQs yet!'\n  const paragraph = hasJurorEverClaimedRewards\n    ? 'You have either already claimed all your LQs'\n    : 'Or Hal has yet to award you with the LQs'\n\n  return (\n    <MessageCard\n      title={title}\n      paragraph={paragraph}\n      icon={iconNoRewardsSvg}\n      border={false}\n      mode=\"compact\"\n    />\n  )\n}\n\nexport default NoRewards\n","import React, { useCallback, useMemo } from 'react'\nimport {\n  Box,\n  Button,\n  GU,\n  Help,\n  Info,\n  Link,\n  textStyle,\n  useTheme,\n} from '@aragon/ui'\n\nimport Loading from '../Loading'\nimport NoRewards from './NoRewards'\n\nimport { useWallet } from '../../providers/Wallet'\nimport { useCourtConfig } from '../../providers/CourtConfig'\nimport useJurorSubscriptionFees from '../../hooks/useJurorSubscriptionFees'\n\nimport { addressesEqual } from '../../lib/web3-utils'\nimport { bigNum, formatTokenAmount } from '../../lib/math-utils'\n\n// anjRewards => ANJ => First settle with `onSettleReward()`, then withdraw\n// feeRewards => DAI =>  First settle with `onSettleReward()` or `onSettleAppealDeposit()`, then withdraw\n// subscriptions fees => DAI => Can be withdrawn directly from the CourtSubscription contract\n// Only after the rewards are settled can a juror withdraw them from the treasury (`onWithdraw()`)\n// As opposed to fee rewards, subscription fees are directly withdrawn to the juror's wallet when claimed\nconst RewardsModule = React.memo(function RewardsModule({\n  rewards,\n  treasury,\n  loading,\n  onClaimRewards,\n}) {\n  const wallet = useWallet()\n  const { feeToken } = useCourtConfig()\n\n  // Subscriptions are fetched directly from the subscriptions contract\n  const subscriptionFees = useJurorSubscriptionFees()\n  const { anjRewards, feeRewards } = rewards || {}\n\n  const {\n    totalAppealFees,\n    totalArbitrableFees,\n    totalSettledFees,\n    totalSubscriptionFees,\n  } = useTotalFeeRewards(\n    feeRewards?.arbitrableFees,\n    feeRewards?.appealFees,\n    subscriptionFees\n  )\n\n  // We'll get the total juror's balance held in the treasury\n  // TODO: feeToken can change over time, this means jurors could have multiple balances in the treasury (one for each fee token).\n  //       - Handle potential multiple fee token balances\n  const treasuryToken = treasury?.find(({ token }) =>\n    addressesEqual(token.id, feeToken.id)\n  )\n  const treasuryBalance = treasuryToken ? treasuryToken.amount : bigNum(0)\n\n  // Total dispute fees include appeal fees and arbitrable fees (fees paid by the creator of the dispute for the first round\n  // and fees paid by appealers for subsequent rounds)\n  const totalDisputesFees = totalArbitrableFees.add(totalAppealFees)\n\n  // All dispute fees are sent to the treasury after being settled\n  // Note that the total dispute fees could include already settled fees so we must discount them from the total treasury fees\n  const totalTreasuryFees = totalDisputesFees\n    .sub(totalSettledFees)\n    .add(treasuryBalance)\n  const totalFeeRewards = totalTreasuryFees.add(totalSubscriptionFees)\n\n  // Form submission\n  const handleFormSubmit = useCallback(\n    event => {\n      event.preventDefault()\n\n      if (!rewards) return\n\n      onClaimRewards(\n        wallet.account,\n        feeRewards.arbitrableFees,\n        feeRewards.appealFees,\n        totalTreasuryFees,\n        subscriptionFees,\n        feeToken.id\n      )\n    },\n    [\n      feeRewards,\n      feeToken,\n      onClaimRewards,\n      rewards,\n      subscriptionFees,\n      totalTreasuryFees,\n      wallet.account,\n    ]\n  )\n\n  const hasRewardsToClaim = anjRewards?.gt(0) || totalFeeRewards.gt(0)\n  const showHeading = !loading && hasRewardsToClaim\n\n  return (\n    <Box\n      heading={showHeading && 'Rewards'}\n      padding={hasRewardsToClaim ? 0 : 3 * GU}\n    >\n      {(() => {\n        if (loading) {\n          return <Loading height={150} size=\"large\" />\n        }\n\n        if (!hasRewardsToClaim) {\n          return <NoRewards />\n        }\n\n        return (\n          <div>\n            {rewards && anjRewards.gt(0) && <ANJRewards amount={anjRewards} />}\n            {totalFeeRewards.gt(0) && (\n              <FeeSection>\n                <form onSubmit={handleFormSubmit}>\n                  {totalSubscriptionFees.gt(0) && (\n                    <SubscriptionFeeRewards totalFees={totalSubscriptionFees} />\n                  )}\n                  {totalDisputesFees.gt(0) && (\n                    <DisputesFeeRewards\n                      totalAppealFees={totalAppealFees}\n                      totalArbitrableFees={totalArbitrableFees}\n                      distribution={feeRewards.distribution}\n                    />\n                  )}\n                  <TotalFees totalFees={totalFeeRewards} />\n                </form>\n              </FeeSection>\n            )}\n          </div>\n        )\n      })()}\n    </Box>\n  )\n})\n\nconst ANJRewards = ({ amount }) => {\n  const { anjToken } = useCourtConfig()\n\n  const formattedAmount = formatTokenAmount(\n    amount,\n    true,\n    anjToken.decimals,\n    true\n  )\n\n  return (\n    <FeeSection>\n      <RowFee\n        label=\"Ruling fees\"\n        amount={formattedAmount}\n        symbol={anjToken.symbol}\n        showPositive\n        css={`\n          margin-bottom: ${2 * GU}px;\n        `}\n      />\n      <Info>This amount will be sent to your inactive wallet</Info>\n    </FeeSection>\n  )\n}\n\nconst DisputesFeeRewards = ({\n  distribution,\n  totalAppealFees,\n  totalArbitrableFees,\n}) => {\n  const theme = useTheme()\n  const { feeToken } = useCourtConfig()\n  const { symbol, decimals } = feeToken\n\n  // Format total amounts\n  const totalArbitrableFormatted = formatTokenAmount(\n    totalArbitrableFees,\n    true,\n    decimals,\n    true\n  )\n  const totalAppealFormatted = formatTokenAmount(\n    totalAppealFees,\n    true,\n    decimals,\n    true\n  )\n\n  return (\n    <>\n      {totalArbitrableFees.gt(0) && (\n        <RowFee\n          label=\"Dispute fees\"\n          amount={totalArbitrableFormatted}\n          symbol={symbol}\n          showPositive\n          css={`\n            margin-bottom: ${2 * GU}px;\n          `}\n        />\n      )}\n      {totalAppealFees.gt(0) && (\n        <RowFee\n          label=\"Appeal fees\"\n          amount={totalAppealFormatted}\n          symbol={symbol}\n          showPositive\n          css={`\n            margin-bottom: ${2 * GU}px;\n          `}\n        />\n      )}\n      <div\n        css={`\n          display: flex;\n          align-items: center;\n        `}\n      >\n        <span\n          css={`\n            color: ${theme.help};\n            margin-right: ${1 * GU}px;\n          `}\n        >\n          Distribution\n        </span>\n        <Help\n          hint=\"Rewards per dispute\"\n          css={`\n            padding: 0;\n          `}\n        >\n          <DisputesFeeDistribution\n            symbol={symbol}\n            decimals={decimals}\n            distribution={distribution}\n          />\n        </Help>\n      </div>\n    </>\n  )\n}\n\nfunction SubscriptionFeeRewards({ totalFees }) {\n  const { feeToken } = useCourtConfig()\n  const formattedAmount = formatTokenAmount(\n    totalFees,\n    true,\n    feeToken.decimals,\n    true\n  )\n\n  return (\n    <RowFee\n      label=\"Subscriptions\"\n      amount={formattedAmount}\n      symbol={feeToken.symbol}\n      showPositive\n      css={`\n        margin-bottom: ${2 * GU}px;\n      `}\n    />\n  )\n}\n\nfunction TotalFees({ totalFees }) {\n  const theme = useTheme()\n  const { feeToken } = useCourtConfig()\n\n  const { symbol, decimals } = feeToken\n  const totalFeesFormatted = formatTokenAmount(totalFees, true, decimals, true)\n\n  return (\n    <div\n      css={`\n        border-top: 1px solid ${theme.border};\n        margin-top: ${2 * GU}px;\n        padding-top: ${2 * GU}px;\n      `}\n    >\n      <RowFee\n        label=\"Total rewards\"\n        amount={totalFeesFormatted}\n        symbol={symbol}\n        showPositive\n      />\n      <Button\n        mode=\"positive\"\n        type=\"submit\"\n        wide\n        css={`\n          margin-top: ${2 * GU}px;\n        `}\n      >\n        Claim rewards\n      </Button>\n    </div>\n  )\n}\n\nconst DisputesFeeDistribution = ({ distribution, symbol, decimals }) => {\n  const theme = useTheme()\n  return (\n    <div>\n      <h3\n        css={`\n          ${textStyle('label2')};\n          color: ${theme.surfaceContentSecondary};\n          margin-bottom: ${2 * GU}px;\n        `}\n      >\n        Rewards distribution per dispute\n      </h3>\n      {distribution\n        .sort((d1, d2) => d1.disputeId - d2.disputeId)\n        .map(({ disputeId, amount }) => {\n          const formattedAmount = formatTokenAmount(amount, false, decimals)\n\n          return (\n            <RowFee\n              key={disputeId}\n              css={`\n                ${textStyle('body2')};\n                margin-bottom: ${1 * GU}px;\n              `}\n              label={\n                <Link href={`#/disputes/${disputeId}`} external={false}>\n                  {`Dispute #${disputeId}`}\n                </Link>\n              }\n              isLabelLink\n              amount={formattedAmount}\n              symbol={symbol}\n              showPositive={false}\n            />\n          )\n        })}\n    </div>\n  )\n}\n\nconst RowFee = ({\n  label,\n  isLabelLink,\n  amount,\n  symbol,\n  showPositive,\n  ...props\n}) => {\n  const theme = useTheme()\n\n  return (\n    <div\n      css={`\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n\n        &:last-child {\n          margin-bottom: 0;\n        }\n      `}\n      {...props}\n    >\n      {isLabelLink ? label : <span>{label}</span>}\n\n      <span\n        css={`\n          ${showPositive && `color: ${theme.positive}`};\n        `}\n      >\n        {amount} {symbol}\n      </span>\n    </div>\n  )\n}\n\nconst FeeSection = ({ children }) => {\n  const theme = useTheme()\n  return (\n    <div\n      css={`\n        padding: ${3 * GU}px;\n\n        & :not(:last-child) {\n          border-bottom: 1px solid ${theme.border};\n        }\n      `}\n    >\n      {children}\n    </div>\n  )\n}\n\nfunction getTotalFees(fees, key = 'amount') {\n  return Array.isArray(fees)\n    ? fees.reduce((acc, fee) => acc.add(fee[key]), bigNum(0))\n    : bigNum(0)\n}\n\nfunction getTotalSettledFees(arbitrableFees, appealFees) {\n  return [arbitrableFees, appealFees]\n    .map(fees => getTotalFees(fees, 'settledAmount'))\n    .reduce((acc, amount) => acc.add(amount), bigNum(0))\n}\n\nconst useTotalFeeRewards = (\n  arbitrableFees = [],\n  appealFees = [],\n  subscriptionFees = []\n) => {\n  return useMemo(() => {\n    const [totalArbitrableFees, totalAppealFees, totalSubscriptionFees] = [\n      arbitrableFees,\n      appealFees,\n      subscriptionFees,\n    ].map(fees => getTotalFees(fees))\n\n    const totalSettledFees = getTotalSettledFees(arbitrableFees, appealFees)\n\n    return {\n      totalAppealFees,\n      totalArbitrableFees,\n      totalSettledFees,\n      totalSubscriptionFees,\n    }\n  }, [appealFees, arbitrableFees, subscriptionFees])\n}\n\nexport default RewardsModule\n","import { useEffect, useState } from 'react'\nimport { useWallet } from 'use-wallet'\nimport { useCourtConfig } from '../providers/CourtConfig'\nimport { useCourtSubscriptionActions } from './useCourtContracts'\nimport { useDashboardState } from '../components/Dashboard/DashboardStateProvider'\n\nimport { hasJurorClaimed } from '../utils/subscription-utils'\n\nexport default function useJurorSubscriptionFees() {\n  const wallet = useWallet()\n  const { subscriptionModule } = useCourtConfig()\n  const { getters } = useCourtSubscriptionActions()\n  const { claimedSubscriptionFees } = useDashboardState()\n\n  const [subscriptionFees, setSubscriptionFees] = useState([])\n\n  const periods = subscriptionModule?.periods || []\n\n  useEffect(() => {\n    let cancelled = false\n\n    const fetchSubscriptionFees = async () => {\n      if (periods.length === 0 || !getters || !claimedSubscriptionFees) {\n        return\n      }\n\n      try {\n        const jurorSubscriptionsFees = []\n        // Subscription fees can be only claimed for past periods\n        for (let index = 0; index < periods.length - 1; index++) {\n          if (cancelled) {\n            break\n          }\n\n          const period = periods[index]\n          if (period.collectedFees.gt(0)) {\n            const periodId = period.id\n\n            // TODO: See if we can get the juror share directly from the period data\n            const jurorShare = await getters.getJurorShare(\n              wallet.account,\n              periodId\n            )\n\n            // jurorShare is conformed by [address: token, BigNum: shareAmount]\n            if (\n              jurorShare[1].gt(0) &&\n              !hasJurorClaimed(claimedSubscriptionFees, periodId)\n            ) {\n              jurorSubscriptionsFees.push({\n                periodId,\n                amount: jurorShare[1],\n              })\n            }\n          }\n        }\n\n        if (!cancelled) {\n          setSubscriptionFees(jurorSubscriptionsFees)\n        }\n      } catch (err) {\n        console.error(`Error fetching juror subscription fees: ${err}`)\n      }\n    }\n\n    fetchSubscriptionFees()\n\n    return () => {\n      cancelled = true\n    }\n  }, [claimedSubscriptionFees, getters, periods, wallet.account])\n\n  return subscriptionFees\n}\n","import React, { useCallback, useState } from 'react'\nimport {\n  Button,\n  ButtonBase,\n  Field,\n  GU,\n  Info,\n  TextInput,\n  useSidePanelFocusOnReady,\n  useTheme,\n} from '@aragon/ui'\n\nimport { useCourtConfig } from '../../../providers/CourtConfig'\nimport { parseUnits, formatUnits, bigNum } from '../../../lib/math-utils'\n\nconst ANJForm = React.memo(function ANJForm({\n  actionLabel,\n  maxAmount,\n  onDone,\n  onSubmit,\n  runParentValidation,\n}) {\n  const [amount, setAmount] = useState({\n    value: '0',\n    valueBN: bigNum(0),\n    error: null,\n  })\n  const theme = useTheme()\n  const { anjToken } = useCourtConfig()\n  const inputRef = useSidePanelFocusOnReady()\n\n  const handleEditMode = useCallback(\n    editMode => {\n      setAmount(amount => ({\n        ...amount,\n        value: formatUnits(amount.valueBN, {\n          digits: anjToken.decimals,\n          commas: !editMode,\n          replaceZeroBy: editMode ? '' : '0',\n          precision: anjToken.decimals,\n        }),\n      }))\n    },\n    [anjToken.decimals]\n  )\n\n  // Change amount handler\n  const handleAmountChange = useCallback(\n    event => {\n      const newAmount = event.target.value\n      let newAmountBN\n\n      try {\n        newAmountBN = parseUnits(newAmount, anjToken.decimals)\n      } catch (err) {\n        newAmountBN = bigNum(-1)\n      }\n\n      setAmount(amount => ({\n        ...amount,\n        value: newAmount,\n        valueBN: newAmountBN,\n      }))\n    },\n    [anjToken.decimals]\n  )\n\n  // Max value selection handler\n  const handleOnSelectMaxValue = useCallback(() => {\n    setAmount(amount => ({\n      ...amount,\n      value: formatUnits(maxAmount, {\n        digits: anjToken.decimals,\n        precision: anjToken.decimals,\n      }),\n      valueBN: maxAmount,\n    }))\n  }, [anjToken.decimals, maxAmount])\n\n  // Form validation\n  const validateForm = useCallback(() => {\n    if (amount.valueBN.eq(0)) {\n      return 'Amount must not be zero'\n    }\n\n    if (amount.valueBN.eq(-1)) {\n      return 'Wrong amount format'\n    }\n\n    return runParentValidation(amount.valueBN)\n  }, [amount.valueBN, runParentValidation])\n\n  // Form submit\n  const handleSubmit = event => {\n    event.preventDefault()\n\n    const error = validateForm(amount.valueBN)\n    if (error) {\n      setAmount(amount => ({ ...amount, error }))\n      return\n    }\n\n    setAmount(amount => ({ ...amount, error: null }))\n\n    onDone()\n    onSubmit(amount.valueBN)\n  }\n\n  const errorMessage = amount.error\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <Field\n        css={`\n          margin-bottom: ${2 * GU}px;\n        `}\n        label=\"Amount\"\n      >\n        <TextInput\n          name=\"amount\"\n          wide\n          onChange={handleAmountChange}\n          onFocus={() => handleEditMode(true)}\n          onBlur={() => handleEditMode(false)}\n          value={amount.value}\n          ref={inputRef}\n          required\n          adornment={\n            <ButtonBase\n              css={`\n                margin-right: ${1 * GU}px;\n                color: ${theme.accent};\n              `}\n              onClick={handleOnSelectMaxValue}\n            >\n              MAX\n            </ButtonBase>\n          }\n          adornmentPosition=\"end\"\n        />\n      </Field>\n      {errorMessage && (\n        <Info\n          css={`\n            margin-bottom: ${2 * GU}px;\n          `}\n          mode=\"error\"\n        >\n          {errorMessage}\n        </Info>\n      )}\n      <Button\n        css={`\n          margin-bottom: ${1 * GU}px;\n        `}\n        label={actionLabel}\n        mode=\"strong\"\n        type=\"submit\"\n        wide\n      />\n    </form>\n  )\n})\n\nexport default ANJForm\n","import React, { useCallback } from 'react'\nimport ANJForm from './ANJForm'\nimport { formatUnits } from '../../../lib/math-utils'\nimport { useCourtConfig } from '../../../providers/CourtConfig'\n\nconst ActivateANJ = React.memo(function ActivateANJ({\n  onActivateANJ,\n  activeBalance,\n  walletBalance,\n  inactiveBalance,\n  fromWallet,\n  onDone,\n}) {\n  const { anjToken, minActiveBalance } = useCourtConfig()\n  const maxAmount = fromWallet ? walletBalance : inactiveBalance\n\n  const minActiveBalanceFormatted = formatUnits(minActiveBalance, {\n    digits: anjToken.decimals,\n  })\n  const maxAmountFormatted = formatUnits(maxAmount, {\n    digits: anjToken.decimals,\n    precision: anjToken.decimals,\n  })\n\n  const validation = useCallback(\n    amountBN => {\n      if (amountBN.gt(maxAmount)) {\n        return `Insufficient funds, your ${\n          fromWallet\n            ? 'wallet balance is'\n            : 'inactive balance available for activation is'\n        } ${maxAmountFormatted} ${anjToken.symbol} `\n      }\n\n      if (activeBalance.add(amountBN).lt(minActiveBalance)) {\n        return `You must have at least ${minActiveBalanceFormatted} ${anjToken.symbol} activated`\n      }\n\n      return null\n    },\n    [\n      activeBalance,\n      anjToken.symbol,\n      fromWallet,\n      maxAmount,\n      maxAmountFormatted,\n      minActiveBalance,\n      minActiveBalanceFormatted,\n    ]\n  )\n\n  return (\n    <ANJForm\n      actionLabel=\"Activate\"\n      maxAmount={maxAmount}\n      onSubmit={onActivateANJ}\n      onDone={onDone}\n      runParentValidation={validation}\n    />\n  )\n})\n\nexport default ActivateANJ\n","import React, { useCallback } from 'react'\nimport ANJForm from './ANJForm'\nimport { formatUnits } from '../../../lib/math-utils'\nimport { useCourtConfig } from '../../../providers/CourtConfig'\n\nconst WithdrawANJ = React.memo(function WithdrawANJ({\n  onWithdrawANJ,\n  inactiveBalance,\n  onDone,\n}) {\n  const { anjToken } = useCourtConfig()\n\n  const maxAmount = inactiveBalance\n  const maxAmountFormatted = formatUnits(maxAmount, {\n    digits: anjToken.decimals,\n    precision: anjToken.decimals,\n  })\n\n  const validation = useCallback(\n    amountBN => {\n      if (amountBN.gt(maxAmount)) {\n        return `Insufficient funds, you cannnot withdraw more than ${maxAmountFormatted} ${anjToken.symbol}`\n      }\n\n      return null\n    },\n    [anjToken.symbol, maxAmount, maxAmountFormatted]\n  )\n\n  return (\n    <ANJForm\n      actionLabel=\"Withdraw\"\n      maxAmount={maxAmount}\n      onSubmit={onWithdrawANJ}\n      onDone={onDone}\n      runParentValidation={validation}\n    />\n  )\n})\n\nexport default WithdrawANJ\n","import React, { useCallback } from 'react'\nimport ANJForm from './ANJForm'\nimport { formatUnits } from '../../../lib/math-utils'\nimport { useCourtConfig } from '../../../providers/CourtConfig'\n\nconst DeactivateANJ = React.memo(function DeactivateANJ({\n  onDeactivateANJ,\n  activeBalance,\n  onDone,\n}) {\n  const { anjToken, minActiveBalance } = useCourtConfig()\n  const maxAmount = activeBalance\n\n  const minActiveBalanceFormatted = formatUnits(minActiveBalance, {\n    digits: anjToken.decimals,\n  })\n  const maxAmountFormatted = formatUnits(maxAmount, {\n    digits: anjToken.decimals,\n    precision: anjToken.decimals,\n  })\n\n  const validation = useCallback(\n    amountBN => {\n      const activeBalanceAfter = activeBalance.sub(amountBN)\n\n      if (amountBN.gt(maxAmount)) {\n        return `Insufficient funds, you cannnot deactivate more than ${maxAmountFormatted} ${anjToken.symbol}`\n      }\n\n      if (activeBalanceAfter.lt(minActiveBalance) && activeBalanceAfter.gt(0)) {\n        return `Your resulting active balance must be 0 or at least the minimum to be a juror (${minActiveBalanceFormatted} ${anjToken.symbol})`\n      }\n\n      return null\n    },\n    [\n      activeBalance,\n      anjToken.symbol,\n      maxAmount,\n      maxAmountFormatted,\n      minActiveBalance,\n      minActiveBalanceFormatted,\n    ]\n  )\n\n  return (\n    <ANJForm\n      actionLabel=\"Deactivate\"\n      maxAmount={maxAmount}\n      onSubmit={onDeactivateANJ}\n      onDone={onDone}\n      runParentValidation={validation}\n    />\n  )\n})\n\nexport default DeactivateANJ\n","import React from 'react'\nimport { Box, GU, Link, useTheme } from '@aragon/ui'\n\nimport { formatUnits } from '../../lib/math-utils'\nimport { useCourtConfig } from '../../providers/CourtConfig'\nimport iconLock from '../../assets/IconLock.svg'\nimport Loading from '../Loading'\n\nconst AppealColateralModule = React.memo(function AppealColateralModule({\n  appeals,\n  loading,\n}) {\n  const { feeToken } = useCourtConfig()\n  const theme = useTheme()\n\n  if (!loading && !appeals.length) return null\n\n  return (\n    <Box heading={!loading && 'Appeal collateral'} padding={0}>\n      {loading ? (\n        <Loading height={150} size=\"large\" />\n      ) : appeals.length ? (\n        appeals.map(({ amountStaked, disputeId }, index) => (\n          <div\n            key={index}\n            css={`\n              padding: ${3 * GU}px;\n              border-bottom: 1px solid ${theme.border};\n\n              &:last-child {\n                border: 0;\n              }\n            `}\n          >\n            <div\n              css={`\n                margin-bottom: ${1 * GU}px;\n              `}\n            >\n              <img\n                src={iconLock}\n                height=\"14\"\n                alt=\"\"\n                css={`\n                  margin-right: ${1 * GU}px;\n                `}\n              />\n              <span>\n                <span\n                  css={`\n                    color: ${theme.surfaceContentSecondary};\n                    margin-right: ${0.5 * GU}px;\n                  `}\n                >\n                  {formatUnits(amountStaked, { digits: feeToken.decimals })}{' '}\n                  {feeToken.symbol}\n                </span>\n                Staked\n              </span>\n            </div>\n            <div>\n              <Link href={`#/disputes/${disputeId}`} external={false}>\n                Dispute #{disputeId}\n              </Link>\n            </div>\n          </div>\n        ))\n      ) : (\n        <div\n          css={`\n            padding: ${3 * GU}px;\n          `}\n        >\n          No collaterals\n        </div>\n      )}\n    </Box>\n  )\n})\n\nexport default AppealColateralModule\n","import React from 'react'\nimport { Box, GU, textStyle, useTheme } from '@aragon/ui'\nimport Loading from '../Loading'\nimport SplitAmount from '../SplitAmount'\n\nimport { formatUnits } from '../../lib/math-utils'\nimport {\n  useANJAmountToUsd,\n  useTokenAmountToUsd,\n} from '../../hooks/useTokenAmountToUsd'\nimport { useCourtConfig } from '../../providers/CourtConfig'\nimport useCourtStats from '../../hooks/useCourtStats'\n\nfunction CourtStats() {\n  const theme = useTheme()\n  const [stats, fetching] = useCourtStats()\n\n  return (\n    <Box heading=\"Portal Metrics\" padding={3 * GU}>\n      {(() => {\n        if (fetching) {\n          return <Loading height={86} size=\"large\" />\n        }\n        return stats.map((stat, index) => {\n          return (\n            <div\n              key={index}\n              css={`\n                margin-bottom: ${2 * GU}px;\n                &:last-child {\n                  margin-bottom: 0;\n                }\n              `}\n            >\n              <span\n                css={`\n                  ${textStyle('body2')};\n                  color: ${theme.surfaceContentSecondary};\n                  display: block;\n                  margin-bottom: ${1 * GU}px;\n                `}\n              >\n                {stat.label}\n              </span>\n              {stat.token ? (\n                <TokenStats stat={stat} theme={theme} />\n              ) : (\n                <span\n                  css={`\n                    ${textStyle('title2')};\n                    font-weight: 300;\n                  `}\n                >\n                  {!stat.error ? stat.value : '-'}\n                </span>\n              )}\n            </div>\n          )\n        })\n      })()}\n    </Box>\n  )\n}\n\nfunction TokenStats({ stat, theme }) {\n  const { anjToken } = useCourtConfig()\n\n  const { value, token, error } = stat\n  const { decimals, icon, symbol } = token\n  return (\n    <>\n      <div\n        css={`\n          margin-bottom: ${1 * GU}px;\n        `}\n      >\n        <span\n          css={`\n            ${textStyle('title2')};\n            font-weight: 300;\n          `}\n        >\n          {!error ? (\n            <SplitAmount amount={formatUnits(value, { digits: decimals })} />\n          ) : (\n            '-'\n          )}\n        </span>\n        {!error && (\n          <div\n            css={`\n              display: inline-flex;\n            `}\n          >\n            <img\n              css={`\n                margin-right: ${0.5 * GU}px;\n                padding-top: ${0.5 * GU}px;\n              `}\n              height=\"28\"\n              width=\"24\"\n              src={icon}\n            />\n          </div>\n        )}\n      </div>\n      <span\n        css={`\n          ${textStyle('body2')};\n          color: ${theme.positive};\n        `}\n      >\n        $\n        {!error ? (\n          symbol === anjToken.symbol ? (\n            <ANJUsdValue amount={value} />\n          ) : (\n            <TokenUsdValue amount={value} decimals={decimals} symbol={symbol} />\n          )\n        ) : (\n          '-'\n        )}\n      </span>\n    </>\n  )\n}\n\nfunction ANJUsdValue({ amount }) {\n  const usdValue = useANJAmountToUsd(amount)\n  return <span>{usdValue}</span>\n}\n\nfunction TokenUsdValue({ amount, decimals, symbol }) {\n  const usdValue = useTokenAmountToUsd(symbol, decimals, amount)\n  return <span>{usdValue}</span>\n}\n\nexport default CourtStats\n","import { useCallback, useState, useMemo } from 'react'\n\nexport function useSidePanel() {\n  const [visible, setVisible] = useState(false)\n  const [opened, setOpened] = useState(false)\n\n  const requestOpen = useCallback(() => {\n    setVisible(true)\n    setOpened(false)\n  }, [])\n\n  const endTransition = setOpened\n\n  const requestClose = useCallback(() => {\n    setVisible(false)\n    setOpened(false)\n  }, [setVisible, setOpened])\n\n  return useMemo(() => {\n    return {\n      visible,\n      opened,\n      requestOpen,\n      endTransition,\n      requestClose,\n    }\n  }, [endTransition, opened, requestClose, requestOpen, visible])\n}\n","import { useMemo } from 'react'\nimport { useDashboardState } from '../components/Dashboard/DashboardStateProvider'\nimport { useCourtConfig } from '../providers/CourtConfig'\nimport { bigNum } from '../lib/math-utils'\nimport { isJurorCoherent } from '../utils/juror-draft-utils'\nimport {\n  getAppealerFees,\n  shouldAppealerBeRewarded,\n} from '../utils/appeal-utils'\nimport { getRoundFees } from '../utils/dispute-utils'\nimport { useWallet } from '../providers/Wallet'\nimport { useJurorLastWithdrawalTimeSubscription } from './subscription-hooks'\n\nexport default function useJurorRewards() {\n  const courtConfig = useCourtConfig()\n  const wallet = useWallet()\n  const { jurorDrafts, appeals } = useDashboardState()\n  const lastWithdrawalTime = useJurorLastWithdrawalTimeSubscription(\n    wallet.account\n  )\n\n  // For arbitrable and appeal fees we will use a map where map = [disputeId, { amount, rounds }]\n  // Where `rounds` is the array of roundIds of non settled rounds\n  // This is useful as jurors could have rewards from many rounds for the same dispute\n  // which will need to be settled (in case they aren't) before withdrawing them from the treasury\n  return useMemo(() => {\n    if (!jurorDrafts || !appeals || !lastWithdrawalTime) return null\n\n    // Get ruling and disputes fees\n    // Only jurors that voted in consensus with the winning outcome can claim rewards (coherent jurors)\n    // We also include already settled rewards which have not been withdrawn from the treasury yet.\n    const { rulingFees, arbitrableFees } = jurorDrafts\n      .filter(\n        jurorDraft =>\n          jurorDraft.round.settledPenalties &&\n          (!jurorDraft.rewarded ||\n            jurorDraft.rewardedAt > lastWithdrawalTime) &&\n          isJurorCoherent(jurorDraft)\n      )\n      .reduce(\n        ({ rulingFees, arbitrableFees }, { rewarded, round, weight }) => {\n          const { jurorFees, coherentJurors, collectedTokens, dispute } = round\n\n          // Calculate fees\n          const rulingFeesAmount = collectedTokens\n            .mul(weight)\n            .div(coherentJurors)\n\n          const disputeFeesAmount = jurorFees.mul(weight).div(coherentJurors)\n\n          return {\n            rulingFees: rulingFees.add(rulingFeesAmount),\n            arbitrableFees: setOrUpdateFee(\n              arbitrableFees,\n              dispute.id,\n              round.number,\n              disputeFeesAmount,\n              rewarded\n            ),\n          }\n        },\n        { rulingFees: bigNum(0), arbitrableFees: new Map() }\n      )\n\n    // Before settling appeals it's required that the penalties for the round are settled, so we need to filter the ones that aren't\n    // We also need to check that the appealer should be rewarded.\n    const appealFees = appeals\n      .filter(\n        appeal =>\n          appeal.round.settledPenalties &&\n          (!appeal.settled || appeal.settledAt > lastWithdrawalTime) &&\n          shouldAppealerBeRewarded(appeal, wallet.account)\n      )\n      .reduce((appealsFee, appeal) => {\n        const { round, settled } = appeal\n\n        // We need to calculate the totalFees of the next round since this amount will be discounted from the appeal reward for the appealer\n        const nextRoundId = round.number + 1\n        const nextRound = round.dispute.rounds[nextRoundId]\n\n        // It could happen that the appeal is never confirmed. In this case the appealer should get the entire appeal deposit\n        const totalFees = nextRound\n          ? getRoundFees(nextRound, courtConfig)\n          : bigNum(0)\n\n        const appealerFees = getAppealerFees(appeal, totalFees, wallet.account)\n\n        return setOrUpdateFee(\n          appealsFee,\n          round.dispute.id,\n          round.number,\n          appealerFees,\n          settled\n        )\n      }, new Map())\n\n    return {\n      anjRewards: rulingFees,\n      feeRewards: {\n        arbitrableFees: feeMapToArray(arbitrableFees),\n        appealFees: feeMapToArray(appealFees),\n        distribution: getDisputesFeesDistribution(arbitrableFees, appealFees),\n      },\n    }\n  }, [appeals, courtConfig, jurorDrafts, lastWithdrawalTime, wallet])\n}\n\n/**\n * Adds or updates a fee entry on the map\n * @param {Map} feeMap Map contianing fee data\n * @param {Number} disputeId Id of the dispute\n * @param {Number} roundId Id of the round\n * @param {BigNum} feeAmount Amount of fees to add to the entry\n * @param {Boolean} settled True if fees for the given round are settled\n * @returns {Map} Updated map with the new entry or the amount updated\n */\nfunction setOrUpdateFee(\n  feeMap,\n  disputeId,\n  roundId,\n  feeAmount,\n  settled = false\n) {\n  let feeEntry\n\n  if (feeMap.has(disputeId)) {\n    const { amount, rounds, settledAmount } = feeMap.get(disputeId)\n    feeEntry = {\n      amount: amount.add(feeAmount),\n      settledAmount: settled ? settledAmount.add(feeAmount) : settledAmount,\n      rounds: [...rounds, ...(settled ? [] : [roundId])],\n    }\n  } else {\n    feeEntry = {\n      amount: feeAmount,\n      settledAmount: settled ? feeAmount : bigNum(0),\n      rounds: settled ? [] : [roundId],\n    }\n  }\n\n  feeMap.set(disputeId, feeEntry)\n  return feeMap\n}\n\n/**\n * Creates a new array containing the total amount of fees per dispute\n * @param {Map} artbitrableFeesMap Map of arbitrable fees\n * @param {Map} appealFeesMap Map of appeal fees\n * @returns {Array} New array with the total fees for each dispute\n */\n\nfunction getDisputesFeesDistribution(artbitrableFeesMap, appealFeesMap) {\n  const appealFeesMapCopy = new Map([...appealFeesMap])\n\n  const disputeFees = []\n  for (const [disputeId, { amount }] of artbitrableFeesMap.entries()) {\n    let totalFeeAmount = amount\n\n    if (appealFeesMapCopy.has(disputeId)) {\n      const appealFee = appealFeesMap.get(disputeId)\n      totalFeeAmount = totalFeeAmount.add(appealFee.amount)\n      appealFeesMapCopy.delete(disputeId)\n    }\n\n    disputeFees.push({ disputeId, amount: totalFeeAmount })\n  }\n\n  // Add the reaminaing appealing fees in case there wasn't an arbitrable reward in the remaining disputes\n  for (const [disputeId, { amount }] of appealFeesMapCopy.entries()) {\n    disputeFees.push({ disputeId, amount })\n  }\n\n  return disputeFees\n}\n\n/**\n * Converts Map into Array\n * @param {Map} feeMap Map to convert to an array\n * @returns {Array} New array containing map data\n */\nfunction feeMapToArray(feeMap) {\n  const arr = []\n  for (const [disputeId, { rounds, ...feeEntry }] of feeMap) {\n    arr.push({\n      disputeId,\n      ...feeEntry,\n      rounds: rounds.sort(),\n    })\n  }\n\n  return arr\n}\n","import { useCallback, useState } from 'react'\n\nimport { useANJBalances } from './useANJ'\nimport { useSidePanel } from './useSidePanel'\nimport useJurorRewards from './useJurorRewards'\nimport useJurorAppealCollaterals from './useJurorAppealCollaterals'\nimport { useANJActions, useRewardActions } from './useCourtContracts'\nimport { useDashboardState } from '../components/Dashboard/DashboardStateProvider'\n\nexport const REQUEST_MODE = {\n  ACTIVATE: Symbol('ACTIVATE'),\n  DEACTIVATE: Symbol('DEACTIVATE'),\n  STAKE_ACTIVATE: Symbol('STAKE_ACTIVATE'),\n  WITHDRAW: Symbol('WITHDRAW'),\n}\n\nconst stringMapping = {\n  [REQUEST_MODE.ACTIVATE]: 'Activate',\n  [REQUEST_MODE.STAKE_ACTIVATE]: 'Activate',\n  [REQUEST_MODE.DEACTIVATE]: 'Deactivate',\n  [REQUEST_MODE.WITHDRAW]: 'Withdraw',\n}\n\nexport function getRequestModeString(mode) {\n  return stringMapping[mode]\n}\n\nexport function usePanelRequestMode(requestPanelOpen) {\n  const [requestMode, setRequestMode] = useState(REQUEST_MODE.ACTIVATE)\n\n  const updateMode = useCallback(\n    newMode => {\n      setRequestMode(newMode)\n      requestPanelOpen()\n    },\n    [requestPanelOpen]\n  )\n\n  return [requestMode, updateMode]\n}\n\n// Requests to set new mode and open side panel\nexport function usePanelRequestActions(request) {\n  // TODO: Should we implement only one request function to recieve the request mode ?\n  const activateANJ = useCallback(() => {\n    request(REQUEST_MODE.ACTIVATE)\n  }, [request])\n\n  const deactivateANJ = useCallback(() => {\n    request(REQUEST_MODE.DEACTIVATE)\n  }, [request])\n\n  const stakeActivateANJ = useCallback(() => {\n    request(REQUEST_MODE.STAKE_ACTIVATE)\n  }, [request])\n\n  const withdrawANJ = useCallback(() => {\n    request(REQUEST_MODE.WITHDRAW)\n  }, [request])\n\n  return { activateANJ, deactivateANJ, stakeActivateANJ, withdrawANJ }\n}\n\nexport function useDashboardLogic() {\n  const {\n    activateANJ,\n    deactivateANJ,\n    stakeActivateANJ,\n    withdrawANJ,\n  } = useANJActions()\n\n  const rewards = useJurorRewards()\n  const anjBalances = useANJBalances()\n  const panelState = useSidePanel()\n\n  const appealCollaterals = useJurorAppealCollaterals()\n  const {\n    treasury,\n    fetching: fetchingData,\n    errors: errorsFetching,\n  } = useDashboardState()\n\n  const [mode, setMode] = usePanelRequestMode(panelState.requestOpen)\n  const requests = usePanelRequestActions(setMode)\n\n  const { claimRewards } = useRewardActions()\n  const actions = {\n    activateANJ:\n      mode === REQUEST_MODE.STAKE_ACTIVATE ? stakeActivateANJ : activateANJ,\n    deactivateANJ,\n    withdrawANJ,\n    claimRewards,\n  }\n\n  return {\n    actions,\n    anjBalances,\n    appealCollaterals,\n    errorsFetching,\n    fetchingData,\n    mode,\n    panelState,\n    requests,\n    rewards,\n    treasury,\n  }\n}\n","import { useMemo } from 'react'\nimport { bigNum } from '../lib/math-utils'\nimport { useWallet } from '../providers/Wallet'\nimport { addressesEqual } from '../lib/web3-utils'\nimport { useDashboardState } from '../components/Dashboard/DashboardStateProvider'\n\n// Until the penalties aren't settled for the round, the appeal collaterals are still locked in the treasury\nexport default function useJurorAppealCollaterals() {\n  const { appeals } = useDashboardState()\n  const { account } = useWallet()\n\n  return useMemo(() => {\n    if (!appeals) {\n      return null\n    }\n\n    return appeals\n      .filter(appeal => !appeal.round.settledPenalties)\n      .map(({ round, maker, ...appeal }) => {\n        const isMaker = addressesEqual(maker, account)\n\n        return {\n          disputeId: round.dispute.id,\n          amountStaked: bigNum(\n            isMaker ? appeal.appealDeposit : appeal.confirmAppealDeposit\n          ),\n        }\n      })\n  }, [appeals, account])\n}\n","import React from 'react'\nimport { GU, SidePanel, Split, useLayout } from '@aragon/ui'\n\nimport Welcome from './Welcome'\nimport Tasks from '../Tasks/Tasks'\nimport TitleHeader from '../TitleHeader'\nimport ErrorLoading from '../Errors/ErrorLoading'\nimport BalanceModule from './BalanceModule'\nimport RewardsModule from './RewardsModule'\nimport ActivateANJ from './panels/ActivateANJ'\nimport WithdrawANJ from './panels/WithdrawANJ'\nimport DeactivateANJ from './panels/DeactivateANJ'\nimport AppealColateralModule from './AppealColateralModule'\nimport CourtStats from './CourtStats'\n\nimport { useWallet } from '../../providers/Wallet'\nimport { DashboardStateProvider } from './DashboardStateProvider'\nimport {\n  getRequestModeString,\n  useDashboardLogic,\n  REQUEST_MODE,\n} from '../../hooks/dashboard-logic'\nimport {\n  getTotalUnlockedActiveBalance,\n  getTotalEffectiveInactiveBalance,\n} from '../../utils/balance-utils'\n\nfunction Dashboard() {\n  const wallet = useWallet()\n  const {\n    actions,\n    anjBalances,\n    appealCollaterals,\n    errorsFetching,\n    fetchingData,\n    mode,\n    panelState,\n    requests,\n    rewards,\n    treasury,\n  } = useDashboardLogic()\n\n  const { name: layout } = useLayout()\n  const oneColumn = layout === 'small' || layout === 'medium'\n\n  return (\n    <React.Fragment>\n      <TitleHeader title=\"Councillor's Dashboard\" onlyTitle={!wallet.account} />\n      {errorsFetching?.length > 0 ? (\n        <ErrorLoading\n          subject=\"dashboard\"\n          errors={errorsFetching.map(error => error.message)}\n        />\n      ) : (\n        <>\n          {wallet.account ? (\n            <BalanceModule\n              balances={anjBalances}\n              loading={fetchingData}\n              onRequestActivate={requests.activateANJ}\n              onRequestDeactivate={requests.deactivateANJ}\n              onRequestStakeActivate={requests.stakeActivateANJ}\n              onRequestWithdraw={requests.withdrawANJ}\n            />\n          ) : (\n            <Welcome />\n          )}\n\n          {!wallet.account ? (\n            <Split\n              primary={<Tasks onlyTable />}\n              secondary={<CourtStats />}\n              invert=\"horizontal\"\n            />\n          ) : (\n            <Split\n              primary={<Tasks onlyTable />}\n              secondary={\n                <>\n                  <RewardsModule\n                    rewards={rewards}\n                    treasury={treasury}\n                    loading={fetchingData}\n                    onClaimRewards={actions.claimRewards}\n                  />\n                  <AppealColateralModule\n                    appeals={appealCollaterals}\n                    loading={fetchingData}\n                  />\n                </>\n              }\n              invert={oneColumn ? 'vertical' : 'horizontal'}\n            />\n          )}\n        </>\n      )}\n      <SidePanel\n        title={`${getRequestModeString(mode)} ANJ`}\n        opened={panelState.visible}\n        onClose={panelState.requestClose}\n        onTransitionEnd={panelState.endTransition}\n      >\n        <div\n          css={`\n            margin-top: ${2 * GU}px;\n          `}\n        />\n        <PanelComponent\n          mode={mode}\n          actions={actions}\n          balances={anjBalances}\n          onDone={panelState.requestClose}\n        />\n      </SidePanel>\n    </React.Fragment>\n  )\n}\n\nfunction PanelComponent({ mode, actions, balances, ...props }) {\n  const { activateANJ, deactivateANJ, withdrawANJ } = actions\n  const { walletBalance, activeBalance } = balances\n\n  const unlockedActiveBalance = getTotalUnlockedActiveBalance(balances)\n  const effectiveInactiveBalance = getTotalEffectiveInactiveBalance(balances)\n\n  switch (mode) {\n    case REQUEST_MODE.DEACTIVATE:\n      return (\n        <DeactivateANJ\n          activeBalance={unlockedActiveBalance}\n          onDeactivateANJ={deactivateANJ}\n          {...props}\n        />\n      )\n    case REQUEST_MODE.WITHDRAW:\n      return (\n        <WithdrawANJ\n          inactiveBalance={effectiveInactiveBalance}\n          onWithdrawANJ={withdrawANJ}\n          {...props}\n        />\n      )\n    default:\n      return (\n        <ActivateANJ\n          activeBalance={activeBalance.amount}\n          inactiveBalance={effectiveInactiveBalance}\n          walletBalance={walletBalance.amount}\n          onActivateANJ={activateANJ}\n          fromWallet={mode === REQUEST_MODE.STAKE_ACTIVATE}\n          {...props}\n        />\n      )\n  }\n}\n\nexport default function DashboardWithSubscritpion(props) {\n  return (\n    <DashboardStateProvider>\n      <Dashboard {...props} />\n    </DashboardStateProvider>\n  )\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\n// Render a text associated to a dispute.\nconst DisputeText = ({ text, ...props }) => {\n  // If there is no text, the component doesnt render anything.\n  if (!text.trim()) {\n    return null\n  }\n\n  return (\n    <div\n      {...props}\n      css={`\n        // overflow-wrap:anywhere and hyphens:auto are not supported yet by\n        // the latest versions of Webkit / Blink (as of October 2019), which\n        // is why word-break:break-word has been added here.\n        hyphens: auto;\n        overflow-wrap: anywhere;\n        word-break: break-word;\n      `}\n    >\n      <span>{text}</span>\n    </div>\n  )\n}\n\nDisputeText.propTypes = {\n  text: PropTypes.string,\n}\n\nDisputeText.defaultProps = {\n  text: '',\n}\n\nexport default DisputeText\n","import React from 'react'\nimport { useTheme } from '@aragon/ui'\n\nimport { Status } from '../../types/dispute-status-types'\n\nconst getStatusAttributes = (dispute, theme) => {\n  if (dispute.status === Status.Open) {\n    return {\n      label: 'Open',\n      color: '#22B187',\n      background: 'rgba(53, 214, 167, 0.1)',\n    }\n  }\n\n  if (dispute.status === Status.Closed) {\n    return {\n      label: 'Closed',\n      color: theme.content,\n      background: 'rgba(200, 215, 234, 0.4)', // TODO: use theme when available\n    }\n  }\n\n  // Voided dispute\n  return {\n    label: 'VOID',\n    color: theme.accent,\n    background: `linear-gradient(14deg, ${theme.accentStart.alpha(\n      0.3\n    )} 0, ${theme.accentEnd.alpha(0.3)} 88%)`,\n  }\n}\n\nexport default function DisputeStatus({ dispute, ...props }) {\n  const theme = useTheme()\n  const { label, color, background } = getStatusAttributes(dispute, theme)\n\n  return (\n    <span\n      css={`\n        padding: 1px 16px;\n        border-radius: 100px;\n        text-transform: uppercase;\n        font-size: 12px;\n        color: ${color};\n        background: ${background};\n        margin-top: 2px;\n      `}\n      {...props}\n    >\n      {label}\n    </span>\n  )\n}\n","import React, { useMemo } from 'react'\nimport { textStyle, useTheme, IconClose, IconCheck } from '@aragon/ui'\n\nimport { Phase as DisputePhase } from '../../types/dispute-status-types'\nimport {\n  appealRulingToString,\n  finalRulingToString,\n  juryOutcomeToString,\n  OUTCOMES,\n} from '../../utils/crvoting-utils'\n\nfunction DisputeOutcomeText({\n  action,\n  isFinalRuling,\n  outcome,\n  phase,\n  verbose = false,\n}) {\n  const { Icon, color } = useOutcomeStyle(outcome)\n\n  const outcomeText = useMemo(() => {\n    if (isFinalRuling) {\n      return finalRulingToString(outcome)\n    }\n\n    if (\n      phase === DisputePhase.AppealRuling ||\n      phase === DisputePhase.ConfirmAppeal\n    ) {\n      const confirm = phase === DisputePhase.ConfirmAppeal\n      return appealRulingToString(outcome, confirm)\n    }\n\n    return juryOutcomeToString(outcome)\n  }, [isFinalRuling, outcome, phase])\n\n  return (\n    <div>\n      <div\n        css={`\n          color: ${color};\n          display: flex;\n          align-items: center;\n        `}\n      >\n        <Icon size=\"medium\" />\n        <span\n          css={`\n            ${textStyle('body2')}\n          `}\n        >\n          {outcomeText}\n          {verbose && <span>: {action}</span>}\n        </span>\n      </div>\n    </div>\n  )\n}\n\nfunction useOutcomeStyle(outcome) {\n  const theme = useTheme()\n\n  if (!outcome || outcome === OUTCOMES.Refused) {\n    return {\n      Icon: IconClose,\n      color: theme.disabledIcon,\n    }\n  }\n\n  if (outcome === OUTCOMES.Against) {\n    return {\n      Icon: IconClose,\n      color: theme.negative,\n    }\n  }\n\n  if (outcome === OUTCOMES.InFavor) {\n    return {\n      Icon: IconCheck,\n      color: theme.positive,\n    }\n  }\n}\n\nexport default DisputeOutcomeText\n","import React from 'react'\nimport { GU, textStyle, Timer, useTheme } from '@aragon/ui'\n\nimport DisputeOutcomeText from './DisputeOutcomeText'\nimport { convertToString } from '../../types/dispute-status-types'\n\nfunction DisputePhase({ finalRuling, nextTransition, phase }) {\n  const stringPhase = convertToString(phase)\n\n  return (\n    <div\n      css={`\n        flex-direction: column;\n      `}\n    >\n      <div\n        css={`\n          display: flex;\n          align-items: center;\n          margin-bottom: ${3 * GU}px;\n        `}\n      >\n        <div\n          css={`\n            width: 16px;\n            height: 16px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            background: #fef3f1;\n            border-radius: 50%;\n          `}\n        >\n          <div\n            css={`\n              width: 6px;\n              height: 6px;\n              background: linear-gradient(\n                55.75deg,\n                #ffc58f 5.83%,\n                #ff7c7c 96.88%\n              );\n              border-radius: 50%;\n            `}\n          />\n        </div>\n        <span\n          css={`\n            color: #ff8a65;\n            ${textStyle('body2')}\n            weight: 300;\n            margin-left: ${GU}px;\n          `}\n        >\n          {stringPhase}\n        </span>\n      </div>\n\n      {finalRuling ? (\n        <DisputeOutcomeText outcome={finalRuling} isFinalRuling />\n      ) : (\n        <DisplayTime phase={phase} nextTransition={nextTransition} />\n      )}\n    </div>\n  )\n}\n\nfunction DisplayTime({ nextTransition }) {\n  const theme = useTheme()\n\n  if (!nextTransition) {\n    return (\n      <div>\n        <span\n          css={`\n            color: ${theme.surfaceContentSecondary};\n            opacity: 0.6;\n          `}\n        >\n          ANY TIME\n        </span>\n      </div>\n    )\n  }\n  return (\n    <div\n      css={`\n        margin-left: -${0.5 * GU}px;\n        margin-bottom: ${2 * GU}px;\n      `}\n    >\n      <Timer end={new Date(nextTransition)} />\n    </div>\n  )\n}\n\nexport default DisputePhase\n","import React, { useCallback } from 'react'\nimport styled from 'styled-components'\nimport { Card, GU, textStyle, useTheme } from '@aragon/ui'\n\nimport DisputeText from './DisputeText'\nimport DisputeStatus from './DisputeStatus'\nimport DisputePhase from './DisputePhase'\n\nimport { Status } from '../../types/dispute-status-types'\n\nfunction DisputeCard({ dispute, onSelectDispute }) {\n  const theme = useTheme()\n  const {\n    id,\n    description,\n    finalRuling,\n    nextTransition,\n    phase,\n    voidedText,\n  } = dispute\n  const handleClick = useCallback(() => {\n    onSelectDispute(id)\n  }, [id, onSelectDispute])\n\n  return (\n    <CardItem onClick={handleClick}>\n      <div>\n        <DisputeStatus dispute={dispute} />\n      </div>\n      <div\n        css={`\n          align-self: flex-start;\n          & > * {\n            margin-bottom: ${1 * GU}px;\n          }\n        `}\n      >\n        <h3\n          css={`\n            ${textStyle('body1')}\n          `}\n        >\n          <strong> Dispute #{id}</strong>\n        </h3>\n        <DisputeText\n          text={voidedText || description}\n          css={`\n            overflow: hidden;\n            ${textStyle('body2')};\n            color: ${theme.content};\n            line-height: ${27}px; // 27px = line-height of textstyle('body1')\n            height: ${27 * 3}px; // 27px * 3 = line-height * 3 lines\n            display: -webkit-box;\n            -webkit-box-orient: vertical;\n            -webkit-line-clamp: 3;\n          `}\n        />\n        {dispute.status !== Status.Voided && (\n          <DisputePhase\n            finalRuling={finalRuling}\n            nextTransition={nextTransition}\n            phase={phase}\n          />\n        )}\n      </div>\n    </CardItem>\n  )\n}\n\nconst CardItem = styled(Card)`\n  display: grid;\n  grid-template-columns: 100%;\n  grid-template-rows: ${3 * GU}px auto;\n  grid-gap: ${1 * GU}px;\n  padding: ${3 * GU}px;\n  box-shadow: rgba(51, 77, 117, 0.2) 0px 1px 3px;\n  border: 0;\n`\n\nexport default DisputeCard\n","import React from 'react'\nimport { DropDown, DateRangePicker, GU } from '@aragon/ui'\n\nconst DisputeFilters = ({\n  phaseTypes,\n  statusTypes,\n  dateRangeFilter,\n  phaseFilter,\n  statusFilter,\n  onDateRangeChange,\n  onPhaseChange,\n  onStatusChange,\n}) => {\n  return (\n    <div\n      css={`\n        height: ${8 * GU}px;\n        display: grid;\n        grid-template-columns: auto auto 1fr auto;\n        grid-gap: ${1 * GU}px;\n        align-items: center;\n        padding: 0 ${3 * GU}px;\n      `}\n    >\n      <DropDown\n        header=\"Phase\"\n        placeholder=\"Phase\"\n        selected={phaseFilter}\n        onChange={onPhaseChange}\n        items={phaseTypes}\n      />\n      <DropDown\n        header=\"Status\"\n        placeholder=\"Status\"\n        selected={statusFilter}\n        onChange={onStatusChange}\n        items={statusTypes}\n      />\n      <DateRangePicker\n        startDate={dateRangeFilter.start}\n        endDate={dateRangeFilter.end}\n        onChange={onDateRangeChange}\n      />\n    </div>\n  )\n}\n\nexport default DisputeFilters\n","import React from 'react'\n\nimport noResults from '../../assets/noResults.svg'\nimport MessageCard from '../MessageCard'\n\nfunction NoFilterResults({ onClearFilters }) {\n  const title = 'No results found'\n  const paragraph =\n    'We couldnt find any dispute matching your filter selection'\n\n  const link = {\n    text: 'Clear all filters',\n    action: onClearFilters,\n  }\n\n  return (\n    <MessageCard\n      title={title}\n      paragraph={paragraph}\n      icon={noResults}\n      link={link}\n    />\n  )\n}\n\nexport default NoFilterResults\n","import React, { useCallback, useState } from 'react'\nimport { Bar, CardLayout, GU, useLayout, useTheme } from '@aragon/ui'\nimport DisputeCard from './DisputeCard'\nimport DisputeFilters from './DisputeFilters'\nimport DisputesLoading from '../LoadingCard'\nimport ErrorLoading from '../Errors/ErrorLoading'\nimport NoFilterResults from './NoFilterResults'\nimport MessageCard from '../MessageCard'\nimport { dayjs } from '../../utils/date-utils'\nimport * as DisputesTypes from '../../types/dispute-status-types'\n\nimport noDataSvg from '../../assets/noData.svg'\nimport noDraftSvg from '../../assets/noDraft.svg'\n\nconst ALL_FILTER = 0\nconst UNSELECTED_FILTER = -1\nconst INITIAL_DATE_RANGE = { start: null, end: null }\nconst DISPUTES_STATUS_TYPES = [\n  DisputesTypes.Phase.All,\n  DisputesTypes.Status.Open,\n  DisputesTypes.Status.Closed,\n]\nconst DISPUTES_STATUS_STRING = DISPUTES_STATUS_TYPES.map(\n  DisputesTypes.convertToString\n)\n\nconst DISPUTES_PHASE_TYPES = [\n  DisputesTypes.Phase.All,\n  DisputesTypes.Phase.Evidence,\n  DisputesTypes.Phase.JuryDrafting,\n  DisputesTypes.Phase.VotingPeriod,\n  DisputesTypes.Phase.AppealRuling,\n  DisputesTypes.Phase.ConfirmAppeal,\n  DisputesTypes.Phase.ExecuteRuling,\n  DisputesTypes.Phase.ClaimRewards,\n]\nconst DISPUTES_PHASE_STRING = DISPUTES_PHASE_TYPES.map(\n  DisputesTypes.convertToString\n)\n\nconst getFilteredDisputes = ({\n  disputes = [],\n  selectedDateRange,\n  selectedStatus,\n  selectedPhase,\n}) => {\n  return disputes.filter(\n    ({ createdAt, status, phase }) =>\n      (selectedPhase === UNSELECTED_FILTER ||\n        selectedPhase === ALL_FILTER ||\n        phase === DISPUTES_PHASE_TYPES[selectedPhase]) &&\n      (!selectedDateRange.start ||\n        !selectedDateRange.end ||\n        dayjs(createdAt).isBetween(\n          dayjs(selectedDateRange.start).startOf('day'),\n          dayjs(selectedDateRange.end).endOf('day'),\n          '[]'\n        )) &&\n      (selectedStatus === UNSELECTED_FILTER ||\n        selectedStatus === ALL_FILTER ||\n        status === DISPUTES_STATUS_TYPES[selectedStatus])\n  )\n}\n\nfunction DisputeList({\n  disputes,\n  loading,\n  errorLoading,\n  myDisputeSelected,\n  onSelectDispute,\n}) {\n  const [selectedDateRange, setSelectedDateRange] = useState(INITIAL_DATE_RANGE)\n  const [selectedStatus, setSelectedStatus] = useState(UNSELECTED_FILTER)\n  const [selectedPhase, setSelectedPhase] = useState(UNSELECTED_FILTER)\n  const { layoutName } = useLayout()\n  const compactMode = layoutName === 'small'\n\n  const handleSelectedDateRangeChange = range => {\n    setSelectedDateRange(range)\n  }\n  const handlePhaseChange = useCallback(index => {\n    return setSelectedPhase(index)\n  }, [])\n\n  const handleStatusChange = useCallback(\n    index => {\n      setSelectedStatus(index)\n    },\n    [setSelectedStatus]\n  )\n\n  const handleOnClearAllFilters = useCallback(() => {\n    setSelectedDateRange(INITIAL_DATE_RANGE)\n    setSelectedStatus(UNSELECTED_FILTER)\n    setSelectedPhase(UNSELECTED_FILTER)\n  }, [])\n\n  const filteredDisputes = getFilteredDisputes({\n    disputes,\n    selectedDateRange,\n    selectedStatus,\n    selectedPhase,\n  })\n\n  const filtersSelected =\n    selectedDateRange !== INITIAL_DATE_RANGE ||\n    selectedStatus !== UNSELECTED_FILTER ||\n    selectedPhase !== UNSELECTED_FILTER\n\n  return (\n    <div\n      css={`\n        width: 100%;\n        margin-top: ${compactMode ? 0 : -2 * GU}px;\n        padding-bottom: ${3 * GU}px;\n      `}\n    >\n      {!compactMode && (\n        <Bar\n          css={`\n            border-top: 0;\n            border-top-left-radius: 0;\n            border-top-right-radius: 0;\n          `}\n        >\n          <DisputeFilters\n            phaseTypes={DISPUTES_PHASE_STRING}\n            statusTypes={DISPUTES_STATUS_STRING}\n            dateRangeFilter={selectedDateRange}\n            phaseFilter={selectedPhase}\n            statusFilter={selectedStatus}\n            onDateRangeChange={handleSelectedDateRangeChange}\n            onPhaseChange={handlePhaseChange}\n            onStatusChange={handleStatusChange}\n          />\n        </Bar>\n      )}\n\n      {(() => {\n        if (filteredDisputes.length === 0 && filtersSelected)\n          return <NoFilterResults onClearFilters={handleOnClearAllFilters} />\n\n        if (errorLoading) {\n          return (\n            <ErrorLoading subject=\"dispute\" errors={[errorLoading.message]} />\n          )\n        }\n\n        if (loading) {\n          return <DisputesLoading />\n        }\n\n        if (disputes.length === 0) {\n          return myDisputeSelected ? <NoMyDisputes /> : <NoDisputes />\n        }\n\n        return (\n          <CardLayout columnWidthMin={30 * GU} rowHeight={272}>\n            {filteredDisputes.map(dispute => {\n              return (\n                <DisputeCard\n                  key={dispute.id}\n                  dispute={dispute}\n                  onSelectDispute={onSelectDispute}\n                />\n              )\n            })}\n          </CardLayout>\n        )\n      })()}\n    </div>\n  )\n}\n\nconst NoDisputes = () => {\n  const title = 'No Proposals yet!'\n  return <MessageCard title={title} icon={noDataSvg} />\n}\n\nconst NoMyDisputes = () => {\n  const theme = useTheme()\n\n  const title = 'You havent been drafted to vote on a proposal yet'\n  const paragraph = (\n    <span>\n      The more{' '}\n      <span\n        css={`\n          color: ${theme.help};\n        `}\n      >\n        ANJ you activate\n      </span>\n      ,more chances you have to be drafted to arbitrate on-chain proposals\n    </span>\n  )\n\n  return <MessageCard title={title} paragraph={paragraph} icon={noDraftSvg} />\n}\n\nexport default DisputeList\n","import isIPFS from 'is-ipfs'\nimport { defaultIpfsGateway } from '../endpoints'\n\nconst SPLIT_IPFS_REGEX = /(Qm[a-zA-Z0-9]{44})/\nconst TEST_IPFS_REGEX = /(Qm[a-zA-Z0-9]{44})/\n\nconst REQUEST_TIMEOUT = 60000\n\nexport const ipfsGet = async cid => {\n  const endpoint = `${defaultIpfsGateway}/${cid}`\n  try {\n    const result = await fetch(endpoint, { timeout: REQUEST_TIMEOUT })\n    const data = await result.text()\n\n    return { data, error: !result.ok }\n  } catch (err) {\n    console.error(`Error requesting data from IPFS for ${endpoint}`, err)\n    return { error: true }\n  }\n}\n\nexport const getIpfsCidFromUri = string => {\n  const ipfsCid = string.replace(/^ipfs:/, '')\n\n  if (isIPFS.cid(ipfsCid) || isIPFS.cidPath(ipfsCid)) {\n    return ipfsCid\n  }\n  return ''\n}\n\nexport function transformIPFSHash(str, callback) {\n  return str\n    .split(SPLIT_IPFS_REGEX)\n    .map((part, index) => callback(part, TEST_IPFS_REGEX.test(part), index))\n}\n","import { useEffect, useMemo, useState } from 'react'\nimport resolvePathname from 'resolve-pathname'\nimport { IPFS_ENDPOINT } from '../endpoints'\nimport { useCourtClock } from '../providers/CourtClock'\nimport { useCourtConfig } from '../providers/CourtConfig'\nimport {\n  useSingleDisputeSubscription,\n  useDisputesSubscription,\n} from './subscription-hooks'\nimport { getPhaseAndTransition } from '../utils/dispute-utils'\nimport { ipfsGet, getIpfsCidFromUri } from '../lib/ipfs-utils'\nimport { convertToString, Status } from '../types/dispute-status-types'\n\nconst IPFS_ERROR_MSG = 'Error loading content from ipfs'\n\nexport default function useDisputes() {\n  const courtConfig = useCourtConfig()\n  const { currentTermId } = useCourtClock()\n  const { disputes, fetching, error } = useDisputesSubscription()\n\n  const disputesPhases = useMemo(() => {\n    if (!disputes) {\n      return null\n    }\n\n    return disputes.map(d =>\n      getPhaseAndTransition(d, currentTermId, courtConfig)\n    )\n  }, [courtConfig, currentTermId, disputes])\n\n  const disputesPhasesKey = disputesPhases\n    ? disputesPhases.map(v => convertToString(Object.values(v)[0])).join('')\n    : null\n\n  return useMemo(() => {\n    if (error) {\n      return { error }\n    }\n\n    if (fetching) {\n      return { fetching }\n    }\n\n    return {\n      disputes: disputes.map((dispute, i) => {\n        return {\n          ...dispute,\n          ...disputesPhases[i],\n        }\n      }),\n    }\n  }, [disputesPhases, disputes, disputesPhasesKey, error]) // eslint-disable-line react-hooks/exhaustive-deps\n}\n\n/**\n * Hook that processes a single dispute data\n * @param {String} disputeId Id of the dispute\n * @returns {Array} Array conformed by the dispute processed data, fetching indicator and an error object from the graph or an ipfs error in that order\n * (the error also indicates if the error is from the graph since we need to handle in a different way\n * in the dispute detail, the timeline can not be displayed if is a graph error but can if the error is from ipfs)\n */\nexport function useDispute(disputeId) {\n  const courtConfig = useCourtConfig()\n  const { currentTermId } = useCourtClock()\n  const {\n    dispute,\n    fetching: graphFetching,\n    error: graphError,\n  } = useSingleDisputeSubscription(disputeId)\n\n  const processedDispute = useProcessedDispute(dispute)\n  const disputePhase = getPhaseAndTransition(\n    dispute,\n    currentTermId,\n    courtConfig\n  )\n  const disputePhaseKey = disputePhase\n    ? convertToString(Object.values(disputePhase)[0])\n    : ''\n\n  const graphErrorMessage = graphError?.message || ''\n  const disputeErrorMessage = processedDispute?.error || graphErrorMessage\n\n  return useMemo(\n    () => {\n      const fetching = graphFetching || (dispute && !processedDispute)\n\n      return [\n        dispute && processedDispute\n          ? {\n              ...processedDispute,\n              ...disputePhase,\n            }\n          : null,\n        fetching,\n        disputeErrorMessage\n          ? {\n              message: disputeErrorMessage,\n              fromGraph: Boolean(graphErrorMessage),\n            }\n          : null,\n      ]\n    } /* eslint-disable react-hooks/exhaustive-deps */,\n    [\n      disputeErrorMessage,\n      disputePhaseKey,\n      graphErrorMessage,\n      graphFetching,\n      processedDispute,\n    ]\n    /* eslint-enable react-hooks/exhaustive-deps */\n  )\n}\n\nfunction useProcessedDispute(dispute) {\n  const [processedDispute, setProcessedDispute] = useState(null)\n\n  useEffect(() => {\n    let cancelled = false\n\n    const processDisputeData = async () => {\n      if (dispute.status === Status.Voided) {\n        return dispute\n      }\n\n      const disputeData = await getDisputeData(dispute)\n\n      return {\n        ...dispute,\n        ...disputeData,\n        error: disputeData ? null : IPFS_ERROR_MSG,\n      }\n    }\n\n    const processDispute = async () => {\n      if (!dispute) {\n        return\n      }\n\n      const processedDispute = await processDisputeData()\n      if (!cancelled) {\n        setProcessedDispute(processedDispute)\n      }\n    }\n\n    processDispute()\n\n    return () => {\n      cancelled = true\n    }\n  }, [dispute])\n\n  return processedDispute\n}\n\nasync function getDisputeData(dispute) {\n  // Dispute is disputable\n  if (dispute.disputable) {\n    return processDisputableData(dispute)\n  }\n\n  // Dispute is raw dispute\n  return processRawDisputeData(dispute)\n}\n\nasync function processDisputableData(dispute) {\n  const {\n    agreement,\n    defendant,\n    plaintiff,\n    organization,\n    title,\n  } = dispute.disputable\n\n  const agreementIpfsCid = getIpfsCidFromUri(agreement)\n\n  return {\n    agreementText: title,\n    agreementUrl: `${IPFS_ENDPOINT}/${agreementIpfsCid}`,\n    defendant,\n    description: title,\n    organization,\n    plaintiff,\n  }\n}\n\n/**\n * Processes metadata for raw disputes. `metadataUri` contains the IPFS CID which will be fetched and parsed.\n * @param {*} dispute Dispute from which data will be processed.\n * @returns {Object | null} Dispute processed data.\n */\nasync function processRawDisputeData(dispute) {\n  const { description: disputeDescription, metadataUri } = dispute\n\n  if (metadataUri) {\n    const ipfsPath = getIpfsCidFromUri(metadataUri)\n\n    if (ipfsPath) {\n      // Fetch IPFS content\n      const { data, error } = await ipfsGet(ipfsPath)\n      if (!error) {\n        try {\n          // Parse IPFS content\n          const parsedDisputeData = JSON.parse(data)\n          const agreementText = parsedDisputeData.agreementText.replace(\n            /^.\\//,\n            ''\n          )\n          // Note that in this case, we expect the agreement's location to be relative to the\n          // metadata URI. For example, if the metadataUri is `<cid>/metadata.json`, the agreement's\n          // location would be `<cid>/<agreement>`\n          const agreementUrl = agreementText\n            ? resolvePathname(agreementText, `${IPFS_ENDPOINT}/${ipfsPath}`)\n            : ''\n\n          const {\n            agreementTitle = '',\n            defendant = '',\n            description = disputeDescription,\n            disputedActionRadspec = '',\n            disputedActionText = '',\n            disputedActionURL = '',\n            organization = '',\n            plaintiff = '',\n          } = parsedDisputeData\n\n          return {\n            agreementText: agreementTitle || agreementText || '',\n            agreementUrl,\n            defendant,\n            description,\n            disputedActionRadspec,\n            disputedActionText,\n            disputedActionURL,\n            organization,\n            plaintiff,\n          }\n        } catch (err) {\n          return {\n            description: data,\n          }\n        }\n      }\n    }\n  }\n  return null\n}\n","import React, { useCallback, useState } from 'react'\nimport { Tabs, Tag } from '@aragon/ui'\nimport { useHistory } from 'react-router-dom'\n\nimport DisputeList from './DisputeList'\nimport TitleHeader from '../TitleHeader'\nimport useDisputes from '../../hooks/useDisputes'\nimport { useJurorDraftQuery } from '../../hooks/query-hooks'\nimport { useWallet } from '../../providers/Wallet'\n\nfunction Disputes() {\n  const wallet = useWallet()\n  const [screenIndex, setScreenIndex] = useState(0)\n  const {\n    disputes,\n    fetching: disputesFetching,\n    error: errorFetching,\n  } = useDisputes()\n\n  // Query for all dispute ids where the juror has been drafted\n  const jurorDisputeIds = useJurorDraftQuery(wallet.account)\n\n  const jurorDisputes = disputes?.filter(dispute =>\n    jurorDisputeIds.includes(dispute.id)\n  )\n\n  const history = useHistory()\n  const handleSelectDispute = useCallback(\n    id => {\n      history.push(`/disputes/${id}`)\n    },\n    [history]\n  )\n\n  const handleTabChange = screenIndex => {\n    setScreenIndex(screenIndex)\n  }\n\n  return (\n    <>\n      <TitleHeader title=\"Proposals\" />\n      <Tabs\n        items={[\n          <div>\n            <span>All proposals </span>\n            <Tag\n              limitDigits={4}\n              label={disputes ? disputes.length : 0}\n              size=\"small\"\n            />\n          </div>,\n          <div>\n            <span>My proposals </span>\n            <Tag\n              limitDigits={4}\n              label={jurorDisputes ? jurorDisputes.length : 0}\n              size=\"small\"\n            />\n          </div>,\n        ]}\n        selected={screenIndex}\n        onChange={handleTabChange}\n      />\n\n      <DisputeList\n        disputes={screenIndex === 0 ? disputes : jurorDisputes}\n        loading={disputesFetching}\n        errorLoading={errorFetching}\n        myDisputeSelected={screenIndex === 1}\n        onSelectDispute={handleSelectDispute}\n      />\n    </>\n  )\n}\n\nexport default Disputes\n","import React, { useCallback, useEffect, useState } from 'react'\nimport { Button, DropDown, Field, GU, Info, Link } from '@aragon/ui'\nimport { getDisputeLastRound } from '../../../utils/dispute-utils'\nimport {\n  getAppealRulingOptions,\n  appealOptionToString,\n} from '../../../utils/crvoting-utils'\nimport { formatUnits } from '../../../lib/math-utils'\nimport { Phase as DisputePhase } from '../../../types/dispute-status-types'\nimport {\n  useAppealDeposits,\n  useAppealFeeAllowance,\n  useFeeBalanceOf,\n} from '../../../hooks/useCourtContracts'\nimport { useWallet } from '../../../providers/Wallet'\nimport { useCourtConfig } from '../../../providers/CourtConfig'\n\nfunction AppealPanel({\n  confirm,\n  dispute,\n  onAppeal,\n  onApproveFeeDeposit,\n  onDone,\n}) {\n  const { feeToken } = useCourtConfig()\n  const { account: connectedAccount } = useWallet()\n  const [selectedOutcome, setSelectedOutcome] = useState({\n    value: -1,\n    error: null,\n  })\n\n  // get connected account fee balance and  allowance\n  const [feeBalance] = useFeeBalanceOf(connectedAccount)\n  const [feeAllowance] = useAppealFeeAllowance(connectedAccount)\n\n  // get required appeal desposits (appeal and confirm appeal)\n  const [[appealDeposit, confirmAppealDeposit]] = useAppealDeposits(\n    dispute.id,\n    dispute.lastRoundId\n  )\n\n  // If users have the appeal panel open but the phase has already pass\n  // don't let them continue and close it\n  useEffect(() => {\n    if (\n      (confirm && dispute.phase !== DisputePhase.ConfirmAppeal) ||\n      (!confirm && dispute.phase !== DisputePhase.AppealRuling)\n    ) {\n      // close the panel\n      onDone()\n    }\n  }, [confirm, dispute.phase, onDone])\n\n  // Reqiured deposits for appealing and confirming appeal are different\n  const requiredDeposit = confirm ? confirmAppealDeposit : appealDeposit\n\n  const { vote, appeal } = getDisputeLastRound(dispute)\n  const { winningOutcome } = vote || {}\n\n  // If appealing => options are the opossed of the wining outcome\n  // If confirming appeal => options are the opossed of the appealed ruling\n  const appealOptions = getAppealRulingOptions(\n    confirm ? appeal.appealedRuling : winningOutcome\n  )\n\n  const handleOutcomeSelected = useCallback(newOutcome => {\n    setSelectedOutcome({ value: newOutcome })\n  }, [])\n\n  // For submission\n  const handleAppeal = useCallback(\n    event => {\n      event.preventDefault()\n\n      const errored = validateForm(selectedOutcome.value)\n      if (errored) {\n        return\n      }\n\n      const appealOption = appealOptions[selectedOutcome.value]\n\n      // Appeal ruling\n      const disputeId = dispute.id\n      const roundId = dispute.lastRoundId\n      const appealRuling = appealOption.outcome\n\n      onDone()\n      onAppeal(\n        disputeId,\n        roundId,\n        appealRuling,\n        requiredDeposit,\n        feeAllowance,\n        confirm\n      )\n    },\n    [\n      appealOptions,\n      confirm,\n      dispute.id,\n      dispute.lastRoundId,\n      feeAllowance,\n      onAppeal,\n      onDone,\n      requiredDeposit,\n      selectedOutcome.value,\n    ]\n  )\n\n  // check if connected account has the minimum required deposit to be able to appeal\n  const canAppeal = feeBalance.gte(requiredDeposit)\n\n  // Form validation\n  const validateForm = outcome => {\n    if (outcome === -1) {\n      const error = 'You must select an outcome'\n      setSelectedOutcome(outcome => ({ ...outcome, error }))\n      return true\n    }\n\n    return false\n  }\n\n  const actionLabel = confirm ? 'Confirm appeal' : 'Appeal ruling'\n  const errorMessage = selectedOutcome.error\n\n  return (\n    <form onSubmit={handleAppeal}>\n      <Field label=\"Required collateral\">\n        <div\n          css={`\n            display: flex;\n            align-items: center;\n          `}\n        >\n          <img\n            height=\"18\"\n            src={`https://chasing-coins.com/coin/logo/${feeToken.symbol}`}\n            css={`\n              margin-right: ${0.5 * GU}px;\n            `}\n          />\n          <span>\n            {formatUnits(requiredDeposit)} {feeToken.symbol}{' '}\n          </span>\n        </div>\n      </Field>\n      {confirm && appeal && (\n        <Field label=\"Appeal outcome\">\n          {appealOptionToString(appeal.appealedRuling)}\n        </Field>\n      )}\n      <Field label={confirm ? 'Appeal confirmation outcome' : 'Appeal outcome'}>\n        <DropDown\n          items={appealOptions.map(option => option.description)}\n          placeholder=\"Select outcome\"\n          selected={selectedOutcome.value}\n          onChange={handleOutcomeSelected}\n          wide\n          css={`\n            margin-bottom: ${2 * GU}px;\n          `}\n        />\n      </Field>\n      <Button\n        type=\"submit\"\n        mode=\"strong\"\n        wide\n        disabled={!canAppeal}\n        css={`\n          margin-bottom: ${2 * GU}px;\n        `}\n      >\n        {actionLabel}\n      </Button>\n      {!canAppeal && (\n        <Info\n          mode=\"warning\"\n          css={`\n            margin-bottom: ${2 * GU}px;\n          `}\n        >\n          You must hold {formatUnits(requiredDeposit)} {feeToken.symbol} in\n          order to appeal\n        </Info>\n      )}\n      {errorMessage && (\n        <Info\n          mode=\"error\"\n          css={`\n            margin-bottom: ${2 * GU}px;\n          `}\n        >\n          {errorMessage}\n        </Info>\n      )}\n      <Info>\n        Please note that if the final ruling outcome is different from your\n        selected appeal, the entire amount of your collateral could be slashed.{' '}\n        <Link href=\"https://support.dijets.io/article/43-dispute-lifecycle#appeal\">\n          Learn more\n        </Link>\n        .\n      </Info>\n    </form>\n  )\n}\n\nconst Panel = React.memo(function Panel({ dispute, confirm, ...props }) {\n  const { appeal } = getDisputeLastRound(dispute)\n\n  // Cases where a confirm appeal is done, the next round is created (with no appeal) and the panel hasn't closed yet\n  if (confirm && !appeal) {\n    return null\n  }\n\n  return <AppealPanel dispute={dispute} confirm={confirm} {...props} />\n})\n\nexport default Panel\n","import React from 'react'\nimport { Button, GU, Modal, textStyle, useTheme, useViewport } from '@aragon/ui'\n\nimport pcModalSvg from './assets/PCModal.svg'\n\nfunction PrecedenceCampaignModal({ opened, onClose }) {\n  const theme = useTheme()\n  const { below, height, width } = useViewport()\n\n  const verticalMode = width < 125 * GU\n  const compactMode = below('medium')\n\n  const spacing = 5 * GU\n  const modalWidth = Math.min(130 * GU, width - spacing)\n  const modalHeight = verticalMode\n    ? height - spacing\n    : Math.max(90 * GU, Math.min(80 * GU, height - spacing))\n\n  return (\n    <div>\n      <Modal\n        closeButton={false}\n        padding={0}\n        visible={opened}\n        width={modalWidth}\n        css=\"z-index: 4\"\n      >\n        <div\n          css={`\n            display: grid;\n            grid-template-${\n              verticalMode ? 'rows :  1fr 2fr' : 'columns : 1fr 1fr'\n            };\n            height: ${modalHeight}px;\n          `}\n        >\n          {verticalMode ? (\n            <div\n              css={`\n                position: relative;\n              `}\n            >\n              <div\n                css={`\n                  background: url(${pcModalSvg}) 50% 50% / cover no-repeat;\n                  position: absolute;\n                  top: 0;\n                  bottom: 0;\n                  left: 0;\n                  right: 0;\n                `}\n              />\n            </div>\n          ) : (\n            <div\n              css={`\n                display: flex;\n                align-items: flex-end;\n                height: 100%;\n              `}\n            >\n              <img src={pcModalSvg} height={modalHeight * 0.85} />\n            </div>\n          )}\n          <div\n            css={`\n              display: flex;\n              align-items: center;\n              height: 100%;\n            `}\n          >\n            <div\n              css={`\n                text-align: ${verticalMode ? 'center' : 'left'};\n                padding: 0px ${(compactMode ? 3 : 7) * GU}px;\n              `}\n            >\n              <p\n                css={`\n                  ${textStyle('body2')};\n                  color: ${theme.contentSecondary};\n                  text-transform: uppercase;\n                `}\n              >\n                Aragon court\n              </p>\n              <h1\n                css={`\n                  font-size: ${compactMode ? 24 : 40}px;\n                  margin: ${1.5 * GU}px 0;\n                `}\n              >\n                Precedence Campaign Disclaimer\n              </h1>\n              <span\n                css={`\n                  ${textStyle(compactMode ? 'body3' : 'body1')}\n                  line-height: 2;\n                  display: block;\n                `}\n              >\n                All information, arguments, and evidence presented in disputes\n                related to the precedence campaign portray scenarios constructed\n                by Aragon One and do not reflect the views, opinions, or\n                associations of any person or entity.\n              </span>\n              <Button\n                mode=\"strong\"\n                label=\"Ok, I understand\"\n                onClick={onClose}\n                css={`\n                  margin-top: ${2 * GU}px;\n                `}\n              />\n            </div>\n          </div>\n        </div>\n      </Modal>\n    </div>\n  )\n}\n\nexport default PrecedenceCampaignModal\n","import React, { useCallback, useEffect, useState } from 'react'\nimport { Button, GU, useTheme } from '@aragon/ui'\n\nimport Modal from './PrecedenceCampaignModal'\nimport StoredList from '../../../StoredList'\nimport { getNetworkType } from '../../../lib/web3-utils'\n\nconst KEY_PREFIX = 'PCDisputeBannerRead'\n\nconst storedList = new StoredList(`${KEY_PREFIX}:${getNetworkType()}`)\n\nfunction PrecedenceCampaignBanner({ disputeId }) {\n  const theme = useTheme()\n  const [bannerVisible, setBannerVisible] = useState(false)\n  const [modalOpened, setModalOpened] = useState(false)\n\n  const closeBanner = useCallback(() => {\n    storedList.add(disputeId)\n    setBannerVisible(false)\n  }, [disputeId])\n\n  const openModal = useCallback(() => setModalOpened(true), [])\n  const markRead = useCallback(() => {\n    closeBanner()\n    setModalOpened(false)\n  }, [closeBanner])\n\n  useEffect(() => {\n    if (!storedList.has(pcDisputeId => pcDisputeId === disputeId)) {\n      setBannerVisible(true)\n    }\n  }, [disputeId])\n\n  if (!bannerVisible) return null\n\n  return (\n    <>\n      <div\n        css={`\n          height: ${7 * GU}px;\n        `}\n      >\n        <div\n          css={`\n            background: linear-gradient(\n              180deg,\n              ${theme.blue.alpha(0.9)} 0%,\n              ${theme.blue.alpha(0.8)} 100%\n            );\n            box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.25);\n            padding: ${1 * GU}px ${2 * GU}px;\n            position: absolute;\n            left: 0;\n            right: 0;\n          `}\n        >\n          <div\n            css={`\n              display: flex;\n              align-items: center;\n              flex-direction: column;\n            `}\n          >\n            <div>\n              <span\n                css={`\n                  color: ${theme.accentContent};\n                  margin-right: ${3 * GU}px;\n                `}\n              >\n                Precedence campaign disclaimer information\n              </span>\n              <Button label=\"Read now\" onClick={openModal} />\n            </div>\n          </div>\n        </div>\n      </div>\n      <Modal opened={modalOpened} onClose={markRead} />\n    </>\n  )\n}\n\nexport default PrecedenceCampaignBanner\n","import React, { useCallback, useRef, useState } from 'react'\nimport {\n  Button,\n  GU,\n  IconCopy,\n  IconDownload,\n  Info,\n  Link,\n  Switch,\n  TextInput,\n  textStyle,\n  useToast,\n  useTheme,\n} from '@aragon/ui'\nimport useOneTimeCode from '../../../hooks/useOneTimeCode'\nimport { useWallet } from '../../../providers/Wallet'\nimport IconOneTimeCode from '../../../assets/IconOneTimeCode.svg'\nimport {\n  getVoteId,\n  saveAutoRevealPreference,\n} from '../../../utils/crvoting-utils'\n\nconst CommitPanel = React.memo(function CommitPanel({\n  dispute,\n  onCommit,\n  onDone,\n  outcome,\n}) {\n  const [codeSaved, setCodeSaved] = useState(false)\n  const [codeCopied, setCodeCopied] = useState(false)\n  const [revealService, setRevealService] = useState(true)\n  const { account: connectedAccount } = useWallet()\n  const { oneTimeCode, download } = useOneTimeCode()\n  const toast = useToast()\n\n  const handleCommit = useCallback(\n    event => {\n      event.preventDefault()\n      saveAutoRevealPreference(\n        connectedAccount,\n        getVoteId(dispute.id, dispute.lastRoundId),\n        revealService\n      )\n\n      onDone()\n      return onCommit(\n        connectedAccount,\n        dispute.id,\n        dispute.lastRoundId,\n        outcome,\n        oneTimeCode,\n        revealService\n      )\n    },\n    [\n      connectedAccount,\n      dispute.id,\n      dispute.lastRoundId,\n      onCommit,\n      onDone,\n      oneTimeCode,\n      outcome,\n      revealService,\n    ]\n  )\n\n  const handleDownloadCode = useCallback(() => {\n    download()\n    setCodeSaved(true)\n  }, [download])\n\n  const handleCopyCode = useCallback(() => {\n    setCodeCopied(true)\n    toast('One-time-use code copied')\n  }, [toast])\n\n  const handleRevealService = useCallback(\n    checked => {\n      setRevealService(checked)\n      toast(\n        checked\n          ? 'Court auto-reveal service enabled'\n          : 'Court auto-reveal service disabled'\n      )\n    },\n    [toast]\n  )\n\n  return (\n    <form onSubmit={handleCommit}>\n      <OneTimeCode\n        code={oneTimeCode}\n        onDownload={handleDownloadCode}\n        onCopy={handleCopyCode}\n      />\n      <RevealService\n        onRevealServiceChange={handleRevealService}\n        revealService={revealService}\n      />\n      <InfoSection\n        commitEndTime={dispute.nextTransition}\n        copiedOrSaved={codeCopied || codeSaved}\n        revealService={revealService}\n      />\n      <Button\n        css={`\n          margin-top: ${2 * GU}px;\n        `}\n        disabled={!(codeSaved || codeCopied)}\n        onClick={handleCommit}\n        type=\"submit\"\n        mode=\"strong\"\n        wide\n      >\n        Commit your vote\n      </Button>\n    </form>\n  )\n})\n\nconst OneTimeCode = React.memo(function OneTimeCode({\n  code,\n  onDownload,\n  onCopy,\n}) {\n  const theme = useTheme()\n  const inputRef = useRef(null)\n\n  const handleInputFocus = useCallback(event => event.target.select(), [])\n\n  const handleCopy = useCallback(() => {\n    if (inputRef.current) {\n      inputRef.current.focus()\n\n      try {\n        document.execCommand('copy')\n        onCopy()\n      } catch (err) {\n        console.error('Error copying the one-time-use code')\n      }\n    }\n  }, [onCopy])\n\n  return (\n    <React.Fragment>\n      <div\n        css={`\n          display: flex;\n        `}\n      >\n        <img height={6 * GU} src={IconOneTimeCode} alt=\"\" />\n        <div\n          css={`\n            margin-left: ${2 * GU}px;\n          `}\n        >\n          <h2\n            css={`\n              display: block;\n              ${textStyle('body2')};\n              font-weight: 600;\n            `}\n          >\n            One-time-use code\n          </h2>\n          <span\n            css={`\n              display: block;\n              ${textStyle('body2')};\n              margin-top: ${1 * GU}px;\n            `}\n          >\n            Please save the code displayed below for maximum security.\n          </span>\n        </div>\n      </div>\n      <div\n        css={`\n          margin-top: ${2 * GU}px;\n        `}\n      >\n        <TextInput\n          ref={inputRef}\n          onFocus={handleInputFocus}\n          multiline\n          readOnly\n          value={code}\n          wide\n          css={`\n            height: ${10 * GU}px;\n            padding: ${1.5 * GU}px ${2 * GU}px;\n            ${textStyle('body1')};\n            font-weight: 600;\n            resize: none;\n            &:read-only {\n              color: ${theme.accent};\n            }\n          `}\n        />\n      </div>\n      <div\n        css={`\n          margin-top: ${2 * GU}px;\n          display: flex;\n        `}\n      >\n        <Button\n          css={`\n            margin-right: ${2 * GU}px;\n            flex-grow: 1;\n          `}\n          onClick={onDownload}\n          icon={<IconDownload />}\n          label=\"Download\"\n        />\n        <Button\n          css={`\n            flex-grow: 1;\n          `}\n          onClick={handleCopy}\n          icon={<IconCopy />}\n          label=\"Copy\"\n        />\n      </div>\n    </React.Fragment>\n  )\n})\n\nconst RevealService = React.memo(function RevealService({\n  onRevealServiceChange,\n  revealService,\n}) {\n  return (\n    <React.Fragment>\n      <div\n        css={`\n          display: flex;\n          margin-top: ${4 * GU}px;\n          align-items: center;\n        `}\n      >\n        <Switch checked={revealService} onChange={onRevealServiceChange} />\n        <span\n          css={`\n            margin-left: ${2 * GU}px;\n            ${textStyle('body1')};\n          `}\n        >\n          Auto-reveal service.\n        </span>\n      </div>\n      <div\n        css={`\n          margin-top: ${1 * GU}px;\n          ${textStyle('body2')};\n        `}\n      >\n        By enabling this feature you trust Aragon One to reveal your vote on\n        your behalf in this and following disputes. You can always turn off this\n        service later if you choose.\n        <Link href=\"https://support.dijets.io/article/43-dispute-lifecycle#onetime\">\n          Learn more\n        </Link>\n        .\n      </div>\n    </React.Fragment>\n  )\n})\n\nconst InfoSection = React.memo(function InfoSection({ revealService }) {\n  const content = revealService\n    ? `As a safety measure, you must copy or download this code before you can\n       commit your vote. This code is valid for revealing your vote for this\n       dispute only. You wont be required to enter this code unless a problem\n       occurs with our services.`\n    : `You must copy or download this code before you can commit your vote. You\n       will later be asked to provide this same code to reveal your vote.\n       Failure to provide the correct code will result in a monetary penalty to\n       your account.`\n\n  return (\n    <Info\n      css={`\n        margin-top: ${2 * GU}px;\n      `}\n      title={!revealService && 'Action requirement'}\n      mode={revealService ? 'info' : 'warning'}\n    >\n      {content}\n    </Info>\n  )\n})\n\nexport default CommitPanel\n","import { useCallback, useState } from 'react'\nimport { saveAs } from 'file-saver'\nimport { generateRandomNumber } from '../lib/math-utils'\nimport { dateFormat } from '../utils/date-utils'\n\nexport default function useOneTimeCode() {\n  const [code] = useState(generateRandomNumber)\n\n  const download = useCallback(() => {\n    const today = dateFormat(Date.now(), 'iso')\n    const blob = new Blob([JSON.stringify(code)])\n    saveAs(blob, `court-commit-code_${today}.json`)\n  }, [code])\n\n  return { oneTimeCode: code, download }\n}\n","export const ERROR_TYPES = {\n  ERROR_FETCHING_IPFS: Symbol('Error fetching ipfs content'),\n  ERROR_UNKNOWN_METADATA_TYPE: Symbol('Unknown evidence metadata type'),\n}\n","import React from 'react'\nimport { GU, textStyle, useTheme } from '@aragon/ui'\n\nimport errorLoadingSvg from '../../assets/errorLoading.svg'\n\nexport default function ErrorLoadingEvidence() {\n  const theme = useTheme()\n  return (\n    <div\n      css={`\n        width: 100%;\n        height: ${55 * GU}px;\n        display: flex;\n        align-items: center;\n      `}\n    >\n      <div\n        css={`\n          margin: ${5 * GU}px auto;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n        `}\n      >\n        <img\n          src={errorLoadingSvg}\n          alt=\"\"\n          css={`\n            display: block;\n            width: 100%;\n            max-width: ${30 * GU}px;\n            height: auto;\n            margin: ${4 * GU}px 0;\n          `}\n        />\n\n        <span\n          css={`\n            ${textStyle('title2')}\n          `}\n        >\n          Oops, we couldnt load this piece of evidence\n        </span>\n        <div\n          css={`\n                ${textStyle('body2')}\n                color: ${theme.contentSecondary};\n                margin-top: ${1.5 * GU}px;\n                width: ${55 * GU}px;\n                display: flex;\n                text-align: center; \n              `}\n        >\n          <span>Something went wrong! Please try refreshing this page.</span>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\nimport remark from 'remark'\nimport remark2react from 'remark-react'\nimport { Link, GU, textStyle, useTheme } from '@aragon/ui'\n\nconst Markdown = React.memo(({ text }) => {\n  const theme = useTheme()\n\n  return (\n    <Wrapper theme={theme}>\n      {\n        /* eslint-disable react/prop-types */\n        remark()\n          .use(remark2react, {\n            remarkReactComponents: {\n              a: ({ children, ...props }) => {\n                return (\n                  <Link href={props.href} external>\n                    {children}\n                  </Link>\n                )\n              },\n            },\n          })\n          .processSync(text).contents\n        /* eslint-enable react/prop-types */\n      }\n    </Wrapper>\n  )\n})\n\nMarkdown.propTypes = {\n  text: PropTypes.string,\n}\n\nMarkdown.defaultProps = {\n  text: '',\n}\n\nconst Wrapper = styled.section`\n  margin-top: ${1 * GU}px;\n  padding-right: ${1 * GU}px;\n  h2,\n  h3,\n  h4 {\n    font-weight: bold;\n    margin-top: ${3 * GU}px;\n    ${textStyle('title4')};\n  }\n  p,\n  li {\n    margin: ${3 * GU}px 0px ${1 * GU}px;\n  }\n  ul {\n    margin: ${1 * GU}px ${2 * GU}px;\n    list-style: none;\n  }\n  ul li::before {\n    content: '';\n    color: ${({ theme }) => theme.accent};\n    font-weight: bold;\n    display: inline-block;\n    width: 1em;\n    margin-left: -1em;\n  }\n`\n\nexport default Markdown\n","import React from 'react'\nimport { Accordion, GU, SyncIndicator, textStyle, useTheme } from '@aragon/ui'\nimport { useWallet } from 'use-wallet'\nimport useEvidences from '../../hooks/useEvidences'\nimport { addressesEqual } from '../../lib/web3-utils'\nimport ErrorLoadingEvidence from './ErrorLoadingEvidence'\nimport IdentityBadge from '../IdentityBadge'\nimport Markdown from '../Markdown'\nimport { dateFormat } from '../../utils/date-utils'\n\nimport folderIcon from '../../assets/folderIcon.svg'\n\nconst DisputeEvidences = React.memo(function DisputeEvidences({\n  defendant,\n  evidences,\n  loading,\n  plaintiff,\n}) {\n  return (\n    <React.Fragment>\n      <SyncIndicator visible={loading} label=\"Loading evidences\" />\n      {evidences &&\n        evidences.map((evidence, index) => {\n          const { createdAt, submitter, metadata, error } = evidence\n          return (\n            <Accordion\n              key={index}\n              items={[\n                [\n                  <div\n                    css={`\n                      display: flex;\n                      align-items: center;\n                    `}\n                  >\n                    <img src={folderIcon} width=\"17\" height=\"20\" alt=\"\" />\n                    <span\n                      css={`\n                        margin-left: ${1.5 * GU}px;\n                      `}\n                    >\n                      Argument #{index + 1}\n                    </span>\n                  </div>,\n                  <EvidenceContent\n                    createdAt={createdAt}\n                    error={error}\n                    metadata={metadata}\n                    submitter={submitter}\n                    submitterLabel={getSubmitterLabel(\n                      submitter,\n                      defendant,\n                      plaintiff\n                    )}\n                  />,\n                ],\n              ]}\n            />\n          )\n        })}\n    </React.Fragment>\n  )\n})\n\nconst EvidenceContent = React.memo(function EvidenceContent({\n  createdAt,\n  error,\n  metadata,\n  submitter,\n  submitterLabel,\n}) {\n  const theme = useTheme()\n  const wallet = useWallet()\n\n  if (error) {\n    return <ErrorLoadingEvidence />\n  }\n  return (\n    <div\n      css={`\n        margin-bottom: ${2 * GU}px;\n        padding: ${3 * GU}px ${8 * GU - 3}px;\n      `}\n    >\n      <div\n        css={`\n          display: grid;\n          grid-template-columns: 150px minmax(180px, auto);\n          grid-gap: ${5 * GU}px;\n          margin-bottom: ${5 * GU}px;\n        `}\n      >\n        <div>\n          <h2\n            css={`\n              ${textStyle('label2')};\n              color: ${theme.surfaceContentSecondary};\n              margin-bottom: ${2 * GU}px;\n            `}\n          >\n            Submitted by\n          </h2>\n          <div\n            css={`\n              display: flex;\n              align-items: flex-start;\n            `}\n          >\n            <IdentityBadge\n              connectedAccount={addressesEqual(submitter, wallet.account)}\n              entity={submitter}\n              label={submitterLabel}\n            />\n          </div>\n        </div>\n        <div>\n          <h2\n            css={`\n              ${textStyle('label2')};\n              color: ${theme.surfaceContentSecondary};\n              margin-bottom: ${2 * GU}px;\n            `}\n          >\n            Date\n          </h2>\n          <span\n            css={`\n              ${textStyle('body2')};\n            `}\n          >\n            {dateFormat(createdAt, 'onlyDate')}\n          </span>\n        </div>\n      </div>\n      <div>\n        <h2\n          css={`\n            ${textStyle('label2')};\n            color: ${theme.surfaceContentSecondary};\n            margin-bottom: ${2 * GU}px;\n          `}\n        >\n          Data\n        </h2>\n        <div\n          css={`\n            display: flex;\n            align-items: flex-start;\n          `}\n        >\n          <Markdown text={metadata} />\n        </div>\n      </div>\n    </div>\n  )\n})\n\nfunction getSubmitterLabel(submitter, defendant, plaintiff) {\n  if (addressesEqual(submitter, defendant)) {\n    return 'Defendant'\n  }\n\n  if (addressesEqual(submitter, plaintiff)) {\n    return 'Plaintiff'\n  }\n\n  return ''\n}\n\nexport default function Evidences({ dispute, evidences }) {\n  // This hook ensures us that evidenceProcessed won't be updated unless there are new evidences.\n  const [evidenceProcessed, fetchingEvidences] = useEvidences(\n    dispute,\n    evidences\n  )\n\n  return (\n    <DisputeEvidences\n      defendant={dispute.defendant}\n      evidences={evidenceProcessed}\n      loading={fetchingEvidences}\n      plaintiff={dispute.plaintiff}\n    />\n  )\n}\n","import { useCallback, useEffect, useRef, useState } from 'react'\nimport { ipfsGet, getIpfsCidFromUri } from '../lib/ipfs-utils'\nimport { ERROR_TYPES } from '../types/evidences-status-types'\n\nexport default function useEvidences(dispute, rawEvidences) {\n  // Contains valid evidences + errored evidences\n  const [evidences, setEvidences] = useState([])\n  const [fetchingEvidences, setFetchingEvidences] = useState(true)\n\n  // Contains valid evidences only\n  const evidencesCache = useRef(new Map())\n\n  // Fetch an evidence data from IPFS if needed, prepares the evidence object,\n  // and cache it if valid. If invalid, returns an errored evidence object.\n  const fetchEvidence = useCallback(async rawEvidence => {\n    const { id, data: uriOrData, submitter, createdAt } = rawEvidence\n\n    if (evidencesCache.current.has(id)) {\n      return evidencesCache.current.get(id)\n    }\n\n    const baseEvidence = {\n      id,\n      rawMetadata: uriOrData,\n      metadata: null,\n      defendant: '',\n      agreementText: '',\n      submitter,\n      createdAt,\n      error: false,\n    }\n\n    const cid = getIpfsCidFromUri(uriOrData)\n\n    // Not an IPFS URI\n    if (!cid) {\n      evidencesCache.current.set(id, { ...baseEvidence, metadata: uriOrData })\n      return evidencesCache.current.get(id)\n    }\n\n    const { data, error } = await ipfsGet(cid)\n\n    if (error) {\n      return { ...baseEvidence, error: ERROR_TYPES.ERROR_FETCHING_IPFS }\n    }\n\n    const evidenceProcessed = {\n      ...baseEvidence,\n      metadata: data,\n    }\n    evidencesCache.current.set(id, evidenceProcessed)\n\n    return evidenceProcessed\n  }, [])\n\n  useEffect(() => {\n    let cancelled = false\n\n    const updateEvidences = async () => {\n      await Promise.all(\n        rawEvidences.map(async rawEvidence => {\n          const evidence = await fetchEvidence(rawEvidence)\n          if (\n            cancelled ||\n            // First evidence submitted by defendant is treated as the dispute description\n            evidence.rawMetadata === dispute.disputable?.actionContext\n          ) {\n            return\n          }\n          setEvidences(() => {\n            // already there\n            if (\n              evidences.findIndex(_evidence => _evidence.id === evidence.id) >\n              -1\n            ) {\n              return evidences\n            }\n\n            return [...evidences, evidence].sort(\n              (evidenceA, evidenceB) =>\n                evidenceA.createdAt - evidenceB.createdAt\n            )\n          })\n        })\n      )\n      setFetchingEvidences(false)\n    }\n\n    updateEvidences()\n\n    return () => {\n      cancelled = true\n    }\n  }, [dispute.disputable, evidences, fetchEvidence, rawEvidences])\n\n  return [evidences, fetchingEvidences]\n}\n","import React, { useCallback } from 'react'\nimport { Button, GU, Info, Link } from '@aragon/ui'\nimport { useWallet } from '../../../providers/Wallet'\n\nfunction DisputeAppeal({ onRequestAppeal, confirm }) {\n  const wallet = useWallet()\n\n  const actionLabel = confirm ? 'Confirm appeal' : 'Appeal Ruling'\n\n  const handleRequestAppeal = useCallback(() => {\n    onRequestAppeal(confirm)\n  }, [confirm, onRequestAppeal])\n\n  return (\n    <div>\n      <Button\n        wide\n        mode=\"strong\"\n        onClick={handleRequestAppeal}\n        css={`\n          margin-bottom: ${1.5 * GU}px;\n        `}\n        disabled={!wallet.account}\n      >\n        {actionLabel}\n      </Button>\n      <Info>\n        <strong>Anyone</strong> can{' '}\n        <strong>\n          lock DAI as collateral to{' '}\n          {confirm ? 'confirm an appeal' : 'initiate an appeal'}{' '}\n        </strong>\n        if they believe the{' '}\n        {confirm ? 'ruling appealed for' : 'current outcome'} is incorrect. When\n        the final ruling is confirmed, the user who{' '}\n        {confirm ? 'confirmed the appeal' : 'appealed'} gets rewarded if the\n        ruling has switched in their favor. If not, their entire collateral\n        could be re-distributed to the winning party. {confirm ? 'When' : 'If'}{' '}\n        an appeal is confirmed, a new adjudication round is initiated and a new\n        jury is drafted.{' '}\n        <Link href=\"https://support.dijets.io/article/43-dispute-lifecycle#appeal\">\n          Learn more\n        </Link>\n        .\n      </Info>\n    </div>\n  )\n}\n\nexport default DisputeAppeal\n","import React, { useCallback, useEffect, useState } from 'react'\nimport { Button, GU, Info } from '@aragon/ui'\nimport { useWallet } from '../../providers/Wallet'\n\nimport { getAutoRevealRequest } from '../../services/autoReveal'\nimport {\n  getAutoRevealPreference,\n  getCodeFromLocalStorage,\n  getOutcomeFromCommitment,\n  getVoteId,\n} from '../../utils/crvoting-utils'\n\nfunction DisputeAutoReveal({ commitment, disputeId, onAutoReveal, roundId }) {\n  const { account } = useWallet()\n\n  // We need to poll for the auto reveal request as we are using the request queue processor for processing juror's request to re-register\n  // to the service and since the request flow is asynchronous, we can't ensure whether it was succesful or not.\n  const [autoRevealRequested, loading] = useAutoRevealPolling(\n    account,\n    disputeId,\n    roundId\n  )\n\n  if (loading) {\n    return null\n  }\n\n  // Juror already requested the auto reveal service for this dispute\n  if (autoRevealRequested) {\n    return <Info>Auto reveal requested!</Info>\n  }\n\n  // Juror requested the auto reveal service and failed or juror didn't request the service at all.\n  // For the later case it's still useful to give the juror the option to do so.\n  return (\n    <RequestAutoReveal\n      commitment={commitment}\n      disputeId={disputeId}\n      onAutoReveal={onAutoReveal}\n      roundId={roundId}\n    />\n  )\n}\n\nfunction RequestAutoReveal({ commitment, disputeId, onAutoReveal, roundId }) {\n  const { account } = useWallet()\n  const voteId = getVoteId(disputeId, roundId)\n  const autoRevealPreviouslyRequested = getAutoRevealPreference(account, voteId)\n\n  const handleSubmit = useCallback(\n    event => {\n      event.preventDefault()\n\n      const password = getCodeFromLocalStorage(account, disputeId)\n      const outcome = getOutcomeFromCommitment(commitment, password)\n\n      onAutoReveal(account, disputeId, roundId, outcome, password)\n    },\n    [account, commitment, disputeId, onAutoReveal, roundId]\n  )\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <Button\n        label=\"Reveal your vote with auto-reveal service\"\n        mode=\"strong\"\n        type=\"submit\"\n        wide\n      />\n      {autoRevealPreviouslyRequested && (\n        <Info\n          mode=\"warning\"\n          css={`\n            margin-top: ${2 * GU}px;\n          `}\n        >\n          Your previous request to enable the auto-reveal service for this vote\n          failed.\n        </Info>\n      )}\n    </form>\n  )\n}\n\nfunction useAutoRevealPolling(account, disputeId, roundId) {\n  const [autoRevealRequested, setAutoRevealRequested] = useState(false)\n  const [loading, setLoading] = useState(true)\n  const timer = 3000\n\n  useEffect(() => {\n    if (autoRevealRequested) {\n      return\n    }\n\n    let cancelled = false\n\n    // Assumes jurorDraft exists\n    const pollAutoReveal = async () => {\n      try {\n        const reveal = await getAutoRevealRequest(account, disputeId, roundId)\n        if (!cancelled) {\n          setAutoRevealRequested(Boolean(reveal))\n        }\n      } catch (err) {\n        console.error(`Error fetching auto reveal: ${err} retrying`)\n      }\n\n      if (!cancelled) {\n        setLoading(false)\n\n        // Stop the polling once we know the juror successfully requested the auto reveal\n        if (!autoRevealRequested) {\n          setTimeout(pollAutoReveal, timer)\n        }\n      }\n    }\n\n    pollAutoReveal()\n\n    return () => {\n      cancelled = true\n    }\n  }, [account, autoRevealRequested, disputeId, roundId])\n\n  return [autoRevealRequested, loading]\n}\n\nexport default DisputeAutoReveal\n","import React, { useCallback } from 'react'\nimport { Button, GU, Info } from '@aragon/ui'\nimport { useWallet } from '../../../providers/Wallet'\n\nfunction DisputeDraft({ disputeId, onDraft }) {\n  const wallet = useWallet()\n\n  const handleSubmit = useCallback(\n    event => {\n      event.preventDefault()\n\n      onDraft(disputeId)\n    },\n    [disputeId, onDraft]\n  )\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div\n        css={`\n          display: flex;\n          width: 100%;\n          margin-bottom: ${1.5 * GU}px;\n        `}\n      >\n        <Button type=\"submit\" mode=\"strong\" wide disabled={!wallet.account}>\n          Draft jury\n        </Button>\n      </div>\n      <Info>\n        The evidence submission period is closed. <strong>Anyone</strong> can\n        now trigger the drafting of a jury and earn some rewards.\n      </Info>\n    </form>\n  )\n}\n\nexport default DisputeDraft\n","import React, { useCallback } from 'react'\nimport { Button, GU, Info } from '@aragon/ui'\nimport { useWallet } from '../../../providers/Wallet'\n\nfunction DisputeExecuteRuling({ disputeId, onExecuteRuling }) {\n  const wallet = useWallet()\n\n  const handleSubmit = useCallback(\n    event => {\n      event.preventDefault()\n\n      onExecuteRuling(disputeId)\n    },\n    [disputeId, onExecuteRuling]\n  )\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div\n        css={`\n          display: flex;\n          width: 100%;\n          margin-bottom: ${1.5 * GU}px;\n        `}\n      >\n        <Button type=\"submit\" mode=\"strong\" wide disabled={!wallet.account}>\n          Execute ruling\n        </Button>\n      </div>\n      <Info>\n        <strong>Anyone</strong> can now trigger this action.\n      </Info>\n    </form>\n  )\n}\n\nexport default DisputeExecuteRuling\n","import React from 'react'\nimport { Button, GU, Info } from '@aragon/ui'\n\nfunction DisputeReveal({ onRequestReveal }) {\n  return (\n    <div>\n      <Button\n        wide\n        mode=\"strong\"\n        onClick={onRequestReveal}\n        css={`\n          margin-bottom: ${1.5 * GU}px;\n        `}\n      >\n        Reveal your vote\n      </Button>\n      <Info>\n        You will be asked a one-time-use code before you can reveal your vote.\n      </Info>\n    </div>\n  )\n}\nexport default DisputeReveal\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Button, GU, Help, Info, useTheme, useViewport } from '@aragon/ui'\nimport { useActiveBalanceOfAt } from '../../../hooks/useCourtContracts'\nimport { useCourtConfig } from '../../../providers/CourtConfig'\nimport { useWallet } from '../../../providers/Wallet'\nimport {\n  VOTE_OPTION_REFUSE,\n  VOTE_OPTION_IN_FAVOR,\n  VOTE_OPTION_AGAINST,\n} from '../../../utils/crvoting-utils'\n\nfunction DisputeVoting({\n  draftTermId,\n  isFinalRound,\n  isJurorDrafted,\n  onRequestCommit,\n}) {\n  if (isFinalRound) {\n    return (\n      <VotingFinalRound\n        draftTermId={draftTermId}\n        onRequestCommit={onRequestCommit}\n      />\n    )\n  }\n\n  return (\n    <VotingActions\n      canJurorVote={isJurorDrafted}\n      onRequestCommit={onRequestCommit}\n    />\n  )\n}\n\nfunction VotingFinalRound({ draftTermId, onRequestCommit }) {\n  const wallet = useWallet()\n  const { minActiveBalance } = useCourtConfig()\n\n  // On a final round we must check if the connected account had the minimum active balance at term `disputeDraftTermId` to be able to vote\n  // Note that in a final round, every juror can vote (there's no drafting phase).\n  const [activeBalance] = useActiveBalanceOfAt(wallet.account, draftTermId)\n\n  const canJurorVoteFinalRound = activeBalance.gte(minActiveBalance)\n\n  return (\n    <VotingActions\n      canJurorVote={canJurorVoteFinalRound}\n      onRequestCommit={onRequestCommit}\n    />\n  )\n}\n\nfunction VotingActions({ canJurorVote, onRequestCommit }) {\n  const wallet = useWallet()\n  const { below } = useViewport()\n  const compactMode = below('medium')\n\n  const buttonWidth = compactMode ? '100% ' : `calc((100% - ${2 * GU}px) /  3)`\n\n  return (\n    <div>\n      <div\n        css={`\n          display: flex;\n          justify-content: space-between;\n          flex-direction: ${compactMode ? 'column' : 'row'};\n          width: 100%;\n          margin-bottom: ${1.5 * GU}px;\n        `}\n      >\n        <VotingButton\n          compactMode={compactMode}\n          disabled={!canJurorVote}\n          mode=\"positive\"\n          onClick={() => onRequestCommit(VOTE_OPTION_IN_FAVOR)}\n          width={buttonWidth}\n        >\n          Allow action\n        </VotingButton>\n        <VotingButton\n          compactMode={compactMode}\n          disabled={!canJurorVote}\n          mode=\"negative\"\n          onClick={() => onRequestCommit(VOTE_OPTION_AGAINST)}\n          width={buttonWidth}\n        >\n          Block action\n        </VotingButton>\n\n        <VotingButton\n          compactMode={compactMode}\n          disabled={!canJurorVote}\n          onClick={() => onRequestCommit(VOTE_OPTION_REFUSE)}\n          width={buttonWidth}\n        >\n          Refuse to vote\n        </VotingButton>\n      </div>\n      <RefuseToVoteHint compactMode={compactMode} width={buttonWidth} />\n      <Info mode={canJurorVote ? 'description' : 'warning'}>\n        {(() => {\n          if (!wallet.account)\n            return 'You cannot vote on this dispute because your Ethereum account is not connected.'\n\n          return canJurorVote\n            ? ' You will be asked a one-time-use code before you can commit your vote.'\n            : 'You cannot vote on this dispute with the current enabled address.'\n        })()}\n      </Info>\n    </div>\n  )\n}\n\nconst RefuseToVoteHint = ({ compactMode, width }) => {\n  const theme = useTheme()\n\n  return (\n    <div\n      css={`\n        display: flex;\n        align-items: center;\n        justify-content: ${compactMode ? 'center' : 'flex-end'};\n        margin-bottom: ${1.5 * GU}px;\n      `}\n    >\n      <div\n        css={`\n          width: ${width};\n          color: ${theme.help};\n        `}\n      >\n        <Container as={compactMode ? 'label' : 'div'} compactMode={compactMode}>\n          <span\n            css={`\n              margin-right: ${0.5 * GU}px;\n            `}\n          >\n            Why refuse to vote?\n          </span>\n          <Help hint=\"\">\n            <p>\n              You can refuse to vote for many reasons, for example if you\n              consider that the evidence was not conclusive enough or the\n              description was incoherent.\n            </p>\n            <p>\n              Remember that you should vote the way that you think the plurality\n              of jurors will vote, since you will be penalized if your vote is\n              in the minority.\n            </p>\n          </Help>\n        </Container>\n      </div>\n    </div>\n  )\n}\n\nconst VotingButton = styled(Button)`\n  width: ${({ width }) => width};\n  margin-bottom: ${({ compactMode }) => (compactMode ? 1 : 0) * GU}px;\n`\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: ${({ compactMode }) => (compactMode ? 'pointer' : '')};\n`\n\nexport default DisputeVoting\n","import React, { useMemo } from 'react'\nimport { GU, Help, textStyle, useTheme } from '@aragon/ui'\nimport {\n  Phase as DisputePhase,\n  Status as DisputeStatus,\n} from '../../types/dispute-status-types'\nimport DisputeAppeal from './actions/DisputeAppeal'\nimport DisputeAutoReveal from './DisputeAutoReveal'\nimport DisputeDraft from './actions/DisputeDraft'\nimport DisputeExecuteRuling from './actions/DisputeExecuteRuling'\nimport DisputeReveal from './actions/DisputeReveal'\nimport DisputeVoting from './actions/DisputeVoting'\nimport { useWallet } from '../../providers/Wallet'\nimport {\n  getJurorDraft,\n  hasJurorVoted,\n  canJurorReveal,\n} from '../../utils/juror-draft-utils'\nimport {\n  isvoteLeaked,\n  voteOptionToString,\n  OUTCOMES,\n} from '../../utils/crvoting-utils'\nimport { dateFormat } from '../../utils/date-utils'\n\nimport IconGavelOrange from '../../assets/IconGavelOrange.svg'\nimport IconGavelRed from '../../assets/IconGavelRed.svg'\nimport { getDisputeLastRound } from '../../utils/dispute-utils'\nimport IconRewardsGreen from '../../assets/IconRewardsGreen.svg'\n\nfunction DisputeActions({\n  dispute,\n  onAutoReveal,\n  onDraft,\n  onExecuteRuling,\n  onRequestCommit,\n  onRequestReveal,\n  onRequestAppeal,\n}) {\n  const { phase, status } = dispute\n  const lastRound = getDisputeLastRound(dispute)\n\n  const wallet = useWallet()\n\n  if (phase === DisputePhase.Evidence) {\n    return null\n  }\n\n  if (phase === DisputePhase.JuryDrafting) {\n    return <DisputeDraft disputeId={dispute.id} onDraft={onDraft} />\n  }\n\n  const jurorDraft = getJurorDraft(lastRound, wallet.account) // TODO: Should we also show results for past rounds ?\n  const isJurorDrafted = !!jurorDraft\n\n  const jurorHasVoted = isJurorDrafted && hasJurorVoted(jurorDraft)\n\n  if (phase === DisputePhase.VotingPeriod && !jurorHasVoted) {\n    return (\n      <DisputeVoting\n        draftTermId={lastRound.draftTermId}\n        isFinalRound={dispute.maxAppealReached}\n        isJurorDrafted={isJurorDrafted}\n        onRequestCommit={onRequestCommit}\n      />\n    )\n  }\n\n  return (\n    <React.Fragment>\n      <InformationSection\n        phase={phase}\n        status={status}\n        jurorDraft={jurorDraft}\n        hasJurorVoted={jurorHasVoted}\n        lastRound={lastRound}\n      />\n      {(() => {\n        // If connected account not drafted for current dispute\n        if (!isJurorDrafted) return null\n\n        // If juror has already voted\n        if (phase === DisputePhase.VotingPeriod)\n          return (\n            <DisputeAutoReveal\n              disputeId={dispute.id}\n              commitment={jurorDraft.commitment}\n              onAutoReveal={onAutoReveal}\n              roundId={dispute.lastRoundId}\n            />\n          )\n\n        // If we are past the voting period && juror hasn't voted\n        if (!jurorHasVoted) return null\n\n        // If reveal period has already pass\n        if (phase !== DisputePhase.RevealVote) return null\n\n        // If juror cannot reveal (has already revealed || voted leaked)\n        if (!canJurorReveal(jurorDraft)) return null\n\n        return (\n          <DisputeReveal\n            disputeId={dispute.id}\n            roundId={dispute.lastRoundId}\n            commitment={jurorDraft.commitment}\n            onRequestReveal={onRequestReveal}\n          />\n        )\n      })()}\n\n      {(phase === DisputePhase.AppealRuling ||\n        phase === DisputePhase.ConfirmAppeal) && (\n        <DisputeAppeal\n          disputeId={dispute.id}\n          roundId={dispute.lastRoundId}\n          onRequestAppeal={onRequestAppeal}\n          confirm={phase === DisputePhase.ConfirmAppeal}\n        />\n      )}\n      {phase === DisputePhase.ExecuteRuling && (\n        <DisputeExecuteRuling\n          disputeId={dispute.id}\n          onExecuteRuling={onExecuteRuling}\n        />\n      )}\n    </React.Fragment>\n  )\n}\n\nfunction InformationSection({\n  hasJurorVoted,\n  jurorDraft,\n  lastRound,\n  phase,\n  status,\n}) {\n  const theme = useTheme()\n\n  const { title, paragraph, background, icon, hint } = useInfoAttributes({\n    hasJurorVoted,\n    jurorDraft,\n    lastRound,\n    phase,\n    status,\n  })\n\n  if (!jurorDraft) return null\n\n  return (\n    <div\n      css={`\n        background: ${background};\n        padding: ${3 * GU}px;\n        display: flex;\n      `}\n    >\n      <div\n        css={`\n          display: flex;\n          align-items: center;\n          margin: 0 auto;\n        `}\n      >\n        <div\n          css={`\n            margin-right: ${1 * GU}px;\n          `}\n        >\n          <img\n            alt=\"\"\n            src={icon}\n            height=\"42\"\n            css={`\n              display: block;\n            `}\n          />\n        </div>\n        <div>\n          <div\n            css={`\n              ${textStyle('body1')}\n            `}\n          >\n            {title}\n          </div>\n          <span\n            css={`\n              ${textStyle('body2')}\n              color: ${theme.contentSecondary};\n            `}\n          >\n            {paragraph} {hint && <Help hint={hint} />}\n          </span>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// Helper function that returns main attributes for the YourVoteInfo component\n// TODO: Contemplate final round cases (when a juror has voted, the ANJ amount is pre-slashed)\nconst useInfoAttributes = ({\n  hasJurorVoted,\n  jurorDraft,\n  lastRound,\n  phase,\n  status,\n}) => {\n  const theme = useTheme()\n  const positiveBackground = theme.positive.alpha(0.1)\n  const negativeBackground = theme.accent.alpha(0.2)\n\n  return useMemo(() => {\n    if (!jurorDraft) return {}\n\n    // If the dispute is in the execute ruling phase it means that the final ruling can already be ensured.\n    // If the dispute is closed it means that the final ruling was already ensured.\n    const finalRulingConfirmed =\n      status === DisputeStatus.Closed || phase === DisputePhase.ExecuteRuling\n\n    // Note that we can assume that the evidence submission and drafting phases have already passed since we do an early return above\n    const votingPeriodEnded =\n      phase !== DisputePhase.VotingPeriod && phase !== DisputePhase.RevealVote\n\n    const voteLeaked = isvoteLeaked(jurorDraft.outcome)\n\n    // If vote leaked or juror hasn't voted\n    if (!hasJurorVoted || voteLeaked) {\n      return {\n        title: voteLeaked\n          ? 'Unfortunately, your vote has been leaked'\n          : 'Your vote wasnt cast on time.',\n        paragraph: <ANJDiscountedMessage />,\n        background: negativeBackground,\n        icon: IconGavelRed,\n        hintText: voteLeaked ? 'Vote leaked (complete)' : null, // TODO: Add hint for leaked vote\n      }\n    }\n\n    // If juror voted and the voting (commit) period has ended\n    if (hasJurorVoted && votingPeriodEnded) {\n      // If the juror didn't revealed\n      if (!jurorDraft.outcome) {\n        return {\n          title: \"Your vote wasn't revealed on time\",\n          paragraph: <ANJDiscountedMessage />,\n          background: negativeBackground,\n          icon: IconGavelRed,\n        }\n      }\n\n      // Juror has revealed\n      // Check if has voted in consensus with the plurality for the last round\n      const hasVotedInConsensus =\n        lastRound.vote && jurorDraft.outcome === lastRound.vote.winningOutcome\n\n      // We must check if the penalties were already settled so we can tell the jurors\n      // wether their ANJ locked balance has been discounted or they can claim rewards\n      // Note that if the penalties for the round are settled it means that the dispute has already ended\n      const settledPenalties = lastRound.settledPenalties\n\n      const title = hasVotedInConsensus\n        ? 'You have voted in consensus with the plurality'\n        : 'You have not voted in consensus with the plurality'\n      const background = hasVotedInConsensus\n        ? positiveBackground\n        : negativeBackground\n\n      // If penalties settled then the locked ANJ has been redistributed\n      if (settledPenalties) {\n        return {\n          title,\n          paragraph: hasVotedInConsensus ? (\n            <ANJRewardsMessage />\n          ) : (\n            <ANJSlashedMessage />\n          ),\n          background,\n          icon: hasVotedInConsensus ? IconRewardsGreen : IconGavelRed,\n        }\n      }\n\n      // Includes the cases where penalties weren't settled or the last round hasn't ended\n      return {\n        title,\n        paragraph: (\n          <ANJLockedMessage finalRulingConfirmed={finalRulingConfirmed} />\n        ),\n        background,\n        icon: hasVotedInConsensus ? IconGavelOrange : IconGavelRed,\n      }\n    }\n\n    // Juror has voted and reveal period hasn't ended\n    return {\n      title: `Your vote was cast ${\n        jurorDraft.outcome ? 'and revealed' : ''\n      } successfully.`,\n      paragraph: (\n        <VoteInfo\n          commitmentDate={jurorDraft.commitmentDate}\n          outcome={jurorDraft.outcome}\n          revealDate={jurorDraft.revealDate}\n        />\n      ),\n      background: theme.accent.alpha(0.05),\n      icon: IconGavelOrange,\n    }\n  }, [\n    hasJurorVoted,\n    jurorDraft,\n    lastRound.settledPenalties,\n    lastRound.vote,\n    negativeBackground,\n    phase,\n    positiveBackground,\n    status,\n    theme.accent,\n  ])\n}\n\nconst ANJLockedMessage = ({ finalRulingConfirmed }) => {\n  return (\n    <ANJMessage\n      result={`will remain locked until ${\n        finalRulingConfirmed\n          ? 'penalties are settled'\n          : 'the dispute has been resolved'\n      }. `}\n    />\n  )\n}\n\nconst ANJDiscountedMessage = () => {\n  return <ANJMessage result=\"will be discounted\" />\n}\n\nconst ANJSlashedMessage = () => {\n  return (\n    <ANJMessage result=\"has been slashed and redistributed to other jurors\" />\n  )\n}\n\nconst ANJMessage = ({ result }) => {\n  const theme = useTheme()\n\n  return (\n    <span>\n      Your{' '}\n      <span\n        css={`\n          color: ${theme.help};\n        `}\n      >\n        ANJ locked balance\n      </span>{' '}\n      {result}\n    </span>\n  )\n}\n\nconst ANJRewardsMessage = () => {\n  const theme = useTheme()\n\n  return (\n    <span>\n      You can now claim your\n      <span\n        css={`\n          color: ${theme.help};\n        `}\n      >\n        {' '}\n        rewards\n      </span>{' '}\n      in the dashboard.\n    </span>\n  )\n}\n\nconst VoteInfo = ({ commitmentDate, outcome, revealDate }) => {\n  const theme = useTheme()\n\n  const formattedDate = dateFormat(\n    new Date(revealDate || commitmentDate),\n    'standard'\n  )\n\n  const outcomeDescription = useMemo(() => {\n    if (outcome === OUTCOMES.Refused) {\n      return { text: 'Refused to vote' }\n    }\n\n    return { prefix: 'voted ', text: voteOptionToString(outcome) }\n  }, [outcome])\n\n  return (\n    <span>\n      You {outcomeDescription.prefix}\n      <span\n        css={`\n          text-transform: uppercase;\n          color: ${theme.content};\n        `}\n      >\n        {outcomeDescription.text}\n      </span>{' '}\n      on{' '}\n      <span\n        css={`\n          color: ${theme.content};\n        `}\n      >\n        {formattedDate}\n      </span>\n    </span>\n  )\n}\n\nexport default DisputeActions\n","import React, { useMemo } from 'react'\nimport { Distribution, GU, Help, Tag, textStyle, useTheme } from '@aragon/ui'\nimport { useWallet } from '../../providers/Wallet'\nimport {\n  isValidOutcome,\n  getTotalOutcomeWeight,\n  filterByValidOutcome,\n  juryOutcomeToString,\n  OUTCOMES,\n} from '../../utils/crvoting-utils'\nimport { getPercentage } from '../../lib/math-utils'\nimport { getJurorDraft } from '../../utils/juror-draft-utils'\nimport { getDisputeLastRound } from '../../utils/dispute-utils'\n\nconst getOutcomeColor = (outcome, theme) => {\n  if (outcome === OUTCOMES.InFavor) return theme.positive\n  if (outcome === OUTCOMES.Against) return theme.negative\n\n  return theme.hint\n}\n\nfunction DisputeCurrentRuling({ dispute }) {\n  const theme = useTheme()\n  const wallet = useWallet()\n\n  const lastRound = getDisputeLastRound(dispute)\n  const jurorDraft = getJurorDraft(lastRound, wallet.account)\n\n  const { outcome: myOutcome = 0, weight: myWeight = 0 } = jurorDraft || {}\n  const distribution = useOutcomeDistribution(lastRound)\n\n  // distribution is sorted by weight so we can return colors in corresponding order\n  const colors = distribution.map(({ outcome }) =>\n    getOutcomeColor(outcome, theme)\n  )\n\n  const myDistributionIndex = distribution.findIndex(\n    ({ outcome }) => outcome === myOutcome\n  )\n\n  return (\n    <div>\n      <Distribution\n        heading={\n          <span\n            css={`\n              ${textStyle('label2')}\n              color: ${theme.contentSecondary}\n            `}\n          >\n            Current ruling\n          </span>\n        }\n        items={distribution.map(({ outcome, weight }) => ({\n          item: juryOutcomeToString(outcome),\n          percentage: weight,\n        }))}\n        renderFullLegendItem={({ color, item, index, percentage }) => {\n          // We'll show the juror voting weight hint if any juror has been drafted more than once for this last round\n          const showVotingWeightHint =\n            index === 0 && lastRound.jurorsNumber !== lastRound.jurors.length\n          const showMyWeight = myWeight > 1\n\n          return (\n            <div\n              css={`\n                display: flex;\n                align-items: center;\n                justify-content: space-between;\n                width: 100%;\n              `}\n            >\n              <div\n                css={`\n                  display: flex;\n                  align-items: center;\n                `}\n              >\n                <div\n                  css={`\n                    background: ${color};\n                    width: 8px;\n                    height: 8px;\n                    margin-right: ${1 * GU}px;\n                    border-radius: 50%;\n                  `}\n                />\n\n                <span\n                  key={index}\n                  css={`\n                    color: ${theme.contentSecondary};\n                    width: 220px;\n                  `}\n                >\n                  {item}\n                </span>\n                <span\n                  css={`\n                    margin-right: ${1 * GU}px;\n                  `}\n                >\n                  {percentage}%\n                </span>\n                {myDistributionIndex === index && <Tag>You</Tag>}\n              </div>\n              {showVotingWeightHint && (\n                <div\n                  css={`\n                    display: flex;\n                    align-items: center;\n                  `}\n                >\n                  <span\n                    css={`\n                      color: ${theme.help};\n                      margin-right: ${0.5 * GU}px;\n                    `}\n                  >\n                    {showMyWeight ? 'Your voting weight' : 'Voting weight'}\n                  </span>\n                  <Help hint=\"\">\n                    {showMyWeight ? 'You have been' : 'The same juror can be'}{' '}\n                    drafted multiple times to arbitrate the same dispute for the\n                    same round. When that happens,{' '}\n                    {showMyWeight ? 'your' : 'their'} voting weight{' '}\n                    {showMyWeight ? 'is' : 'will be'} proportional to the number\n                    of times {showMyWeight ? 'you' : 'they'} are drafted.\n                  </Help>\n                </div>\n              )}\n            </div>\n          )\n        }}\n        colors={colors}\n      />\n    </div>\n  )\n}\n\nconst useFilteredOutcomes = round => {\n  const { jurors } = round\n\n  return useMemo(() => {\n    const totalValidOutcomes = jurors.filter(({ outcome }) =>\n      isValidOutcome(outcome)\n    )\n    return [totalValidOutcomes, filterByValidOutcome(totalValidOutcomes)]\n  }, [jurors])\n}\n\nfunction useOutcomeDistribution(round) {\n  const [totalValidOutcomes, filteredOutcomes] = useFilteredOutcomes(round)\n\n  return useMemo(() => {\n    const totalWeight = getTotalOutcomeWeight(totalValidOutcomes)\n\n    return filteredOutcomes\n      .map(({ outcomes, outcome }) => {\n        const partialWeight = getTotalOutcomeWeight(outcomes)\n        return {\n          outcome,\n          weight: getPercentage(partialWeight, totalWeight),\n        }\n      })\n      .sort((outcome1, outcome2) => outcome2.weight - outcome1.weight)\n  }, [filteredOutcomes, totalValidOutcomes])\n}\n\nexport default DisputeCurrentRuling\n","import React from 'react'\nimport { GU, useTheme } from '@aragon/ui'\nimport IdentityBadge from '../IdentityBadge'\n\nfunction DisputeDetailDescription({ path }) {\n  return (\n    <div\n      css={`\n        // overflow-wrap:anywhere and hyphens:auto are not supported yet by\n        // the latest versions of Safari (as of June 2020), which\n        // is why word-break:break-word has been added here.\n        hyphens: auto;\n        overflow-wrap: anywhere;\n        word-break: break-word;\n      `}\n    >\n      {path\n        ? path.map((step, index) => <DescriptionStep key={index} step={step} />)\n        : ''}\n    </div>\n  )\n}\n\nfunction DescriptionStep({ step }) {\n  const theme = useTheme()\n\n  const description = []\n\n  // Add app\n  description.push(\n    <React.Fragment key={0}>\n      {step.appName || (\n        <IdentityBadge\n          compact\n          entity={step.to}\n          css={`\n            padding-right: 0;\n          `}\n        />\n      )}\n      <span> : </span>\n    </React.Fragment>\n  )\n\n  if (step.descriptionAnnotated) {\n    description.push(\n      step.descriptionAnnotated.map(({ type, value }, index) => {\n        // The app has already been pushed as the first element, so we increment the index by 1 for\n        // these keys\n        const key = index + 1\n\n        if (type === 'address' || type === 'any-account') {\n          return (\n            <span key={key}>\n              <IdentityBadge\n                compact\n                entity={type === 'any-account' ? 'Any account' : value}\n              />\n            </span>\n          )\n        }\n\n        if (type === 'app') {\n          return (\n            <IdentityBadge\n              compact\n              entity={type === 'any-account' ? 'Any account' : value.address}\n            />\n          )\n        }\n\n        return <span key={key}> {value.description || value}</span>\n      })\n    )\n  } else {\n    description.push(\n      <span key={description.length + 1}>\n        {step.description || 'No description'}\n      </span>\n    )\n  }\n  description.push(<br key={description.lenth + 1} />)\n\n  const childrenDescriptions = (step.children || []).map((child, index) => {\n    return <DescriptionStep step={child} key={index} />\n  })\n\n  return (\n    <>\n      <span>{description}</span>\n      {childrenDescriptions.length > 0 && (\n        <ul\n          css={`\n            list-style-type: none;\n            margin-left: 0;\n            padding-left: ${0.5 * GU}px;\n            text-indent: -${0.5 * GU}px;\n          `}\n        >\n          <li\n            css={`\n              padding-left: ${2 * GU}px;\n              &:before {\n                content: '';\n                width: ${0.5 * GU}px;\n                height: ${0.5 * GU}px;\n                background: ${theme.accent};\n                border-radius: 50%;\n                display: inline-block;\n              }\n              span {\n                display: inline;\n                color: ${theme.surfaceContentSecondary};\n              }\n            `}\n          >\n            {childrenDescriptions}\n          </li>\n        </ul>\n      )}\n    </>\n  )\n}\n\nexport default DisputeDetailDescription\n","import gql from 'graphql-tag'\nimport { Client } from 'urql'\nimport { getSubgraphByAppId } from './connect-endpoints'\n\nexport function performDisputableVotingQuery(id, voteId, appId) {\n  // Disputable voting now saves the hash of the evmScript so we need to get it from the subgraph.\n  const subgraphUrl = getSubgraphByAppId(appId)\n\n  return performQuery(subgraphUrl, disputableVotingQuery, {\n    id,\n    voteId,\n  })\n}\n\nfunction performQuery(subgraph, query, args) {\n  const client = new Client({ url: subgraph })\n\n  return client.query(query, args).toPromise()\n}\n\nexport const disputableVotingQuery = gql`\n  query DisputableVoting($id: ID!, $voteId: BigInt!) {\n    disputableVoting(id: $id) {\n      votes(where: { voteId: $voteId }) {\n        script\n      }\n    }\n  }\n`\n","import { getNetworkType } from '../lib/web3-utils'\nimport { DISPUTABLE_SUBGRAPH_URLS } from './mappings'\n\nexport function getAragonSubgraph() {\n  return `http://20.9.85.213:8000//subgraphs/name/aragon/aragon-court-dijets`\n}\n\nexport function getSubgraphByAppId(appId) {\n  const networkType = getNetworkType()\n  const subgraphUrls = DISPUTABLE_SUBGRAPH_URLS.get(appId)\n\n  return subgraphUrls ? subgraphUrls[networkType] : ''\n}\n","import { getContract } from '../web3-contracts'\nimport { performDisputableVotingQuery } from './queries'\n\nimport disputableDandelionVotingAbi from '../abi/disputables/DisputableDandelionVoting.json'\nimport disputableDelayAbi from '../abi/disputables/DisputableDelay.json'\n\nexport function delayExtractor(disputableAddress, disputableActionId) {\n  return extractFromContract(\n    disputableDelayAbi,\n    disputableAddress,\n    disputableActionId,\n    'delayedScripts',\n    4\n  )\n}\n\nexport function dandelionVotingExtractor(\n  disputableAddress,\n  disputableActionId\n) {\n  return extractFromContract(\n    disputableDandelionVotingAbi,\n    disputableAddress,\n    disputableActionId,\n    'getVote',\n    10\n  )\n}\n\nexport async function votingExtractor(\n  disputableAddress,\n  disputableActionId,\n  disputableAppId\n) {\n  const { data } = await performDisputableVotingQuery(\n    disputableAddress,\n    disputableActionId,\n    disputableAppId\n  )\n\n  if (!data?.disputableVoting?.votes?.length) {\n    throw new Error('Failed to fetch evmScript from subgraph')\n  }\n\n  return data.disputableVoting.votes[0].script\n}\n\nasync function extractFromContract(\n  abi,\n  disputableAddress,\n  disputableActionId,\n  fn,\n  scriptPosition\n) {\n  const disputableAppContract = getContract(disputableAddress, abi)\n\n  // Fetch the evmScript via contract call\n  const result = await disputableAppContract[fn](disputableActionId)\n  return result[scriptPosition]\n}\n","// Disputable appIds\nexport const DANDELION_VOTING_APP_IDS = [\n  '0x0a85f166c21ad90fc107023e825457adfa137ef94f52f4f695ec00023bd05742', // disputable-dandelion-voting.aragonpm.eth\n]\nexport const DELAY_APP_IDS = [\n  '0x133c97c74d2197a068988549d31108ce57af8f0ccf90ff9edf0ba5d349f2a450', // disputable-delay.aragonpm.eth\n]\nexport const VOTING_APP_IDS = [\n  '0x09cdc3e6887a0002b11992e954a40326a511a1750a2f5c69d17b8b660b0d337a', // disputable-voting.aragonpm.eth\n  '0x705b5084c67966bb8e4640b28bab7a1e51e03d209d84e3a04d2a4f7415f93b34', // disputable-voting.open.aragonpm.eth\n  '0x39aa9e500efe56efda203714d12c78959ecbf71223162614ab5b56eaba014145', // disputable-voting.precedence-campaign.aragonpm.eth\n]\n","// Disputable apps extractors\nimport {\n  dandelionVotingExtractor,\n  delayExtractor,\n  votingExtractor,\n} from './scriptExtractors'\nimport {\n  DANDELION_VOTING_APP_IDS,\n  DELAY_APP_IDS,\n  VOTING_APP_IDS,\n} from './known-appIds'\n\nconst disputableVotingAction = {\n  entityPath: 'vote',\n  scriptExtractor: votingExtractor,\n}\n\nconst disputableDandelionAction = {\n  entityPath: 'vote',\n  scriptExtractor: dandelionVotingExtractor,\n}\n\nconst disputableDelayAction = {\n  entityPath: 'delay',\n  scriptExtractor: delayExtractor,\n}\n\n// Mapping of all disputable apps appId to their\n// corresponding method for describing a disputed action.\n// TODO: Add Conviction Voting\nexport const DISPUTABLE_ACTIONS = new Map([\n  ...DANDELION_VOTING_APP_IDS.map(appId => [appId, disputableDandelionAction]),\n  ...DELAY_APP_IDS.map(appId => [appId, disputableDelayAction]),\n  ...VOTING_APP_IDS.map(appId => [appId, disputableVotingAction]),\n])\n\n// Mapping of all disputable apps appId to their\n// corresponding subgraph urls by network\nexport const DISPUTABLE_SUBGRAPH_URLS = new Map([\n  ...VOTING_APP_IDS.map(appId => [\n    appId,\n    {\n      main:\n        'https://graph.backend.aragon.org/subgraphs/name/aragon/aragon-dvoting-mainnet-staging', // TODO: Update to main subgraph when available\n      rinkeby:\n        'https://api.thegraph.com/subgraphs/name/aragon/aragon-dvoting-rinkeby',\n      dijets:\n        'https://graphs.centralus.cloudapp.azure.com/subgraphs/name/aragon/aragon-court-dijets',\n      ropsten:\n        'https://api.thegraph.com/subgraphs/name/aragon/aragon-dvoting-ropsten',\n    },\n  ]),\n])\n","export const KnownArbitrables = {\n  main: new Map(\n    [\n      {\n        address: '0x5b0899c8c5af7696ae4e082b04bd2920304ad2aa',\n        urlBuilder: actionId =>\n          `https://cash.aragon.network/#/proposals/${actionId}`,\n      },\n    ].map(arbitrable => [arbitrable.address.toLowerCase(), arbitrable])\n  ),\n  rinkeby: new Map(\n    [\n      {\n        address: '0x9c92dbd8a8e5903e2741202321073091109f26be',\n        urlBuilder: actionId =>\n          `https://network-dashboard.vercel.app/#/proposals/${actionId}`,\n      },\n    ].map(arbitrable => [arbitrable.address.toLowerCase(), arbitrable])\n  ),\n  dijets: new Map(\n    [\n      {\n        address: '0xa28a4B8c614aCF3F3448daD91cA80A2B3034A8D9',\n        urlBuilder: actionId => `http://localhost:3001/#/proposals/${actionId}`,\n      },\n    ].map(arbitrable => [arbitrable.address.toLowerCase(), arbitrable])\n  ),\n}\n\nexport function isArbitrableKnown(arbitrableAddress, networkType) {\n  if (!KnownArbitrables[networkType]) return false\n  return Boolean(\n    KnownArbitrables[networkType].get(arbitrableAddress.toLowerCase())\n  )\n}\n\nexport function buildArbitrableUrl(arbitrableAddress, actionId, networkType) {\n  const arbitrable = KnownArbitrables[networkType].get(\n    arbitrableAddress.toLowerCase()\n  )\n\n  return arbitrable?.urlBuilder(actionId) || ''\n}\n","import {\n  connect,\n  describeScript,\n  findAppMethodFromIntent,\n} from '@aragon/connect'\nimport { getContract } from '../web3-contracts'\nimport { logWithSentry } from '../sentry'\n\nimport env from '../environment'\nimport { DISPUTABLE_ACTIONS } from './mappings'\nimport { getAragonSubgraph } from './connect-endpoints'\nimport { addressesEqual, getNetworkType } from '../lib/web3-utils'\nimport { buildArbitrableUrl, isArbitrableKnown } from './known-arbitrables'\n\n// Disputable abi\nimport disputableAbi from '../abi/disputables/IDisputable.json'\n\nconst cachedDescriptions = new Map([])\n\nconst ERROR_MSG = 'Failed to fetch disputed action'\n\n/**\n * Get disputable long and short description as well as the URL where the disputed action is taking place\n * @param {String} disputeId Id of the dispute\n * @param {String} organization Address of the organization where the action is being disputed\n * @param {String} disputableAddress Address of the disputable app where the disputed action is taking place\n * @param {String} disputableActionId Disputed action's id relative to the disputable app (e.g. in the context of a disputable voting app, vote #6)\n * @param {String} arbitrableAddress Address of the arbitrable\n * @returns {Object} Object containing the disputed action short and long description as well as the URL.\n */\nexport async function describeDisputedAction(\n  disputeId,\n  organization,\n  disputableAddress,\n  disputableActionId,\n  arbitrableAddress\n) {\n  try {\n    if (cachedDescriptions.has(disputeId)) {\n      return cachedDescriptions.get(disputeId)\n    }\n    // Get disputable appId\n    const disputableContract = getContract(disputableAddress, disputableAbi)\n    const appId = await disputableContract.appId()\n\n    if (DISPUTABLE_ACTIONS.has(appId)) {\n      const { entityPath, scriptExtractor } = DISPUTABLE_ACTIONS.get(appId)\n\n      const evmScript = await scriptExtractor(\n        disputableAddress,\n        disputableActionId,\n        appId\n      )\n\n      const disputedActionURL = buildDisputedActionUrl(\n        organization,\n        disputableAddress,\n        entityPath,\n        disputableActionId,\n        arbitrableAddress\n      )\n\n      const [\n        disputedActionRadspec,\n        disputedActionText,\n        executionPath,\n      ] = await describeActionScript(evmScript, organization)\n\n      // Get long and short description corresponding to the disputed action.\n\n      const disputedActionDescription = {\n        disputedActionRadspec,\n        disputedActionText,\n\n        // Build URL where the disputed action is taking place\n        disputedActionURL,\n\n        // Transaction path\n        executionPath,\n      }\n\n      // Cache disputed action description\n      cachedDescriptions.set(disputeId, disputedActionDescription)\n\n      return disputedActionDescription\n    }\n  } catch (err) {\n    console.error('Error describing disputable action', err)\n    logWithSentry(`'Error describing disputable action ${err}`)\n  }\n\n  return { disputedActionRadspec: ERROR_MSG }\n}\n\n/**\n * Describes the disputed action script using @aragon/connect\n * @param {String} evmScript The EVM script to describe\n * @param {String} organization Address of the organization in question\n * @returns {Array} Array of items where the first item is an array of transaction requests in the path of the disputed action\n *                    and the second item, the app belonging to the organization where the disputed action is taking place.\n */\nasync function describeActionScript(evmScript, organization) {\n  // No EVM script, means it's not an executable action (e.g. signaling vote)\n  if (evmScript === '0x') {\n    return []\n  }\n\n  const org = await connect(\n    organization,\n    ['thegraph', { orgSubgraphUrl: getAragonSubgraph() }], // TODO: Remove when @aragon/connect defaults to own node subgraph urls\n    {\n      network: env('CHAIN_ID'),\n    }\n  )\n  const apps = await org.apps()\n\n  const transactionRequests =\n    (await describeScript(evmScript, apps, org.provider)) || []\n\n  if (!transactionRequests.length) {\n    return [ERROR_MSG]\n  }\n\n  // Get disputed action long description\n  const disputedActionRadspec = buildDisputedActionRadspec(transactionRequests)\n  // In order to get the terminal action/s we must search through the `transactionRequests` children (if any)\n  const terminalActions = getTerminalActions(transactionRequests)\n  const executionPath = contextualizeExecutionPath(transactionRequests, apps)\n\n  // Get disputed action short text\n  // In most cases we'll have just a single action to describe\n  // If we do have multiple, we use the first action.\n  const terminalAction = terminalActions[0]\n  const terminalActionAppAddress = terminalAction.to\n\n  // Find the App object corresponding to the app where the terminal action will take place\n  const app = apps.find(app =>\n    addressesEqual(app.address, terminalActionAppAddress)\n  )\n\n  // Get disputed action short text\n  // Find method corresponding to the function of the disputed action.\n  const method = await findAppMethodFromIntent(app, terminalAction)\n  const disputedActionText = method ? buildDisputedActionText(app, method) : ''\n\n  return [disputedActionRadspec, disputedActionText, executionPath]\n}\n\n/**\n * Gets the array of all children transactions belonging to first step transactions in a forwarding path\n * @param {Array} transactions Array of transactions corresponding to the first step in a forwarding path\n * @returns {Array} Array of all childrens.\n */\nfunction getTerminalActions(transactions) {\n  return transactions\n    .map(transaction =>\n      transaction.children\n        ? getTerminalActions(transaction.children)\n        : transaction\n    )\n    .flat()\n}\n\n/**\n * Gets execution path specified by `transactions`\n * @param {Array} transactions Array of transactions in the execution path\n * @param {Array} apps Array of all the org's apps\n * @returns {Array} Execution path\n */\nfunction contextualizeExecutionPath(transactions, apps) {\n  return transactions.map(transaction => {\n    const { name } =\n      apps.find(app => addressesEqual(app.address, transaction.to)) || {}\n    const appName = name ? describeAppName(name) : 'Unknown app'\n\n    return {\n      ...transaction,\n      appName,\n      children: transaction.children\n        ? contextualizeExecutionPath(transaction.children, apps)\n        : [],\n    }\n  })\n}\n\n/**\n * Describes function signature (e.g grantPermission => Grant permission)\n * @param {String} sig Signature of the function to describe\n * @returns {String} Described signature\n */\nfunction describeFunctionSig(sig) {\n  return sig\n    .replace(/\\(.*?\\)/, '')\n    .split(/(?=[A-Z])/)\n    .map((s, index) => (index === 0 ? capitalize(s) : s.toLowerCase()))\n    .join(' ')\n}\n\n/**\n * Builds the disputed action short description\n * @param {App} app App where the disputed terminal action will take place\n * @param {Object} method Method corresponding to the disputed terminal action function\n * @returns {String} Short description of the disputed action\n */\nfunction buildDisputedActionText(app, method) {\n  const { artifact, name, appId } = app\n  const role = artifact.roles.find(role => method.roles.includes(role.id))\n\n  // If the terminal action function is not protected by a role, we'll try to describe the function signature\n  // (e.g grantPermission would become Grant permission)\n  const actionText = role?.name || describeFunctionSig(method.sig)\n\n  // If `name` is null most likely means the app is Kernel or ACL\n  const appName = name ? describeAppName(name) : `Unknown app (${appId})`\n\n  return `${appName}: ${actionText}`\n}\n\n/**\n * Builds the disputed action radspec description\n * Assumes array of transactions not empty\n * @param {Array<Object>} transactions Transactions in the disputed action path\n * @returns {String} Radspec description of the disputed action\n */\nfunction buildDisputedActionRadspec(transactions) {\n  return transactions\n    .map(step => {\n      return `${step.description || 'No description'}`\n    })\n    .join('\\n')\n}\n\n/**\n * Builds the URL corresponding to the disputed action. (e.g the URL of a vote)\n * @param {String} organization Address of the organization\n * @param {String} appAddress Address of the app\n * @param {String} entityPath Entity where the action is being disputed (e.g vote, delay, etc)\n * @param {String} actionId Disputable action id\n * @param {String} arbitrableAddress Address of the arbitrable\n * @returns {String} URL of the disputed action.\n */\nfunction buildDisputedActionUrl(\n  organization,\n  appAddress,\n  entityPath,\n  actionId,\n  arbitrableAddress\n) {\n  const networkType = getNetworkType()\n  const arbitrableKnown = isArbitrableKnown(arbitrableAddress, networkType)\n\n  let url\n  if (arbitrableKnown) {\n    url = buildArbitrableUrl(arbitrableAddress, actionId, networkType)\n  } else {\n    // Fallback to Aragon client url\n    url = buildClientUrl(\n      organization,\n      appAddress,\n      entityPath,\n      actionId,\n      networkType\n    )\n  }\n\n  return url\n}\n\n/**\n * Builds URL of the organization in the Aragon client\n * @param {String} organization Address of the organization in question\n * @param {String} appAddress Address of the app\n * @param {String} entityPath Realtive path where the disputed action is taking place\n * @param {String} actionId Id of the disputed action in the context of the disputable app\n * @param {String} _networkType The network type\n * @returns {String} URL of the organization\n */\nfunction buildClientUrl(\n  organization,\n  appAddress,\n  entityPath,\n  actionId,\n  _networkType\n) {\n  return [\n    `http://localhost:3001/#/${organization}`,\n    appAddress,\n    entityPath,\n    actionId,\n  ].join('/')\n}\n\nconst describeAppName = appName =>\n  appName\n    .split('-')\n    .map(capitalize)\n    .join(' ')\n\nconst capitalize = str => str.charAt(0).toUpperCase() + str.slice(1)\n","import React, { useEffect, useMemo, useState } from 'react'\nimport resolvePathname from 'resolve-pathname'\nimport { GU, Help, Link, textStyle, useTheme, useViewport } from '@aragon/ui'\nimport styled from 'styled-components'\nimport DisputeDetailDescription from './DisputeDetailDescription'\nimport DisputeOutcomeText from './DisputeOutcomeText'\nimport IdentityBadge from '../IdentityBadge'\nimport Loading from '../Loading'\nimport { useWallet } from '../../providers/Wallet'\n\nimport { describeDisputedAction } from '../../disputables'\nimport { IPFS_ENDPOINT } from '../../endpoints'\nimport { getIpfsCidFromUri, transformIPFSHash } from '../../lib/ipfs-utils'\nimport { addressesEqual, transformAddresses } from '../../lib/web3-utils'\nimport { Phase as DisputePhase } from '../../types/dispute-status-types'\n\nfunction DisputeInfoContent({ dispute, isFinalRulingEnsured }) {\n  const { below } = useViewport()\n  const compactMode = below('medium')\n\n  const {\n    agreementText,\n    agreementUrl,\n    creator,\n    defendant,\n    description,\n    disputedAction,\n    disputedActionURL,\n    executionPath,\n    loading,\n    organization,\n  } = useDisputeFields(dispute)\n\n  return (\n    <>\n      {isFinalRulingEnsured && (\n        <Row>\n          <FinalJuryOutcome dispute={dispute} />\n        </Row>\n      )}\n      <Row compactMode={compactMode}>\n        <DisputedAction\n          actionText={disputedAction}\n          dispute={dispute}\n          executionPath={executionPath}\n          isFinalRulingEnsured={isFinalRulingEnsured}\n          loading={loading}\n          url={disputedActionURL}\n        />\n\n        {organization && <Field label=\"Organization\" value={organization} />}\n      </Row>\n      <Row compactMode={compactMode}>\n        <Field\n          label=\"Description\"\n          loading={loading}\n          value={description}\n          css={`\n            word-break: break-word;\n            overflow-wrap: anywhere;\n          `}\n        />\n        {creator && <Field label=\"Plaintiff\" value={creator} />}\n      </Row>\n      <Row compactMode={compactMode}>\n        {agreementText ? (\n          <Field\n            label=\"Link to agreement\"\n            value={\n              <Link\n                external\n                href={agreementUrl}\n                css={`\n                  text-decoration: none;\n                `}\n              >\n                {agreementText}\n              </Link>\n            }\n          />\n        ) : (\n          <div />\n        )}\n        {defendant && <Field label=\"Defendant\" value={defendant} />}\n      </Row>\n    </>\n  )\n}\n\nfunction Field({ label, loading, value, ...props }) {\n  const theme = useTheme()\n  const wallet = useWallet()\n\n  if (!value && !loading) {\n    return <div />\n  }\n\n  return (\n    <div {...props}>\n      <h2\n        css={`\n          ${textStyle('label2')};\n          color: ${theme.surfaceContentSecondary};\n          margin-bottom: ${1 * GU}px;\n        `}\n      >\n        {label}\n      </h2>\n      {(() => {\n        if (loading) {\n          return <Loading size=\"small\" center={false} />\n        }\n\n        if (typeof value === 'string') {\n          const ipfsPath = getIpfsCidFromUri(value)\n          if (ipfsPath) {\n            const ipfsUrl = resolvePathname(ipfsPath, `${IPFS_ENDPOINT}/`)\n            return (\n              <Link\n                href={ipfsUrl}\n                css={`\n                  text-decoration: none;\n                `}\n              >\n                Read more\n              </Link>\n            )\n          }\n\n          return value.split('\\n').map((line, i) => (\n            <React.Fragment key={i}>\n              {transformAddresses(line, (part, isAddress, index) =>\n                isAddress ? (\n                  <span title={part} key={index}>\n                    <IdentityBadge\n                      connectedAccount={addressesEqual(part, wallet.account)}\n                      compact\n                      entity={part}\n                    />\n                  </span>\n                ) : (\n                  <React.Fragment key={index}>\n                    {transformIPFSHash(part, (word, isIpfsHash, i) => {\n                      if (isIpfsHash) {\n                        const ipfsUrl = resolvePathname(\n                          word,\n                          `${IPFS_ENDPOINT}/`\n                        )\n                        return (\n                          <Link\n                            href={ipfsUrl}\n                            key={i}\n                            css={`\n                              text-decoration: none;\n                            `}\n                          >\n                            {word}\n                          </Link>\n                        )\n                      }\n\n                      return <span key={i}>{word}</span>\n                    })}\n                  </React.Fragment>\n                )\n              )}\n              <br />\n            </React.Fragment>\n          ))\n        }\n\n        return (\n          <div\n            css={`\n              ${textStyle('body2')};\n            `}\n          >\n            {value}\n          </div>\n        )\n      })()}\n    </div>\n  )\n}\n\nfunction FinalJuryOutcome({ dispute }) {\n  const { lastRoundId, rounds } = dispute\n  const lastRound = rounds?.[lastRoundId]\n  const voteWinningOutcome = lastRound?.vote?.winningOutcome\n  const appealedRuling = lastRound?.appeal?.appealedRuling\n\n  return (\n    <Field\n      label=\"Final Jury Outcome\"\n      value={\n        <DisputeOutcomeText\n          outcome={appealedRuling || voteWinningOutcome}\n          phase={\n            appealedRuling ? DisputePhase.AppealRuling : DisputePhase.RevealVote\n          }\n        />\n      }\n    />\n  )\n}\n\nfunction DisputedAction({\n  actionText,\n  dispute,\n  executionPath,\n  isFinalRulingEnsured,\n  loading,\n  url,\n}) {\n  const ActionTextComponent = useMemo(() => {\n    // Disputes may not include an embedded executable action\n    if (!actionText && !loading) {\n      return <DisputedActionNA />\n    }\n\n    const action = Array.isArray(executionPath) ? (\n      <DisputeDetailDescription path={executionPath} />\n    ) : (\n      actionText\n    )\n\n    return url ? (\n      <Link\n        external\n        href={url}\n        css={`\n          text-decoration: none;\n          white-space: break-spaces;\n          text-align: left;\n        `}\n      >\n        {action}\n      </Link>\n    ) : (\n      action\n    )\n  }, [actionText, executionPath, loading, url])\n\n  return (\n    <Field\n      label=\"Disputed Action\"\n      loading={loading}\n      value={ActionTextComponent}\n      css={`\n        word-break: break-word;\n        overflow-wrap: anywhere;\n      `}\n    />\n  )\n}\n\nfunction useDisputeFields(dispute) {\n  const {\n    agreementText,\n    agreementUrl,\n    defendant,\n    disputable,\n    organization,\n    plaintiff,\n    subject,\n  } = dispute\n\n  const creator = plaintiff || subject?.id\n\n  const [\n    {\n      disputedActionRadspec,\n      disputedActionText,\n      disputedActionURL,\n      executionPath,\n    },\n    loading,\n  ] = useDisputedAction(dispute)\n\n  const { disputedAction, description } = useMemo(() => {\n    // Disputes created through agreements\n    if (disputable) {\n      return {\n        disputedAction: disputedActionRadspec,\n        description: disputable.actionContext,\n      }\n    }\n\n    // Old disputes not created through agreements\n    return {\n      disputedAction: disputedActionText,\n      description: disputedActionRadspec,\n    }\n  }, [disputable, disputedActionRadspec, disputedActionText])\n\n  return {\n    agreementText,\n    agreementUrl,\n    creator,\n    defendant,\n    description,\n    disputable,\n    disputedAction,\n    disputedActionURL,\n    executionPath,\n    loading,\n    organization,\n  }\n}\n\nconst DisputedActionNA = () => {\n  return (\n    <div\n      css={`\n        display: flex;\n        align-items: center;\n      `}\n    >\n      <span\n        css={`\n          margin-right: ${1 * GU}px;\n        `}\n      >\n        N/A\n      </span>\n      <Help hint=\"\">\n        This dispute does not involve a binding action and is simply between the\n        given context and arguments.\n      </Help>\n    </div>\n  )\n}\n\nfunction useDisputedAction({\n  id,\n  disputable,\n  disputedActionRadspec,\n  disputedActionText,\n  disputedActionURL,\n  subject,\n}) {\n  const [disputedAction, setDisputedAction] = useState({\n    disputedActionRadspec,\n    disputedActionText,\n    disputedActionURL,\n  })\n  const [loading, setLoading] = useState(false)\n\n  useEffect(() => {\n    // If the dispute was not created through an agreement, the disputed action\n    // descriptions should be already available (initialized above)\n    if (!disputable) {\n      return\n    }\n\n    let cancelled = false\n    setLoading(true)\n\n    const describeDispute = async () => {\n      // Get disputable long and short description\n      // as well as the URL where the disputed action is taking place\n      const disputedActionDescription = await describeDisputedAction(\n        id,\n        disputable.organization,\n        disputable.address,\n        disputable.disputableActionId,\n        subject.id\n      )\n\n      if (!cancelled) {\n        setLoading(false)\n        setDisputedAction(disputedActionDescription)\n      }\n    }\n\n    describeDispute()\n\n    return () => {\n      cancelled = true\n    }\n  }, [disputable, id, subject])\n\n  return [disputedAction, loading]\n}\n\nconst Row = styled.div`\n  display: grid;\n\n  ${({ compactMode }) => `\n    grid-gap: ${(compactMode ? 2.5 : 5) * GU}px;\n    margin-bottom: ${compactMode ? 0 : 2 * GU}px;\n    grid-template-columns: ${\n      compactMode ? 'auto' : `1fr minmax(${25 * GU}px, auto)`\n    };\n  `}\n`\n\nexport default DisputeInfoContent\n","import React from 'react'\nimport { Button, GU, textStyle, useTheme } from '@aragon/ui'\nimport iconWarningSvg from '../../assets/IconWarning.svg'\n\nfunction DisputeVoided({ id, description, link }) {\n  const theme = useTheme()\n\n  return (\n    <div\n      css={`\n        padding: 0px ${11 * GU}px;\n        margin-bottom: ${4 * GU}px;\n        display: flex;\n        align-items: flex-start;\n        justify-content: space-between;\n      `}\n    >\n      <div\n        css={`\n          display: grid;\n          grid-row-gap: ${3 * GU}px;\n        `}\n      >\n        <h1\n          css={`\n            ${textStyle('title1')}\n            font-weight: normal;\n          `}\n        >\n          Void Notice for Dispute #{id}\n        </h1>\n        <span\n          css={`\n            color: ${theme.contentSecondary};\n            ${textStyle('body1')}\n          `}\n        >\n          {description}\n        </span>\n        <Button\n          label=\"Read more\"\n          href={link}\n          mode=\"strong\"\n          css={`\n            width: ${22 * GU}px;\n          `}\n        />\n      </div>\n      <img src={iconWarningSvg} alt=\"\" height={40 * GU} />\n    </div>\n  )\n}\n\nexport default DisputeVoided\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Box, GU, TransactionBadge, textStyle, useTheme } from '@aragon/ui'\nimport DisputeActions from './DisputeActions'\nimport DisputeCurrentRuling from './DisputeCurrentRuling'\nimport DisputeInfoContent from './DisputeInfoContent'\nimport DisputeStatus from './DisputeStatus'\nimport DisputeVoided from './DisputeVoided'\nimport ErrorLoading from '../Errors/ErrorLoading'\nimport LoadingCard from '../LoadingCard'\nimport { Phase as DisputePhase, Status } from '../../types/dispute-status-types'\nimport { getNetworkType } from '../../lib/web3-utils'\n\nimport iconCourt from '../../assets/courtIcon.svg'\n\nconst DisputeInfo = React.memo(function({\n  id,\n  error,\n  dispute,\n  loading,\n  onDraft,\n  onLeak,\n  onAutoReveal,\n  onExecuteRuling,\n  onRequestAppeal,\n  onRequestCommit,\n  onRequestReveal,\n}) {\n  const { phase, status } = dispute || {}\n\n  const isDisputeVoided = status === Status.Voided\n  const isFinalRulingEnsured =\n    phase === DisputePhase.ExecuteRuling || status === Status.Closed\n\n  return (\n    <Box padding={5 * GU}>\n      <section\n        css={`\n          display: grid;\n          grid-template-columns: auto;\n          grid-gap: ${2.5 * GU}px;\n          align-items: center;\n        `}\n      >\n        <DisputeHeader dispute={dispute} error={error?.message} />\n        {(() => {\n          if (error) {\n            return (\n              <ErrorLoading\n                subject=\"dispute\"\n                errors={[error.message]}\n                border={false}\n              />\n            )\n          }\n\n          if (loading) {\n            return <LoadingCard border={false} />\n          }\n\n          if (isDisputeVoided) {\n            return (\n              <DisputeVoided\n                id={id}\n                description={dispute.voidedDescription}\n                link={dispute.voidedLink}\n              />\n            )\n          }\n          return (\n            <DisputeInfoContent\n              dispute={dispute}\n              isFinalRulingEnsured={isFinalRulingEnsured}\n            />\n          )\n        })()}\n        {!loading && !isDisputeVoided && !error?.fromGraph && (\n          <>\n            {(phase === DisputePhase.AppealRuling ||\n              phase === DisputePhase.ConfirmAppeal ||\n              isFinalRulingEnsured) && (\n              <DisputeCurrentRuling dispute={dispute} />\n            )}\n            <DisputeActions\n              dispute={dispute}\n              onAutoReveal={onAutoReveal}\n              onDraft={onDraft}\n              onRequestCommit={onRequestCommit}\n              onRequestReveal={onRequestReveal}\n              onLeak={onLeak}\n              onRequestAppeal={onRequestAppeal}\n              onExecuteRuling={onExecuteRuling}\n            />\n          </>\n        )}\n      </section>\n    </Box>\n  )\n})\n\nfunction DisputeHeader({ dispute, error }) {\n  const theme = useTheme()\n  const { id, description, txHash } = dispute || {}\n\n  return (\n    <div\n      css={`\n        display: flex;\n        margin-bottom: ${3 * GU}px;\n      `}\n    >\n      <div\n        css={`\n          display: flex;\n          align-items: center;\n          width: 100%;\n        `}\n      >\n        <div\n          css={`\n            background: linear-gradient(\n              233deg,\n              ${theme.accentStart} -50%,\n              ${theme.accentEnd} 91%\n            );\n            border-radius: 50%;\n            padding: ${1.5 * GU}px;\n            display: inline-block;\n          `}\n        >\n          <img src={iconCourt} alt=\"\" width=\"39\" height=\"32\" />\n        </div>\n        <div\n          css={`\n            margin-left: ${3 * GU}px;\n            width: 100%;\n          `}\n        >\n          <h1\n            css={`\n              display: flex;\n              align-items: center;\n              justify-content: space-between;\n              margin-bottom: ${1 * GU}px;\n              ${textStyle('title3')};\n              width: 100%;\n            `}\n          >\n            <span>\n              Dispute #{id}: {description}\n            </span>\n            {!error && dispute && (\n              <DisputeStatus\n                dispute={dispute}\n                css={`\n                  margin: 0 0 0 ${1 * GU}px;\n                `}\n              />\n            )}\n          </h1>\n          {Boolean(dispute?.status !== Status.Voided && txHash) && (\n            <TransactionBadge\n              transaction={txHash}\n              networkType={getNetworkType()}\n            />\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nDisputeInfo.propTypes = {\n  dispute: PropTypes.object, // TODO: define DisputeType\n  id: PropTypes.string.isRequired,\n  loading: PropTypes.bool,\n}\n\nexport default DisputeInfo\n","import React from 'react'\nimport { GU, textStyle, useTheme } from '@aragon/ui'\nimport { useCourtConfig } from '../../providers/CourtConfig'\n\nimport { numberToWord } from '../../lib/math-utils'\n\nfunction DisputeRoundPill({ roundId }) {\n  const theme = useTheme()\n  const { maxRegularAppealRounds } = useCourtConfig()\n\n  if (roundId === undefined) return null\n\n  const isFinal = roundId >= maxRegularAppealRounds\n\n  const label = isFinal ? 'Final round' : `Round ${numberToWord(roundId)}`\n  return (\n    <div\n      css={`\n        display: flex;\n        align-items: center;\n        justify-content: space-around;\n        background: linear-gradient(\n          14deg,\n          ${theme.accentStart.alpha(0.3)} 0,\n          ${theme.accentEnd.alpha(0.3)}88%\n        );\n        border-radius: 100px;\n        height: ${2.5 * GU}px;\n        width: ${14 * GU}px;\n        margin-top: ${0.5 * GU}px;\n      `}\n    >\n      <span\n        css={`\n          ${textStyle('label2')};\n          color: ${theme.accent};\n          transform: translateY(1px);\n        `}\n      >\n        {label}\n      </span>\n    </div>\n  )\n}\n\nexport default DisputeRoundPill\n","import React from 'react'\nimport { GU } from '@aragon/ui'\n\nexport default function Step({\n  stepPoint,\n  content,\n  active,\n  displayPoint,\n  ...props\n}) {\n  if (displayPoint) {\n    return (\n      <div\n        css={`\n          background: ${active ? '#FFF6F5' : ''};\n        `}\n      >\n        <div\n          css={`\n            display: flex;\n            margin-left: ${3 * GU}px;\n            margin-top: ${active ? 3 * GU : 0}px;\n          `}\n          {...props}\n        >\n          <div\n            css={`\n              position: relative;\n              z-index: 1;\n            `}\n          >\n            {stepPoint}\n          </div>\n\n          <div\n            css={`\n              margin-left: ${1.5 * GU}px;\n            `}\n          >\n            {content}\n          </div>\n        </div>\n      </div>\n    )\n  } else {\n    return <div>{content}</div>\n  }\n}\n","import React from 'react'\n\nimport { GU } from '@aragon/ui'\n\nfunction Stepper({\n  lineColor,\n  lineExtraHeight,\n  lineTop,\n  lineWidth,\n  children,\n  ...props\n}) {\n  const stepVerticalPadding = 1.5 * GU\n  return (\n    <div\n      css={`\n        & > * {\n          display: flex;\n          align-items: stretch;\n\n          padding: ${stepVerticalPadding}px 0;\n          &:first-child {\n            padding-top: 0;\n          }\n        }\n        & > :not(:last-child) > div > :first-child ::after {\n          background: ${lineColor};\n          content: '';\n          height: calc(100% + ${stepVerticalPadding}px + ${lineExtraHeight}px);\n          width: ${lineWidth}px;\n          position: absolute;\n          top: ${lineTop}px;\n          left: calc(50% - (${lineWidth}px / 2));\n          z-index: -1;\n        }\n      `}\n      {...props}\n    >\n      {children}\n    </div>\n  )\n}\n\nStepper.defaultProps = {\n  lineColor: '#000',\n  lineExtraHeight: 0, // px\n  lineTop: 0, // px\n  lineWidth: 1, // px\n}\n\nexport default Stepper\n","import IconFlagActive from '../assets/IconFlagActive.svg'\nimport IconFlagInactive from '../assets/IconFlagInactive.svg'\nimport IconFolderActive from '../assets/IconFolderActive.svg'\nimport IconFolderInactive from '../assets/IconFolderInactive.svg'\nimport IconUsersActive from '../assets/IconUsersActive.svg'\nimport IconUsersInactive from '../assets/IconUsersInactive.svg'\nimport IconVotingActive from '../assets/IconVotingActive.svg'\nimport IconVotingInactive from '../assets/IconVotingInactive.svg'\nimport IconThinkingActive from '../assets/IconThinkingActive.svg'\nimport IconThinkingInactive from '../assets/IconThinkingInactive.svg'\nimport IconRulingActive from '../assets/IconRulingActive.svg'\nimport IconRulingInactive from '../assets/IconRulingInactive.svg'\nimport IconRewardsActive from '../assets/IconRewardsActive.svg'\nimport IconRewardsInactive from '../assets/IconRewardsInactive.svg'\n\nexport { default as IconGavelNoFill } from '../assets/IconGavelNoFill.svg'\n\nexport const IconFlag = {\n  active: IconFlagActive,\n  inactive: IconFlagInactive,\n}\n\nexport const IconFolder = {\n  active: IconFolderActive,\n  inactive: IconFolderInactive,\n}\nexport const IconUsers = {\n  active: IconUsersActive,\n  inactive: IconUsersInactive,\n}\nexport const IconVoting = {\n  active: IconVotingActive,\n  inactive: IconVotingInactive,\n}\nexport const IconThinking = {\n  active: IconThinkingActive,\n  inactive: IconThinkingInactive,\n}\nexport const IconRuling = {\n  active: IconRulingActive,\n  inactive: IconRulingInactive,\n}\n\nexport const IconRewards = {\n  active: IconRewardsActive,\n  inactive: IconRewardsInactive,\n}\n","import { useMemo } from 'react'\nimport { Phase as DisputePhase } from '../types/dispute-status-types'\nimport { getTermEndTime } from '../utils/court-utils'\nimport {\n  getEvidenceSubmissionEndTerm,\n  getPhaseAndTransition,\n  getRoundPhasesAndTime,\n} from '../utils/dispute-utils'\nimport { useCourtConfig } from '../providers/CourtConfig'\nimport { useCourtClock } from '../providers/CourtClock'\n\n/**\n * Construct dispute timeline for the given dispute\n * @param {Object} dispute The dispute to get the timeline from\n * @param {Object} courtConfig The court configuration\n * @param {Number} currentTerm The court current term\n * @returns {Array} The timeline of the given dispute\n */\nexport default function useDisputeTimeline(dispute) {\n  const courtConfig = useCourtConfig()\n  const { currentTermId } = useCourtClock()\n  const { createdAt } = dispute\n\n  const currentPhase = getPhaseAndTransition(\n    dispute,\n    currentTermId,\n    courtConfig\n  )\n\n  const evidenceSubmissionEndTerm = getEvidenceSubmissionEndTerm(\n    dispute,\n    courtConfig\n  )\n  const evidenceSubmissionEndTime = getTermEndTime(\n    evidenceSubmissionEndTerm,\n    courtConfig\n  )\n\n  return useMemo(\n    () => {\n      const timeLine = [\n        {\n          phase: DisputePhase.Evidence,\n          endTime: evidenceSubmissionEndTime,\n          active: currentPhase.phase === DisputePhase.Evidence,\n          roundId: 0,\n        },\n        {\n          phase: DisputePhase.Created, // create Symbol\n          endTime: createdAt,\n        },\n      ]\n\n      const rounds = []\n      dispute.rounds.forEach(round => {\n        const roundPhases = getRoundPhasesAndTime(\n          round,\n          currentPhase,\n          currentTermId,\n          courtConfig\n        )\n        rounds.unshift([...roundPhases].reverse())\n      })\n\n      if (rounds.length === 0) {\n        return timeLine\n      }\n\n      timeLine.unshift(rounds)\n\n      if (\n        currentPhase.phase === DisputePhase.ExecuteRuling ||\n        currentPhase.phase === DisputePhase.ClaimRewards\n      ) {\n        timeLine.unshift({\n          phase: DisputePhase.ExecuteRuling,\n          active: DisputePhase.ExecuteRuling === currentPhase.phase,\n          roundId: currentPhase.roundId,\n        })\n      }\n\n      if (currentPhase.phase === DisputePhase.ClaimRewards) {\n        timeLine.unshift({\n          phase: DisputePhase.ClaimRewards,\n          active: currentPhase.phase === DisputePhase.ClaimRewards,\n          roundId: currentPhase.roundId,\n        })\n      }\n\n      return timeLine\n    },\n\n    // We are leaving out courtConfig and dispute.rounds as dependencies to prevent the timeline from being recomputed on every poll.\n    // The current phase dependency is sufficient for recomputing it.\n    // If there's a new round, means the phase has changed\n    [createdAt, currentPhase.phase, evidenceSubmissionEndTime] // eslint-disable-line react-hooks/exhaustive-deps\n  )\n}\n","import React, { useMemo } from 'react'\nimport styled from 'styled-components'\nimport { Accordion, GU, textStyle, useTheme, Timer } from '@aragon/ui'\n\nimport DisputeOutcomeText from './DisputeOutcomeText'\nimport DisputeRoundPill from './DisputeRoundPill'\nimport Step from '../Step'\nimport Stepper from '../Stepper'\n\nimport {\n  IconFlag,\n  IconFolder,\n  IconGavelNoFill,\n  IconRewards,\n  IconRuling,\n  IconThinking,\n  IconUsers,\n  IconVoting,\n} from '../../utils/dispute-icons'\n\nimport {\n  Phase as DisputePhase,\n  getPhaseStringForStatus,\n} from '../../types/dispute-status-types'\nimport { dateFormat } from '../../utils/date-utils'\nimport useDisputeTimeline from '../../hooks/useDisputeTimeline'\n\nconst Timeline = React.memo(function Timeline({ timeline }) {\n  const theme = useTheme()\n\n  return (\n    <div>\n      <Stepper lineColor={theme.accent.alpha(0.3)} lineTop={12}>\n        {timeline.map((item, index) => {\n          if (!Array.isArray(item)) {\n            return <ItemStep key={index} item={item} index={index} />\n          }\n\n          return item.map((round, roundIndex) => {\n            if (roundIndex === 0) {\n              return round.map((roundItem, phaseIndex) => (\n                <ItemStep\n                  key={phaseIndex}\n                  item={roundItem}\n                  index={phaseIndex}\n                />\n              ))\n            }\n\n            return (\n              <Step\n                key={roundIndex}\n                active={false}\n                content={\n                  <div\n                    css={`\n                      width: 100%;\n                    `}\n                  >\n                    <StyledAccordion>\n                      <Accordion\n                        key={roundIndex}\n                        items={[\n                          [\n                            <div\n                              css={`\n                                display: flex;\n                                align-items: center;\n                              `}\n                            >\n                              <img\n                                alt={18}\n                                src={IconGavelNoFill}\n                                css={`\n                                  margin-right: ${1 * GU}px;\n                                `}\n                              />\n                              <DisputeRoundPill roundId={round[0].roundId} />\n                            </div>,\n\n                            <Stepper\n                              lineColor={theme.accent.alpha(0.3)}\n                              lineTop={12}\n                              css={`\n                                padding: ${3 * GU}px 0;\n                              `}\n                            >\n                              {round.map((roundItem, phaseIndex) => (\n                                <ItemStep\n                                  key={phaseIndex}\n                                  item={roundItem}\n                                  index={phaseIndex}\n                                  roundStepContainer\n                                />\n                              ))}\n                            </Stepper>,\n                          ],\n                        ]}\n                      />\n                    </StyledAccordion>\n                  </div>\n                }\n                displayPoint={false}\n              />\n            )\n          })\n        })}\n      </Stepper>\n    </div>\n  )\n})\n\nfunction ItemStep({ item, index, roundStepContainer }) {\n  const theme = useTheme()\n\n  return (\n    <Step\n      key={index}\n      active={item.active}\n      stepPoint={\n        <div\n          css={`\n            background: ${item.active\n              ? 'linear-gradient(51.69deg, #FFB36D -0.55%, #FF8888 88.44%)'\n              : '#FFE2D7'};\n            border-radius: 80%;\n            position: relative;\n            z-index: 1;\n            display: inline-flex;\n          `}\n        >\n          <PhaseIcon phase={item.phase} active={item.active} />\n        </div>\n      }\n      content={\n        <div>\n          <div>\n            <div>\n              <span css={textStyle('body1')}>\n                {getPhaseStringForStatus(item.phase, item.active)}\n              </span>\n            </div>\n            <div>\n              <span\n                css={`\n                  color: ${theme.surfaceContentSecondary};\n                  opacity: 0.6;\n                `}\n              >\n                <DisplayTime item={item} />\n              </span>\n            </div>\n            {item.active && <DisputeRoundPill roundId={item.roundId} />}\n            {item.showOutcome && (\n              <Outcome outcome={item.outcome} phase={item.phase} />\n            )}\n          </div>\n        </div>\n      }\n      displayPoint\n      css={`\n        ${roundStepContainer ? 'margin-left: 0px;' : ''}\n      `}\n    />\n  )\n}\n\nfunction Outcome({ outcome, phase }) {\n  const theme = useTheme()\n  const title =\n    phase && phase === DisputePhase.RevealVote ? 'Jury outcome' : 'Outcome'\n\n  return (\n    <div\n      css={`\n        position: relative;\n      `}\n    >\n      <OutcomePoint />\n      <div\n        css={`\n          margin-top: ${1 * GU}px;\n        `}\n      >\n        <span\n          css={`\n            ${textStyle('body3')}\n            color:${theme.surfaceContentSecondary};\n            text-transform: uppercase;\n          `}\n        >\n          {title}\n        </span>\n      </div>\n      <DisputeOutcomeText outcome={outcome} phase={phase} />\n    </div>\n  )\n}\n\nfunction PhaseIcon({ phase, active }) {\n  const icon = useMemo(() => {\n    if (phase === DisputePhase.Created || phase === DisputePhase.NotStarted) {\n      return IconFlag\n    }\n    if (phase === DisputePhase.Evidence) {\n      return IconFolder\n    }\n    if (phase === DisputePhase.JuryDrafting) {\n      return IconUsers\n    }\n    if (\n      phase === DisputePhase.VotingPeriod ||\n      phase === DisputePhase.RevealVote\n    ) {\n      return IconVoting\n    }\n    if (\n      phase === DisputePhase.AppealRuling ||\n      phase === DisputePhase.ConfirmAppeal\n    ) {\n      return IconThinking\n    }\n    if (phase === DisputePhase.ExecuteRuling) {\n      return IconRuling\n    }\n    return IconRewards\n  }, [phase])\n\n  return (\n    <img\n      src={active ? icon.active : icon.inactive}\n      width={6 * GU}\n      height={6 * GU}\n      alt=\"\"\n    />\n  )\n}\n\nfunction DisplayTime({ item }) {\n  const { endTime, active } = item\n  if (active) {\n    if (!endTime) {\n      return 'ANY TIME'\n    }\n    return <Timer end={new Date(endTime)} maxUnits={3} />\n  }\n  return <>{dateFormat(endTime, 'onlyDate')}</>\n}\n\nfunction OutcomePoint() {\n  const theme = useTheme()\n\n  return (\n    <div\n      css={`\n        position: absolute;\n        top: 5px;\n        left: -44px;\n        width: 16px;\n        height: 16px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        background: #fef3f1;\n        border-radius: 50%;\n      `}\n    >\n      <div\n        css={`\n          width: 6px;\n          height: 6px;\n          background: ${theme.accent.alpha(0.3)};\n          border-radius: 50%;\n        `}\n      />\n    </div>\n  )\n}\n\nconst StyledAccordion = styled.div`\n  padding: 0;\n\n  & > div:first-child {\n    border-radius: 0px;\n    border-left: 0;\n    border-right: 0;\n  }\n\n  &::after {\n    height: 0px !important;\n    width: 0px !important;\n  }\n`\n\nexport default function DisputeTimeline({ dispute }) {\n  const disputeTimeLine = useDisputeTimeline(dispute)\n\n  return <Timeline timeline={disputeTimeLine} />\n}\n","import React from 'react'\n\nimport MessageCard from '../MessageCard'\nimport noEvidenceSvg from '../../assets/noEvidence.svg'\n\nfunction NoEvidence() {\n  const title = ' The evidence is being presented'\n  const paragraph =\n    'The involved parties have up to 7 days to submit evidence supporting their case'\n\n  return (\n    <MessageCard title={title} paragraph={paragraph} icon={noEvidenceSvg} />\n  )\n}\n\nexport default NoEvidence\n","import React, { useCallback, useEffect, useState } from 'react'\nimport { Button, Field, GU, Info, TextInput } from '@aragon/ui'\nimport { useWallet } from '../../../providers/Wallet'\nimport { getJurorDraft } from '../../../utils/juror-draft-utils'\nimport { getDisputeLastRound } from '../../../utils/dispute-utils'\nimport {\n  getCodeFromLocalStorage,\n  getOutcomeFromCommitment,\n  isValidOutcome,\n} from '../../../utils/crvoting-utils'\n\nconst RevealPanel = React.memo(function RevealPanel({\n  dispute,\n  onDone,\n  onReveal,\n}) {\n  const wallet = useWallet()\n  const [error, setError] = useState(null)\n  const [password, setPassword] = useState('')\n  const lastRound = getDisputeLastRound(dispute)\n\n  const jurorDraft = getJurorDraft(lastRound, wallet.account)\n\n  const handlePasswordChange = useCallback(event => {\n    setError(null)\n    setPassword(event.target.value)\n  }, [])\n\n  const validatePassword = useCallback(() => {\n    const outcome = getOutcomeFromCommitment(jurorDraft.commitment, password)\n    if (!isValidOutcome(outcome)) {\n      return { error: 'Invalid one time code' }\n    }\n\n    return { outcome }\n  }, [jurorDraft.commitment, password])\n\n  const handleReveal = useCallback(\n    event => {\n      event.preventDefault()\n\n      const { outcome, error } = validatePassword()\n      if (error) {\n        return setError(error)\n      }\n\n      onDone()\n      onReveal(\n        dispute.id,\n        dispute.lastRoundId,\n        wallet.account,\n        outcome,\n        password\n      )\n    },\n    [\n      dispute.id,\n      dispute.lastRoundId,\n      onDone,\n      onReveal,\n      password,\n      validatePassword,\n      wallet.account,\n    ]\n  )\n\n  useEffect(() => {\n    const oneTimeCode = getCodeFromLocalStorage(wallet.account, dispute.id)\n    if (oneTimeCode) {\n      setPassword(oneTimeCode)\n    }\n  }, [dispute.id, wallet.account])\n\n  return (\n    <form onSubmit={handleReveal}>\n      <Field label=\"One-time-use code\">\n        <TextInput\n          value={password}\n          css={`\n            height: ${11 * GU}px;\n          `}\n          multiline\n          wide\n          onChange={handlePasswordChange}\n        />\n      </Field>\n      {error && (\n        <Info\n          css={`\n            margin-bottom: ${2 * GU}px;\n          `}\n          mode=\"error\"\n        >\n          {error}\n        </Info>\n      )}\n      <Button type=\"submit\" wide mode=\"strong\">\n        Reveal your vote\n      </Button>\n    </form>\n  )\n})\n\nexport default RevealPanel\n","import { useCallback, useState } from 'react'\n\nimport { useSidePanel } from './useSidePanel'\nimport { useDisputeActions } from './useCourtContracts'\nimport { useDispute } from './useDisputes'\n\nexport const REQUEST_MODE = {\n  NO_REQUEST: Symbol('NO_REQUEST'),\n  COMMIT: Symbol('COMMIT'),\n  REVEAL: Symbol('REVEAL'),\n  APPEAL: Symbol('APPEAL'),\n}\n\nexport function usePanelRequestMode(requestPanelOpen) {\n  const [requestMode, setRequestMode] = useState({\n    mode: REQUEST_MODE.NO_REQUEST,\n    data: {},\n  })\n\n  const updateMode = useCallback(\n    newMode => {\n      setRequestMode(newMode)\n      requestPanelOpen()\n    },\n    [requestPanelOpen]\n  )\n\n  return [requestMode, updateMode]\n}\n\n// Requests to set new mode and open side panel\nexport function usePanelRequestActions(request) {\n  const commit = useCallback(\n    outcome => {\n      request({ mode: REQUEST_MODE.COMMIT, data: { outcome } })\n    },\n    [request]\n  )\n\n  const reveal = useCallback(() => {\n    request({ mode: REQUEST_MODE.REVEAL })\n  }, [request])\n\n  const appeal = useCallback(\n    confirm => {\n      request({ mode: REQUEST_MODE.APPEAL, data: { confirm } })\n    },\n    [request]\n  )\n\n  return { commit, reveal, appeal }\n}\n\nexport function useDisputeLogic(disputeId) {\n  const panelState = useSidePanel()\n  const [requestMode, setRequestMode] = usePanelRequestMode(\n    panelState.requestOpen\n  )\n  const requests = usePanelRequestActions(setRequestMode)\n\n  const actions = useDisputeActions()\n  const [dispute, disputeFetching, error] = useDispute(disputeId)\n\n  return {\n    actions,\n    error,\n    dispute,\n    disputeFetching,\n    requestMode,\n    panelState,\n    requests,\n  }\n}\n","import React, { useCallback, useMemo } from 'react'\nimport { BackButton, Bar, Box, GU, SidePanel, Split } from '@aragon/ui'\nimport { useHistory } from 'react-router-dom'\n\nimport AppealPanel from './panels/AppealPanel'\nimport Banner from './PrecedenceCampaign/PrecedenceCampaignBanner'\nimport CommitPanel from './panels/CommitPanel'\nimport DisputeEvidences from './DisputeEvidences'\nimport DisputeInfo from './DisputeInfo'\nimport DisputeTimeline from './DisputeTimeline'\nimport MessageCard from '../MessageCard'\nimport NoEvidence from './NoEvidence'\nimport RevealPanel from './panels/RevealPanel'\nimport TitleHeader from '../TitleHeader'\n\nimport { Status as DisputeStatus } from '../../types/dispute-status-types'\nimport { useDisputeLogic, REQUEST_MODE } from '../../hooks/dispute-logic'\nimport { DisputeNotFound } from '../../errors'\nimport { toMs } from '../../utils/date-utils'\nimport { toUtf8String } from '../../lib/web3-utils'\n\nimport timelineErrorSvg from '../../assets/timelineError.svg'\n\nconst DisputeDetail = React.memo(function DisputeDetail({ match }) {\n  const history = useHistory()\n  const { id: disputeId } = match.params\n\n  const {\n    actions,\n    error,\n    dispute,\n    disputeFetching,\n    requestMode,\n    panelState,\n    requests,\n  } = useDisputeLogic(disputeId)\n\n  const evidenceList = dispute?.evidences\n\n  const evidences = useMemo(\n    () =>\n      (evidenceList || []).map(evidence => ({\n        ...evidence,\n        createdAt: toMs(evidence.createdAt),\n        data: toUtf8String(evidence.data),\n      })),\n    [evidenceList]\n  )\n\n  const handleBack = useCallback(() => {\n    history.push('/disputes')\n  }, [history])\n\n  const noDispute = !dispute && !disputeFetching\n\n  if (noDispute && !error) {\n    throw new DisputeNotFound(disputeId)\n  }\n\n  const DisputeInfoComponent = (\n    <DisputeInfo\n      id={disputeId}\n      error={error}\n      dispute={dispute}\n      loading={disputeFetching}\n      onDraft={actions.draft}\n      onRequestCommit={requests.commit}\n      onRequestReveal={requests.reveal}\n      onLeak={actions.leak}\n      onRequestAppeal={requests.appeal}\n      onAutoReveal={actions.requestAutoReveal}\n      onExecuteRuling={actions.executeRuling}\n    />\n  )\n\n  return (\n    <React.Fragment>\n      {dispute?.marksPrecedent && <Banner disputeId={disputeId} />}\n      <TitleHeader title=\"Proposals\" />\n      <Bar>\n        <BackButton onClick={handleBack} />\n      </Bar>\n      {dispute?.status === DisputeStatus.Voided ? (\n        DisputeInfoComponent\n      ) : (\n        <Split\n          primary={\n            <React.Fragment>\n              {DisputeInfoComponent}\n              {(() => {\n                if (disputeFetching || error?.fromGraph) {\n                  return null\n                }\n                if (evidences.length === 0) {\n                  return <NoEvidence />\n                }\n                return (\n                  <DisputeEvidences dispute={dispute} evidences={evidences} />\n                )\n              })()}\n            </React.Fragment>\n          }\n          secondary={\n            <React.Fragment>\n              <Box\n                heading=\"Proposals timeline\"\n                padding={error?.fromGraph ? 3 * GU : 0}\n              >\n                {(() => {\n                  if (error?.fromGraph) {\n                    return (\n                      <MessageCard\n                        title=\"We couldnt load the proposal timeline\"\n                        paragraph=\"Something went wrong! Please restart the app\"\n                        icon={timelineErrorSvg}\n                        mode=\"compact\"\n                        border={false}\n                      />\n                    )\n                  }\n                  if (disputeFetching) {\n                    return <div css=\"height: 200px\" />\n                  }\n                  return <DisputeTimeline dispute={dispute} />\n                })()}\n              </Box>\n            </React.Fragment>\n          }\n        />\n      )}\n      <SidePanel\n        title={<PanelTitle requestMode={requestMode} disputeId={disputeId} />}\n        opened={panelState.visible}\n        onClose={panelState.requestClose}\n        onTransitionEnd={panelState.endTransition}\n      >\n        <div\n          css={`\n            margin-top: ${2 * GU}px;\n          `}\n        >\n          <PanelComponent\n            dispute={dispute}\n            requestMode={requestMode}\n            commit={actions.commit}\n            reveal={actions.reveal}\n            appealRound={actions.appealRound}\n            approveFeeDeposit={actions.approveFeeDeposit}\n            onDone={panelState.requestClose}\n          />\n        </div>\n      </SidePanel>\n    </React.Fragment>\n  )\n})\n\nconst PanelTitle = ({ requestMode, disputeId }) => {\n  const { mode, data } = requestMode\n\n  if (mode === REQUEST_MODE.COMMIT) {\n    return `Commit your vote on proposal #${disputeId}`\n  }\n\n  if (mode === REQUEST_MODE.REVEAL) {\n    return `Reveal your vote on proposal #${disputeId}`\n  }\n\n  if (mode === REQUEST_MODE.APPEAL) {\n    return data.confirm\n      ? `Confirm an appeal on proposal #${disputeId}`\n      : `Appeal ruling on proposal #${disputeId}`\n  }\n\n  return null\n}\n\nconst PanelComponent = ({\n  appealRound,\n  approveFeeDeposit,\n  commit,\n  dispute,\n  requestMode,\n  reveal,\n  ...props\n}) => {\n  const { mode, data } = requestMode\n\n  if (mode === REQUEST_MODE.COMMIT) {\n    return (\n      <CommitPanel\n        dispute={dispute}\n        outcome={data.outcome}\n        onCommit={commit}\n        {...props}\n      />\n    )\n  }\n\n  if (mode === REQUEST_MODE.REVEAL) {\n    return <RevealPanel dispute={dispute} onReveal={reveal} {...props} />\n  }\n\n  if (mode === REQUEST_MODE.APPEAL) {\n    return (\n      <AppealPanel\n        dispute={dispute}\n        onApproveFeeDeposit={approveFeeDeposit}\n        onAppeal={appealRound}\n        confirm={data.confirm}\n        {...props}\n      />\n    )\n  }\n\n  return null\n}\n\nexport default DisputeDetail\n","import React from 'react'\nimport { Redirect, Route, Switch } from 'react-router-dom'\n\nimport Dashboard from './components/Dashboard/Dashboard'\nimport Tasks from './components/Tasks/Tasks'\nimport Disputes from './components/Disputes/Disputes'\nimport DisputeDetail from './components/Disputes/DisputeDetail'\n\n// Preferences\nconst GLOBAL_PREFERENCES_QUERY_PARAM = '?preferences=/'\n\nexport default function Routes() {\n  return (\n    <Switch>\n      <Redirect exact from=\"/\" to=\"/dashboard\" />\n      <Route path=\"/dashboard\" component={Dashboard} />\n      <Route exact path=\"/tasks\" component={Tasks} />\n      <Route exact path=\"/disputes\" component={Disputes} />\n      <Route exact path=\"/disputes/:id\" component={DisputeDetail} />\n      <Redirect to=\"/dashboard\" />\n    </Switch>\n  )\n}\n\nexport function getPreferencesSearch(screen) {\n  return `${GLOBAL_PREFERENCES_QUERY_PARAM}${screen}`\n}\n","import React from 'react'\nimport { HashRouter } from 'react-router-dom'\nimport { Main, ToastHub } from '@aragon/ui'\nimport theme from './theme-court'\nimport AppLoader from './components/AppLoader'\nimport GlobalErrorHandler from './GlobalErrorHandler'\nimport MainView from './components/MainView'\nimport OnboardingLoader from './components/OnboardingLoader'\nimport EmailNotificationsLoader from './components/EmailNotificationsLoader'\nimport RequestPanel from './components/RequestPanel/RequestPanel'\nimport Routes from './Routes'\nimport { ActivityProvider } from './providers/ActivityProvider'\nimport { CourtClockProvider } from './providers/CourtClock'\nimport { CourtConfigProvider } from './providers/CourtConfig'\nimport { RequestQueueProvider } from './providers/RequestQueue'\nimport { WalletProvider } from './providers/Wallet'\nimport { useClientTheme } from './providers/ClientTheme'\n\nfunction App() {\n  const { appearance } = useClientTheme()\n  return (\n    <WalletProvider>\n      <HashRouter>\n        <ActivityProvider>\n          <Main\n            assetsUrl=\"./aragon-ui/\"\n            layout={false}\n            scrollView={false}\n            theme={theme[appearance]}\n          >\n            <GlobalErrorHandler>\n              <ToastHub threshold={1} timeout={1500}>\n                <CourtConfigProvider>\n                  <CourtClockProvider>\n                    <RequestQueueProvider>\n                      <MainView>\n                        <OnboardingLoader>\n                          <EmailNotificationsLoader />\n                          <AppLoader>\n                            <Routes />\n                          </AppLoader>\n                        </OnboardingLoader>\n                        <RequestPanel />\n                      </MainView>\n                    </RequestQueueProvider>\n                  </CourtClockProvider>\n                </CourtConfigProvider>\n              </ToastHub>\n            </GlobalErrorHandler>\n          </Main>\n        </ActivityProvider>\n      </HashRouter>\n    </WalletProvider>\n  )\n}\n\nexport default App\n","import { getNetworkType } from '../lib/web3-utils'\n\nconst ACTIVITY_KEY_REGEX = new RegExp(`^activity:${getNetworkType()}:`)\n\nexport function clearActivities() {\n  Object.keys(localStorage)\n    .filter(key => ACTIVITY_KEY_REGEX.test(key))\n    .map(activityKey => localStorage.setItem(activityKey, '[]'))\n}\n","import semverDiff from 'semver/functions/diff'\nimport semverSatisfies from 'semver/functions/satisfies'\n\nconst DEFAULT_VERSION = '0.0.0'\n\nexport function isNewVersion(lastVersion, currentVersion) {\n  if (!lastVersion && !currentVersion) {\n    return false\n  }\n\n  return semverDiff(lastVersion || DEFAULT_VERSION, currentVersion) !== null\n}\n\nexport function satisifesRange(version, fromVersion, toVersion) {\n  const range = `>${fromVersion || DEFAULT_VERSION} <=${toVersion}`\n\n  return semverSatisfies(version, range)\n}\n","import {\n  getLastPackageVersion,\n  getPackageVersion,\n  setPackageVersion,\n} from '../local-settings'\nimport { clearActivities } from './migrations'\nimport { isNewVersion, satisifesRange } from './helper'\n\nconst MIGRATIONS = [['1.0.0', () => clearActivities()]]\n\nexport function checkMigrations() {\n  const packageVersion = getPackageVersion()\n  const lastPackageVersion = getLastPackageVersion()\n\n  if (isNewVersion(lastPackageVersion, packageVersion)) {\n    // Save the current package version\n    setPackageVersion(packageVersion)\n\n    // Run each migration which falls in the range (lastPackageVersion, packageVersion]\n    for (const [version, migration] of MIGRATIONS) {\n      if (satisifesRange(version, lastPackageVersion, packageVersion)) {\n        // Run migration\n        migration()\n      }\n    }\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { createGlobalStyle } from 'styled-components'\nimport App from './App'\nimport initializeSentry from './sentry'\nimport { checkMigrations } from './migrations'\nimport { ClientThemeProvider } from './providers/ClientTheme'\nimport { SubGraphProvider } from './providers/Subgraph'\n\ninitializeSentry()\ncheckMigrations()\n\nconst GlobalStyle = createGlobalStyle`\n  body img {\n    user-select:none;\n  }\n`\n\nReactDOM.render(\n  <SubGraphProvider>\n    <GlobalStyle />\n    <ClientThemeProvider>\n      <App />\n    </ClientThemeProvider>\n    <App />\n  </SubGraphProvider>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}